[{"title":"C++连接MySQL","url":"/2022/03/29/C-%E8%BF%9E%E6%8E%A5MySQL/","content":"前言\r\n首先给出官方的参考资料：[传送门]\r\n\r\n你从我这条超链接进去之后是资料的前言，不过对配置真正有用的应该是[传送门]这个页面。然后根据你的系统选择页面就行。\r\n不过资料的前言也不是没有用，前言中提到了一个重要的事：（如果你使用的是Windows系统）你的Visual\r\nStudio版本和Connector版本必须匹配才行。以下是原文：\r\nOn Windows, Microsoft Visual Studio is required. The acceptable MSVC\r\nversions depend on your Connector/C++ version:\r\n\r\nConnector/C++ 8.0.19 and higher: MSVC 2019 or 2017.\r\nConnector/C++ 8.0.14 to 8.0.18: MSVC 2017 or 2015.\r\nConnector/C++ prior to 8.0.14: MSVC 2015.\r\n\r\n\r\n由于我也没太细看官方文档，基本都是云的，能在我的电脑上把代码跑起来就算配置好了，所以下文的方法只保证对我自己的环境有效。我使用的环境：Windows，Visual\r\nStudio 2019，MySQL8.0.26（并且有Connector C++组件） 。\r\n正文\r\n整个过程总共分4步：\r\n\r\n创建新项目\r\n设置包含路径\r\n设置库路径\r\n设置使用的库\r\n\r\n第一步：创建一个C++ 项目\r\n这个不用教吧？不过多少还是有些地方要注意的。\r\n主要在于创建完项目后：\r\n\r\n\r\n\r\n首先是选x86还是x64呢？这个要根据你的MySQL决定。\r\n其次是选择Debug还是Release呢？这个要选Release。\r\n\r\n那么选择Debug行不行呢？我觉得原则上是可以的，并且官方文档上也有相关的说明。但是实际构建后、进行测试的时候出现了问题：Visual\r\nStudio总会在执行代码中的connect时报bad_alloc异常。我在StackOverflow上找了好久也没找到解决办法，索性放弃了。\r\n\r\n第二步：设置包含路径\r\n首先，选择项目、属性。在选中配置属性下的C/C++下的常规。\r\n\r\nQ：我的配置属性下为什么没有C/C++选项？\r\nA：有一种可能，就是你创建项目时创建了一个空项目。这时只要你添加一个源文件，再打开项目、属性，就能在配置属性下找到C/C++了。\r\n\r\n然后，在附加包含目录中添加以下两条路径：\r\n你安装的盘:\\你的安装路径\\MySQL\\Connector C++ 8.0\\include\r\n你安装的盘:\\你的安装路径\\MySQL\\Connector C++ 8.0\\include\\jdbc\r\n\r\n注意：添加时可以按那个编辑按钮，通过这种方法添加不易出错。\r\n\r\n\r\n\r\n\r\n点击应用（当然，也可以所有步骤都完成后一起应用）\r\n第三步：设置库路径\r\n还是在项目的属性页，切换到配置属性下的链接器下的常规。\r\n然后，在附加库目录中添加以下路径：\r\n你安装的盘:\\你的安装路径\\MySQL\\Connector C++ 8.0\\lib64\\vs14\r\n第四步：设置使用的库\r\n还是在配置属性下的链接器下，切换到输入。\r\n在附加依赖项中添加：\r\nmysqlcppconn.lib mysqlcppconn8.lib\r\n最后，别忘了点击应用。\r\n最后的最后，需要将lib64下的dll文件复制到C:\\Windows\\System32或者是复制到项目的目录中（与你的exe文件同一个文件夹中）。\r\n\r\n冷知识：在Visual\r\nStudio中右键项目，在最后有在文件资源管理器中打开文件夹。可以快速定位项目。打开后进入x64文件夹（也有可能是x86，取决于你的设置），再打开Release。把lib64中的dll复制到这里面就可以了。\r\n\r\n\r\n\r\n\r\n测试\r\n","tags":["笔记"]},{"title":"Codeforces 770div2题解","url":"/2022/03/05/Codeforces-770div2%E9%A2%98%E8%A7%A3/","content":"\r\nA题\r\n给定一个字符串s，你能进行一个操作：把它变成s+rev(s)，或把它变成rev(s)+s。（rev(s)表示s的翻转，+表示字符串拼接），问恰好k次操作后能得到多少种不同的字符串。\r\n\r\n没啥好说的。\r\n如果字符串s是回文串，那么对s进行两种操作得到的都是相同的串，并且也是回文串。答案为1。\r\n如果字符串s不是回文串，那么对s进行两种操作之后得到的串不同，但都是回文串。答案为2。\r\n因此，只要判s是否是回文串即可。要注意特判k=0的情况，因为相当于没有操作，所以结果为1。\r\nAC代码：\r\n#include &lt;bits/stdc++.h&gt;using namespace std;string s;int main(){\tint t;\tscanf(\"%d\", &amp;t);\twhile (t--) {\t\tint n, k;\t\tscanf(\"%d%d\", &amp;n, &amp;k);\t\tcin &gt;&gt; s;\t\tbool flag = true;\t\tint l = 0, r = n - 1;\t\twhile (l &lt; r) {\t\t\tif (s[l] != s[r]) {\t\t\t\tflag = false;\t\t\t}\t\t\tl++, r--;\t\t}\t\tif (flag == true) {\t\t\tprintf(\"1\\n\");\t\t}\t\telse {\t\t\tif (k == 0) {\t\t\t\tprintf(\"1\\n\");\t\t\t}\t\t\telse {\t\t\t\tprintf(\"2\\n\");\t\t\t}\t\t}\t}\treturn 0;}\r\n\r\n学到了一种新的判断回文串的写法（但效率可能不高）：\r\ns != string(s.rbegin(), s.rend())\r\ns是string类型的字符串，s.rbegin(),\r\ns.rend()是s的两个反向迭代器。用这一句可以判断s是否是回文串。\r\n\r\n\r\nB题\r\nAlice和Bob各持有一个数d，分别是x和x+3，给定一个数组。Alice和Bob要对每一个进行如下两个操作中的一个：\r\n\r\n将d变成\r\n将d变成 (表示按位异或)\r\n\r\n注意：对不同的i能执行不同操作\r\n已知Alice和Bob中恰好一个能通过操作将d变成数y，给定x、y和数组a，请问Alice和Bob谁能得到数y？\r\n\r\n思维题。乍一看挺复杂的（尤其是的数据总让我觉得有什么的解法），但只要想通了就很简单。\r\nd加上a和d异或上a的奇偶性是相同的。也就是说，如果x能通过某个操作序列得到y，x与全部的异或（全加一起也行，但会爆int）起来，最后的到的结果的奇偶性与y是相同的。而x+3与x的奇偶性相反，也就是说无论进行什么样的操作，x+3奇偶性都不可能和y相同，更不要说得到y了。\r\n因此，只需要让x异或上数组a中的每一个数，如果得到的数奇偶与y相同，那么就是Alice能得到y，否则就是Bob能得到y。\r\n#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const int maxn = 1e5 + 10;int main(){\tint t;\tscanf(\"%d\", &amp;t);\twhile (t--) {\t\tint n, x;\t\tll y;\t\tscanf(\"%d%d%lld\", &amp;n, &amp;x, &amp;y);\t\tfor (int i = 1; i &lt;= n; i++) {\t\t\tint a;\t\t\tscanf(\"%d\", &amp;a);\t\t\tx ^= a;\t\t}\t\tif (x % 2 == y % 2) {\t\t\tprintf(\"Alice\\n\");\t\t}\t\telse {\t\t\tprintf(\"Bob\\n\");\t\t}\t}\treturn 0;}\r\n\r\nC题\r\n要求你在的矩阵中排列从到的个数。并且要求矩阵中每一行中的每一个区间内，的平均值都是一个整数。\r\n给定n、k。如果方案存在，输出一种方案，否则输出NO。\r\n\r\n首先题目要求每一行中任意一个区间中的平均值都是整数。那么首先：相邻两个数的奇偶性一定相同。进一步同一行内的数奇偶性一定相同。于是就有一种朴素的想法：将奇数偶数分开，按照等差数列的形式分别把每一行排上奇数和偶数。\r\n\r\n显然，这样排列可以保证每一行中任意一个区间内的平均数都是整数。（考虑对某个区间进行等差数列求和，其中一定含一个区间长度的项，因此区间和一定是区间长度的倍数）\r\n因此，只要给出的n和k能够让我们将奇数偶数排在不同行，就能构造出方案，否则不存在方案。\r\n有方案的情况就是n为偶数。注意特判n=1的情况。\r\n#include &lt;bits/stdc++.h&gt;using namespace std;int main(){\tint t;\tscanf(\"%d\", &amp;t);\twhile (t--) {\t\tint n, k;\t\tscanf(\"%d%d\", &amp;n, &amp;k);\t\tif (k == 1) {\t\t\tprintf(\"YES\\n\");\t\t\tfor (int i = 1; i &lt;= n; i++) {\t\t\t\tprintf(\"%d\\n\", i);\t\t\t}\t\t}\t\telse {\t\t\tif (n % 2 == 1) {\t\t\t\tprintf(\"NO\\n\");\t\t\t}\t\t\telse {\t\t\t\tprintf(\"YES\\n\");\t\t\t\tint cnt = 1;\t\t\t\tfor (int i = 1; i &lt;= n / 2; i++) {\t\t\t\t\twhile (cnt &lt;= i * k) {\t\t\t\t\t\tprintf(\"%d \", cnt * 2 - 1);\t\t\t\t\t\tcnt++;\t\t\t\t\t}\t\t\t\t\tprintf(\"\\n\");\t\t\t\t}\t\t\t\tcnt = 1;\t\t\t\tfor (int i = 1; i &lt;= n / 2; i++) {\t\t\t\t\twhile (cnt &lt;= i * k) {\t\t\t\t\t\tprintf(\"%d \", cnt * 2);\t\t\t\t\t\tcnt++;\t\t\t\t\t}\t\t\t\t\tprintf(\"\\n\");\t\t\t\t}\t\t\t}\t\t}\t}\treturn 0;}\r\n\r\nD题\r\n这是一道交互题。给定一个含n个非负整数的数组a，其中恰好有一个。你有不超过2n-2次询问机会，每次询问包含三个数，回答为。\r\n询问结束后，你可以给出两个数。如果或为，那么你就胜利了。\r\n\r\n首先考虑这样的4个数。是4个数中的严格的最小值。对于4个数字来说，所有可能的询问只有4种，分别记作，表示不选的那次询问。通过这4次询问我们能够确定哪两个数一定不是最小值。\r\n由于。通过计算：  ，并且。\r\n反过来，如果我们知道了的大小关系(比如，并且)但不知道的大小关系，那么我们起码能确定b，c一定不是最小值。\r\n我们可以维护4个数字，每次通过4次询问排除掉两个一定不是最小值的数字，再向其中添加两个数字。直到排除掉了n-2个数字，我们就能确定剩下的两个数字中一定有一个是最小值。\r\n如果n是偶数，那么需要次询问。\r\n如果n是奇数，那么需要次询问。\r\n\r\nE题\r\n给定m个数组，每个数组长度都是偶数。你需要将所有的数字分到两个多重集L和R中，并且使L，R相等。每个元素必须被分到其中一个多重集中。并且对于某一个数组，恰好一半的数要分到L中，另一半分到R中。\r\n给定m个数组，确定是否存在这种划分，如果存在，输出一种方案，否则输出“NO”。\r\n\r\n如果某个数字出现了奇数次，则没有答案。\r\n否则，可以构造一个二分图，左边部分表示数组（m个顶点），右边部分表示数字（相同的数字算一个顶点，最多个）。每个数组顶点都连接到数组中包含的所有数字，如果某个数在数组中出现了x次，那么两个顶点间就连x条边。\r\n“数字长度是偶数”，以及“每个数字都出现了偶数次”可以保证图中每个顶点的度一定是偶数。因此一定存在欧拉回路。构造出欧拉回路后，从左到右（从数组到数字）的边表示将数字放入L中，从右到左（从数字到数组）的边表示将数字放入R中。\r\n正确性：对于左边的每个顶点（数组），入度等于出度，因此每个数组被分成两半。对于右边的每个顶点（数字），入度等于出度，因此每个数字在L和R中出现的次数相同，L=R。\r\n","tags":["题解"]},{"title":"Codeforces 774div2题解","url":"/2022/03/05/Codeforces-774div2%E9%A2%98%E8%A7%A3/","content":"\r\nC题\r\n2的非负整数次幂和非负整数的阶乘称为powerful\r\nnumber。给定一个正整数n，要求找到一个最小的k，要求n可以表示成k个不同的powerful\r\nnumber的和。如果存在这样的k则输出k，反之输出-1.\r\n100组数据，\r\n\r\n首先，考虑将n表示成2的非负整数次幂要怎么做？十分简单，只要观察n的二进制表示即可。\r\nn的范围只有1e12，在1e12范围内的阶乘想必是很少的（经计算，只有14个）。每个阶乘都可以选或不选，共总情况，可以直接枚举。假设选出来的阶乘的和为s，那么接下来就只需要将n-s表示成2的幂了。\r\n结果就是选出来的阶乘个数和n-s的二进制中1的个数的和。当然是枚举所有情况中最小的一个。\r\n#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;ll fac[25];ll calc(ll x) { return x ? __builtin_popcountll(x) : 0; }int main(){\tfac[0] = 1;\tfor (int i = 1; i &lt;= 20; i++) {\t\tfac[i] = (i + 1) * fac[i - 1];\t}\tint t;\tscanf(\"%d\", &amp;t);\twhile (t--) {\t\tll n;\t\tscanf(\"%lld\", &amp;n);\t\tll min_cnt = INT_MAX;\t\tfor (ll i = 0; i &lt; (1 &lt;&lt; 15); i++) {\t\t\tll nn = n;\t\t\tfor (int j = 0; j &lt; 15; j++) \t\t\t\tif(i &amp; ((ll)1 &lt;&lt; j)) \t\t\t\t\tnn -= fac[j];\t\t\tif (nn &lt; 0) continue;\t\t\tmin_cnt = min(min_cnt, calc(i) + calc(nn));\t\t}\t\tprintf(\"%d\\n\", min_cnt);\t}\treturn 0;}\r\n\r\nD题\r\n给定一个n个顶点的树。如果一个点的点权等于它的邻居的点权和，那么这个点是good的。初始时，每个点都没有点权，现在希望你为每一个点分配一个点权，使得good的点个数最多。如果有多组解，输出整棵树点权和最少的方案。\r\n\r\n考虑整棵树只有两个点的情况，解一定是两个点的权都是1.\r\n当点多于2时，有结论：两个相邻的点一定不可能同时是good的。\r\n证明：\r\n\r\n当两个点权值相同时，只有这两个点没有其他邻居时两个点才可能都是good的。也就是只有两个点。\r\n当两个点权值不同时，权值小的不可能为good。\r\n\r\n因为两个相邻的点一定不可能同时是good的，因此一个good点的集合一定是树的一个独立集。问题就转化为了求树的最大独立集。\r\n点权最小的方案就是将独立集中的每个点的邻居的权值都设为1，这样得到的权值一定是最小的。\r\n关于最大独立集：\r\n\r\n一般图的最大独立集是NP-hard的。\r\n二分图可以用匈牙利算法，O(VE)\r\n树也是二分图，不过树更特殊，可以用O(V)的求最大独立集。\r\n\r\n","tags":["题解"]},{"title":"Eyjafjalla 题解","url":"/2021/09/26/Eyjafjalla-%E9%A2%98%E8%A7%A3/","content":"\r\n火山之国有n个城市，编号从1到n。城市1是国家的首都，叫做Eyjafjalla。一座巨大的火山坐落在首都，因此首都的温度相当高。我们用表示城市i的温度。\r\nn个城市由n-1条路相连。第i条路连接着和。如果比更接近首都，那么。首都的温度最高。\r\n如今新冠正在全世界蔓延。火山之国的总理想要知道：如果一种能在温度在下存活的病毒在城市x爆发，那么会有多少城市被感染。为了方便，我们假设：如果一个城市的温度介于并且与一个被感染的城市相邻，那么该城市就会被感染。\r\n数据规模：, , , , (表示总理的询问数量).\r\n\r\n显然，整个国家构成一个以首都为根的树。我们不妨把城市的温度作为节点的点权。\r\n\r\n \r\n\r\n火山之国的城市组成的树\r\n\r\n\r\n假如能在40度到80度生存的病毒在8号城市，爆发了……\r\n首先，先通过倍增找到离首都最近的，温度还在病毒存活温度区间中的x的祖先节点。在这个例子里就是3号节点。于是问题转化成3号节点的子树中有多少城市会被感染。（这里有一种特例，就是病毒在首都也能存活，那问题就相当于没变：在整棵树上有多少城市会被感染）\r\n然后求出这棵树的dfs序：\r\n\r\n \r\n\r\n火山之国的城市组成的树的dfs序\r\n\r\n\r\n为什么要用dfs序？因为dfs序有一个好的性质：任何一个节点的子树都对应着dfs序上的一段连续区间。例如3号节点的子树对应的就是图中的红色部分。\r\n也就是说，通过dfs序将子树上的查询转化为区间上的查询。题目中的每一个查询相当于在树的dfs序上的一段区间查询有多少个点的权值介于之间。实际上，在第一步倍增时，就已经保证了图中红色区间中所有节点的权值都小于，因此只要求有多少节点点权大于即可。\r\n而查询给定区间中有多少个数大于某个给定的数，这个要求可以用主席树或者归并树实现。\r\n队友写的代码：\r\n#include&lt;bits/stdc++.h&gt;using namespace std;const int N = 100010;int lg[N];//int n, t[N], dep[N], fa[N][25];vector&lt;int&gt; e[N];//DFS和倍增int tot = 0, id[N], RR[N], Val[N];void dfs(int x, int f, int depth) {    dep[x] = depth;    fa[x][0] = f;    for (int i = 1; (1 &lt;&lt; i) &lt;= depth; ++i)        fa[x][i] = fa[fa[x][i - 1]][i - 1];    id[x] = ++tot;    Val[id[x]] = t[x];    for (int y : e[x])        if (y != f) dfs(y, x, depth + 1);    RR[id[x]] = tot;}//找最优父亲节点int getFa(int x, int V) {    if (t[x] &gt; V) return -1;    for (int k = lg[dep[x]]; k &gt;= 0; k--) {        int f = fa[x][k];        if (f &amp;&amp; t[f] &lt;= V) x = f;    }    return x;}//区间查询：可以用主席树替代int Merge[25][N];void build(int depth, int l, int r) {    if (l == r) { Merge[depth][l] = Val[l]; return; }    int mid = (l + r) &gt;&gt; 1;    build(depth + 1, l, mid);    build(depth + 1, mid + 1, r);    //归并    for(int i = l,j = mid + 1, k = l; i &lt;= mid || j &lt;= r; ){        if(j &gt; r) Merge[depth][k++] = Merge[depth + 1][i++];        else if(i &gt; mid || Merge[depth + 1][i] &gt; Merge[depth + 1][j]) Merge[depth][k++]=Merge[depth + 1][j++];        else Merge[depth][k++] = Merge[depth + 1][i++];    }} int Query(int l, int r, int V, int L = 1, int R = n, int depth = 0) {    if (L &gt;= l &amp;&amp; R &lt;= r) {        int res = lower_bound(Merge[depth] + L, Merge[depth] + R + 1, V) - Merge[depth] - L;        return (R - L + 1) - res;    }    int mid = (L + R) &gt;&gt; 1, ans = 0;    if (mid &gt;= l) ans += Query(l, r, V, L, mid, depth + 1);    if (mid &lt;  r) ans += Query(l, r, V, mid + 1, R, depth + 1);    return ans;}int main(){    //init    lg[1] = 0;    for (int i = 2; i &lt; N; ++i)        lg[i] = lg[i / 2] + 1;    //read    scanf(\"%d\", &amp;n);    for (int i = 1; i &lt; n; ++i) {        int u, v;        scanf(\"%d%d\", &amp;u, &amp;v);        e[u].push_back(v);        e[v].push_back(u);    }    for (int i = 1; i &lt;= n; ++i)        scanf(\"%d\", &amp;t[i]);    //build    dfs(1, 0, 1);    build(0, 1, n);    //query    int q;    scanf(\"%d\", &amp;q);    while (q--) {        int x, l, r;        scanf(\"%d%d%d\", &amp;x, &amp;l, &amp;r);        if (t[x] &lt; l || t[x] &gt; r) {            puts(\"0\");            continue;        }        int root = getFa(x, r);        printf(\"%d\\n\", Query(id[root], RR[id[root]], l));    }    return 0;}\r\n","tags":["题解"]},{"title":"I love permutation 题解","url":"/2021/07/29/I-love-permutation-%E9%A2%98%E8%A7%A3/","content":"\r\n给定一个正整数和一个奇素数,并且满足.构造长度为的数列满足,求的逆序对数(答案对2取模).\r\n数据规模:数据组数​,\r\n​​.\r\n\r\n逆序对数对2取模,就是求排列是奇排列还是偶排列.\r\n令排列为,排列的第个数为,排列的逆序对数为.那么.当为1时,为偶排列,为-1时为奇排列.\r\n而​​.​\r\n对一般的题目,当然是无法再化简了.但对于这道题,由于,即.\r\n即​​.\r\n因此可以快速幂求出,就可以知道的值,进而得出的奇偶性.​\r\n","tags":["题解","数学"]},{"title":"Kaluza-Klein紧致化（1）","url":"/2025/05/05/Kaluza-Klein%E7%B4%A7%E8%87%B4%E5%8C%96%EF%BC%881%EF%BC%89/","content":"本部分内容翻译自一篇不知名讲义（导师掐头去尾把中间关于kk紧化的这一章发给了我，没有搜索到原讲义）。这是我见过的讲kk紧化的材料中相当亲民的，故翻译出来供大家参考。\r\n本人是物理系学生，对英语翻译的专业知识可以说一窍不通。若译文中夹杂着词不达意甚至是错译还请谅解。\r\n第44章 Kaluza-Klein理论\r\n【注意：我已经不再教这方面了，因此该部分已经不再更新/更正/改进，这份材料的时间已经很长了，我对其目前的内容不是很满意】\r\n44.1 动机：引力和规范理论\r\n观察爱因斯坦方程和变分原理，我们发现虽然必须手动添加向方程中物质部分，并且这部分是完全非几何的，但引力还是被很好的几何化了。对于基于拉格朗日量的唯象理论来说这是完全可以接受的（就像宇宙学中的理想流体），但对于把自然界中的基本力做统一描述来说，这明显是不可取的。\r\n目前，自然界的基本力由两种不同概念描述。一方面，正如我们在引力的例子中所看到的，力的地位被几何所取代，而另一方面，我们有电弱和强相互作用的规范理论（标准模型）或他们的（大一统，…）推广。\r\n因此，如果一个人想把这些力与引力统一起来，有两种可能路径：\r\n\r\n可以尝试去发掘引力作为规范理论的可能性（因此几何将作为规范原理的一个结果）\r\n或者可以尝试像引力一样去理解规范理论（因此使规范理论变成几何）\r\n\r\n第一条是个很有吸引力的想法，并且已经引起了广泛关注。它也是相当自然的，因为广义上来讲，由于引力具有的局域不变性（在广义坐标变换下，或者，采用主动观点，微分同胚下），引力已经是一个规范理论了。并且，克氏符在广义坐标变换下的表现，与在规范变换下非阿贝尔规范场的表现类似。并且协变导数和曲率的整套理论都在暗示引力是一种非阿贝尔规范理论。\r\n在第一种观点中，把克氏符和规范场（规范势）等同起来显得有点迷惑，因为我们最初引入度规对应引力场的势，引入克氏符对应场强（表示引力）。然而，正如我们所知道的，广义相对论中力的概念本身是依赖规范（坐标）的，因此场强表现得更像规范势，其曲率，黎曼曲率张量包含引力场规范不变的信息。这个反映了引力和其他理论不同的深刻性质事实，只是众多表明把引力作为真正的规范理论引入很难成功的迹象之一。然而，无论如何，让我们再沿着这个方向前进一会。\r\n很明显，规范群现在不应该作为类似或之类的“内部”对称群，而是应该作为一个时空对称群。人们发现这个语境下的规范群是：\r\n\r\n平移群（正如我们所看见的，这是自然的，因为坐标变换的生成元是无穷小平移）\r\n洛伦兹群（如果把克氏符看作类似引力的规范场的类似物，那么这是自然的）\r\n庞加莱群（上述二者的结合）\r\n\r\n然而，大体上讲，这些研究所告诉我们的就是，我们越让一个规范理论看起来像是爱因斯坦引力，它就越不像一个标准的规范理论，反之亦然。\r\n规范理论和引力的不同的主要来源是，在杨-米尔斯理论中内部指标与时空指标无关，然而在引力理论中二者是相同的\r\n- 对比与​.\r\n尤其是在引力中，人们可以把内部指标与时空指标缩并来获得一个标量拉氏量，即曲率张量的线性部分。这是很幸运的，因为从度规的角度讲，曲率标量已经是度规的二阶导数了。\r\n另一方面，对于Yang-Mills理论来说，这是不可能的。为了构建一个在规范群下是单态的拉氏量，人们需要分别去缩并时空指标和内部指标，即人们会得到拉氏量中的场强平方项。这给出了通常的包含规范势的二阶导数的作用量。\r\n尽管有这样以及其他的困难，但这个方法还没有完全被抛弃，并且规范理论的观点仍然是非常富有成果和有用的，前提是人们认识到将引力与标准规范理论区分开来的关键特征。\r\n上面提及的第二种可能性：把规范理论实现为引力，是更根本的想法，但究竟应该如何实现。关键的思想自从\r\n1919/20 (T.Kaluza) 就为人所知了，O.Klein\r\n也做出了重要贡献，那么这个思想是什么呢？\r\n","tags":["物理"]},{"title":"Kaluza-Klein紧致化（2）","url":"/2025/05/05/Kaluza-Klein%E7%B4%A7%E8%87%B4%E5%8C%96%EF%BC%882%EF%BC%89/","content":"\r\n44.2\r\nKaluza-Klein的奇迹：历史和概述\r\n在上个世纪的早期，我们已知的基本力除了引力就只有电磁力了。在1919年，Kaluza提交（向爱因斯坦）了一篇论文，其中写了他的几个卓越的发现。\r\n首先，他强调了克氏符和电磁场张量之间的相似性，\r\n\r\n然后他注意到看起来像是一个截断的克氏符，为了让这件事更明显，他又提出要在度规中引入第五维使得。这的确是能做到的。如果人们认同这个等式\r\n\r\n并且假设独立于第五维坐标，那么使用拓展到五维的克氏符标准公式，那就会发现\r\n\r\n如果事情直到这里为止，那还算不上太让人兴奋，但事情远不止如此。Kaluza继续证明了当人们假设有如下形式度规（带hat的量从现在起都表示五维的量）\r\n\r\n并计算五维 Einstein-Hilbert 拉氏量时，人们恰好就会发现四维的 Einstein-Maxwell 拉氏量\r\n\r\n这件事被人们亲切的称之为 Kaluza-Klein\r\n奇迹！此外，五维的测地线方程变成了带电粒子的四维洛伦兹力方程，并且在这个意义下引力和麦克斯韦理论已经被统一进了五维引力中。\r\n然而，即使这件事相当的令人惊奇，而且明显尝试告诉我们一些更深刻的东西，但是仍有许多的问题，并且我们对于我们到底做到了什么还不是很清楚：\r\n\r\n第五维应该被看作是真实的还是仅仅是一个数学工具？\r\n如果它被看作真实存在的，那人们为什么要假设场不依赖于？另一方面，是否人们不做这个假设就得不到\r\nEinstein-Maxwell 理论。\r\n再者，如果认真考虑第五维，我们如何解释我们假设？是否我们不这么做就得不到\r\nEinstein-Maxwell 理论。\r\n如果真有第五维，为什么我们还没发现它？\r\n\r\n尽管这些问题以及其他的问题都与非阿贝尔规范对称性或这些理论的量子行为有关，但是相反，Kaluza\r\n的思想从一开始就一直流行，像是要定期冬眠一样，周期性的被狂热追捧。在今天，Kaluza的思想与其许多化身、变种一起，成为了现代高能物理（超引力与弦论）的基础原料，并且上面提出的许多问题已经被处理、理解并成功克服。\r\n现在让我们更准确的审视它。我们考虑一个带有坐标的五维时空和一个形如式的度规。为了以后方便，我们会向度规中引入一个参数（即使目前我们令）然后把它写成\r\n\r\n更明确的说，我们有：\r\n\r\n对于度规的行列式有并且度规的逆的分量是\r\n\r\n（目前）我们将假设没什么东西是依赖于（在 Kaluza-Klein\r\n的原始文献中这个假设被称作圆柱性条件）\r\n引入记号\r\n\r\n容易发现克氏符是\r\n\r\n这看起来不是特别令人振奋，尤其是项的出现，但是 Kaluza\r\n没有气馁并继续计算黎曼张量，我将省略所有的黎曼张量分量，但我们需要的里奇张量是：\r\n\r\n这个结果看着好一点，并且是协变的，但还是看不太出什么来（然而，如果你像是在4.8节中引入Kaluza-Klein度规时一样，在一个正交归一基下计算，那么结果看起来会更好）。在这样一组基下，中只会出现前两项、中只会出现第一项、不变，以至于所有看起来不是协变的项都消失了。现在奇迹发生了。计算标量曲率时，所有讨厌的项都消失了，人们发现\r\n\r\n即 Einstein-Maxwell 理论的拉氏量。对于的情况，第二项会乘以。现在我们考虑五维的纯引力\r\nEinstein-Hilbert 作用量\r\n\r\n为了让对的积分收敛，我们假设方向是一个半径为的圆周，我们得到\r\n\r\n因此，如果我们令\r\n\r\n我们就能得到\r\n\r\n即精确的四维 Einstein-Maxwell\r\n拉氏量！耦合了引力和规范理论的系统，可以从高维的纯引力理论中产生，这个惊人的事实无疑是尝试告诉我们什么。\r\n","tags":["物理"]},{"title":"Kaluza-Klein紧致化（3）","url":"/2025/05/05/Kaluza-Klein%E7%B4%A7%E8%87%B4%E5%8C%96%EF%BC%883%EF%BC%89/","content":"\r\n44.3 规范不变性的起源\r\n至少在物理中，奇迹需要一个合理的解释。那么让我们尝试基于先验的理由去理解为什么会出现\r\nKaluza-Klein 奇迹。对此，让我们回想 Kaluza 对于线元的拟设：  并将其与五维线元的最一般形式对比，即  很明显，一般的五维线元在任意五维坐标变换下是不变的。然而，这对于\r\nKaluza-Klein 的拟设​不成立。\r\n然而，Kaluza-Klein线元的形式在以下两类坐标变换下是不变的：\r\n\r\n一种是四维的坐标变换  正如我们所知道的，在这种变换下，以保持不变的方式变换，像一个四维对偶矢量一样变换，因此​是不变的，并且因此整个度规是不变的。\r\n还剩一种是五维的坐标变换  在这个变换下，和都是不变的，但变成：  换句话说，Kaluza-Klein线元在平移配上的变换下是不变的（并且这当然也能直接从度规中读出）。\r\n\r\n这恰好就是矢势​的规范变换，并且在当前的语境下，我们发现规范变换作为五维广义协变的产物而出现。\r\n现在已经很清楚我们一定会得到四维的爱因斯坦-麦克斯韦作用量了：首先，由于对的积分，的平移是无关紧要的。并且从五维爱因斯坦-希尔伯特作用量出发，我们最终必定能得到一个依赖于和的四维作用量，其：\r\n\r\n广义协变（在四维意义下），\r\n包含到二阶导数，\r\n并且在的规范变换下不变。\r\n\r\n那么唯一的可能就是爱因斯坦-麦克斯韦作用量。\r\n一个考察规范对称性的起源的富有成效的方法，是将其作为“在上移动一个常数（我想这里的constant作者是指不依赖于？）是等度规”的一个结果，即是度规的一个Killing矢量场。方向上的“内部的”圆周的等度规群即变成了四维理论的规范群。\r\n从这个视角来看，矢势的规范变换起源于沿矢量场的李导数： \r\n这个观点在人们想要通过这个方式得到非阿贝尔规范对称性的时候变得尤为重要：人们从带有等度规群的更高维内部空间出发，并为度规做类似的拟设。那么在更高维的一般的坐标变换中，仍有依赖于的内部空间的等度规。这些作用类似于度规的非分块对角部分的非阿贝尔规范变换，并且在内部空间积分时，可以保证得到（也许还有其他东西）四维爱因斯坦-希尔伯特以及杨-米尔斯作用量。\r\nWhat's Next?\r\n由于拖更太久，知乎答主禹辰将原讲义的后续内容（即整个讲义的44章）全部翻译了。链接在此。这个系列后续应该会更新一些其他KK理论相关的内容，比如下期预计介绍如何使用\r\nMathematica 的 xTensor\r\n包快速完成关于KK理论中张量的计算。至于后续的内容，诸如该理论的发展、问题以及如何作为“紧致化”思想的起源被吸收进弦论等等……如果我能学到，或许还会继续更新。\r\n","tags":["物理"]},{"title":"Kaluza-Klein紧致化（4）","url":"/2025/05/05/Kaluza-Klein%E7%B4%A7%E8%87%B4%E5%8C%96%EF%BC%884%EF%BC%89/","content":"\r\n"},{"title":"NOeSIS","url":"/2022/02/14/NOeSIS/","content":"情人节的凌晨打通了NOeSIS02。\r\n","tags":["感想","总结"]},{"title":"NOeSIS01","url":"/2021/07/28/NOeSIS01/","content":"高质量的免费游戏NOeSIS01，据说是悬疑系AVG的佳作。\r\n游戏体验相当不错。整个游戏的日常和悬疑部分大概是55开，并且在整个流程中是交替进行的。作者非常善意的没有让悬疑的部分连在一起，一直吊着玩家的心。也没有让日常的部分连在一起，让玩家会玩着玩着犯困。\r\n日常的部分很有趣（由于人设比较有冲击力，我觉得不会让玩家睡着），至少是一般以上水平。\r\n而悬疑（恐怖）的部分很出彩。首先没有jump\r\nscare是应该夸的，然后文本和音乐的气氛渲染也十分到位。有两首BGM真的听得我头皮发麻（尤其是那个叫Asia的）。总之就是光凭文本音乐和图片（不加jump\r\nscare）吓到我了。\r\n剧情......可以说是跌宕起伏了，完全没猜到结局。故事本身并不复杂，但是作者想要靠故事传达的思想我似乎并没有理解。我觉得是因为有点谜语人，不过也可能是因为我对游戏中出现的什么哲学心理学一窍不通？233\r\n关于这部分，引一个大佬在steam的评价：\r\n\r\n关于里面一些关于生命、存在和价值之类的思考，很大一部分应该是受到生存论取向的影响，可以看到文本中大量出现的各个欧洲非理性主义哲学家的语录等（尼采表示勿cue）。如果想补充了解相关知识，比较快捷的方法是直接读比较权威的现代西方哲学史教材，毕竟原著再珍贵、缺乏背景知识连基本认知都没有的话还是挺困难的。想要了解真实思想的话还是推荐原著，但是如果开场就读现象学的话其实不是很合适，推荐从黑格尔和康德开始...（省略号中是剧透内容）...吃一通非理性主义大家，比如大家往往津津乐道的叔本华和尼采，然后读一下海德格尔的《存在与时间》，理解会更加体系化。以上是关于游戏中这些带有哲学性质的思考的内容，这也是我觉得这游戏最精彩的灵魂部分了。\r\n\r\n显然，这东西对我来说门槛还是太高了。\r\n但虽然说是谜语人，但其实也没那么迷。对话听不懂就听不懂，事实上，按照剧情，其实我们主角大部分时间就是不懂他们在说啥的233，这可能是某种提升玩家代入感的方式？233（事实上，作者在完结后的“开发者的话”部分提起过这件事，不过那段对话已经找不到了233，不过这说明这种文本风格可能确实是作者有意为之？）\r\n虽然时间线我始终没搞太懂，男主的感情线我也没太明白，结局也没太明白，悬疑恐怖AVG也不适合所有人。但我觉得起码属于佳作以上的水平了。\r\nPS：整个系列有三部（我这里提到的仅仅是第一部），而且前两部都有重制版。内容可以说是相当丰富了。\r\nPPS：这个游戏的配乐相当不错，如果谁吃了我这个安利去玩了的话，一定要在主界面多呆一会。\r\n最后，明明我在写这个评价之前还在想：“啊，在完全没被剧透过的情况下看完一个故事真好”。然后我为了写这个评价，去看了看游戏内置的彩蛋，然后就看见了作者塞进彩蛋里的对第二部的剧透？\r\n对了，虽然我这个是安利，但还是帮大家避个雷，贴一个这个游戏在steam上的成人内容描述：\r\n\r\n开发者对内容描述如下：\r\n该游戏有暴力血腥内容，可能包含未成年人不适应观看内容。\r\n\r\n","tags":["感想"]},{"title":"One Occurrence 题解","url":"/2022/02/01/One-Occurrence-%E9%A2%98%E8%A7%A3/","content":"\r\nOne\r\nOccurrence：\r\n给定一个数列a，q个询问，每个询问给出一个区间，问区间内是否有恰好出现一次的数字，如果有输出任意一个，否则输出0。\r\nI :\r\n第一行为一个整数\r\n第二行个整数\r\n第三行一个整数\r\n接下来q行，每行一个询问\r\nO:\r\n输出区间内任意一个恰好出现一次的数字，如果不存在输出。\r\n\r\nCF上2400分的题，这应该是我第一次AC这个难度的题目（虽然也是看着题解AC的）\r\n官方题解：\r\n假设所有询问都有相同的有边界。那么询问的答案应该是一个整数，使得前缀上的上最后一个出现的在区间内，倒数第二个出现的在区间外（或不存在）。更正式的说，令为使得并且的最大下标。（即左边第一个等于的数的位置）如果不存在这样的j，则为（官方题解这里是，因为他们的数组下标从开始），询问的答案就是某个数，满足并且（并且是数在最右边出现的位置）\r\n对于一个固定的右边界，我们可以建一棵线段树，对于每个索引，是在中最右边的位置，储存的值。（如果不是在中最右边的位置则赋值为INF）\r\n在这样的树上查询区间的最小值，设最小值的位置为，如果最小值（也就是）小于，那么就是可行的答案。否则就没有答案。\r\n但是无法为每一个可能的r都建立一颗线段树，因此要么使用主席树，要么按右边界对询问排序，并在移动右边界时维护线段树。\r\n注意：\r\n本题允许离线，因此可以使用线段树，如果强制在线，那就只能使用主席树了。\r\n以下是我的理解：\r\n对于所有右边界相同的询问，可以通过建一棵线段树维护来得到答案。然而对所有可能的r建树的开销太大。要么用持久化，要么把询问离线、排序，在计算f的过程中修改线段树。\r\n因为的值与在区间中上一次出现的位置有关，因此开一个数组pos记录上一次出现的位置。如果之前没有出现过，那么为，否则为左边第一个等于的数的位置。\r\n维护数组f的代码大致是这样的：\r\nfor (int i = 1; i &lt;= n; i++) {    if (pos[a[i]]) f[pos[a[i]]] = INF;    f[i] = pos[a[i]];    pos[a[i]] = i;}\r\n因为实际上使用线段树维护数组，所以每个修改的位置实际上都要改成对线段树单点修改。可以使用单点修改线段树，比区间修改的线段树代码量小。\r\n\r\n想想为什么要使用线段树而不能直接使用数组f？因为需要快速求区间。\r\n\r\n\r\n因为统计答案时需要最小值的坐标，因此这道题用的线段树与普通的最值线段树不太一样，不过稍微魔改一下就行。\r\n另外，有一个关于pair的一个小技巧：std::min有个专门用在pair&lt;int,\r\nint&gt;上的重载。首先返回第一关键字较小的，第一关键字一样时返回第二关键字小的。用这种方法可以缩短魔改之后的线段树代码。\r\ntypedef pair&lt;int, int&gt; PII; // 第一关键字为最小值，第二关键字为最小值的位置struct Node {    int l, r;    PII min;} t[maxn &lt;&lt; 2];inline void pushup(int x) {    t[x].min = min(t[ls(x)].min, t[rs(x)].min);}\r\n\r\n最后是统计答案：当维护数组的循环走到某个数时，就建立起了区间的线段树，这时即可处理所有右边界为的询问。\r\n维护数组的代码稍微加上些东西就是统计答案的代码：（当然，修改的位置已经换成了线段树单点修改）\r\nfor (int i = 1, j = 1; i &lt;= n; i++) {    if (pos[a[i]]) update(root, pos[a[i]], INF);    update(root, i, pos[a[i]]);    for (; Q[j].r == i &amp;&amp; j &lt;= q; j++) {        PII tmp = ask(1, Q[j].l, Q[j].r);        if (tmp.first &lt; Q[j].l) ans[Q[j].id] = a[tmp.second];    }    pos[a[i]] = i;}\r\n完整代码：\r\n#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const int maxn = 5e5 + 10;const int INF = 0x3f3f3f3f;typedef pair&lt;int, int&gt; PII;struct Node {    int l, r;    PII min;} t[maxn &lt;&lt; 2];struct query {    int l, r, id;}Q[maxn];int a[maxn], pos[maxn];int ans[maxn];inline int ls(int x) { return x &lt;&lt; 1; }inline int rs(int x) { return x &lt;&lt; 1 | 1; }inline void pushup(int x){    t[x].min = min(t[ls(x)].min, t[rs(x)].min);}int root = 1;void build(int x, int l, int r){    t[x].l = l, t[x].r = r;    if (l == r) {        return;    }    int mid = (l + r) &gt;&gt; 1;    build(ls(x), l, mid);    build(rs(x), mid + 1, r);    pushup(x);}PII ask(int x, int l, int r){    if (t[x].l == l &amp;&amp; t[x].r == r) return t[x].min;    int mid = (t[x].l + t[x].r) &gt;&gt; 1;    if (mid &gt;= r) return ask(ls(x), l, r);    else if (mid &lt; l) return ask(rs(x), l, r);    else return min(ask(ls(x), l, mid), ask(rs(x), mid + 1, r));}void update(int x, int pos, ll val){    if (t[x].l == t[x].r) {        t[x].min = PII(val, pos);        return;    }    int mid = (t[x].l + t[x].r) &gt;&gt; 1;    if (mid &gt;= pos) update(ls(x), pos, val);    else if (mid &lt; pos) update(rs(x), pos, val);    pushup(x);}int main(){    int n, q;    scanf(\"%d\", &amp;n);    for (int i = 1; i &lt;= n; i++) {        scanf(\"%d\", &amp;a[i]);    }    scanf(\"%d\", &amp;q);    for (int i = 1; i &lt;= q; i++) {        scanf(\"%d%d\", &amp;Q[i].l, &amp;Q[i].r);        Q[i].id = i;    }    build(root, 1, n);    sort(Q + 1, Q + 1 + q, [](query q1, query q2) {        return q1.r == q2.r ? q1.l &lt; q2.l : q1.r &lt; q2.r;    });    for (int i = 1, j = 1; i &lt;= n; i++) {        if (pos[a[i]])            update(root, pos[a[i]], INF);        update(root, i, pos[a[i]]);        for (; Q[j].r == i &amp;&amp; j &lt;= q; j++) {            PII tmp = ask(1, Q[j].l, Q[j].r);            if (tmp.first &lt; Q[j].l) ans[Q[j].id] = a[tmp.second];        }        pos[a[i]] = i;    }    for (int i = 1; i &lt;= q; i++)        printf(\"%d\\n\", ans[i]);}\r\n","tags":["题解"]},{"title":"Product of GCDs 题解","url":"/2021/07/29/Product-of-GCDs-%E9%A2%98%E8%A7%A3/","content":"\r\n给出一个多重集,给出一个数,保证​.对所有大小为的子集中的元素计算.求所有子集的乘积.最后结果对​取模.\r\n数据规模:​,\r\n​, 中元素.\r\n\r\n可以想到,直接求出所有大小为​的子集,再求​​,再乘在一起,那是十分不现实的.\r\n这时有一个常用到的思路:总数不容易求，那就转化为求每个数的贡献.\r\n简单来说,如果为的子集个数有个,那么​(显然子集可能出现的不可能比中最大值还大).\r\n那么枚举每一个可能出现的​​,求出它出现的次数(也就是所谓的贡献)即可.\r\n那么如何计算为的子集个数呢?\r\n我们先预处理出一个数组​​​, ​​​​表示​​中因子包含​​​的数的个数(就是​​的倍数个数).\r\n对每一个​,由​​倍数组成的​个元素的子集共有.\r\n但个子集实际上包含了​的情况(比如集合的为).\r\n所以要求为的子集个数我们还要在的基础上减掉​的情况.\r\n也就是.\r\n这样这题的大体思路就完成了,然后就是各种细节(主要是题目没有保证​是素数,这个属实毒瘤).\r\n.\r\n\r\n首先求需要用欧拉降幂.但不是素数要注意使用拓展欧拉定理.\r\n由于​是组合数,用欧拉定理的时候会有组合数取模.由于​不是素数,我们不能用卢卡斯定理,只能通过杨辉三角递推出组合数再取模.\r\n因为不是素数,使用拓展欧拉定理需要求,注意到,这个数据量只能分解质因数求了.​\r\n\r\n","tags":["题解","数学"]},{"title":"Random Walk 2 题解","url":"/2021/08/04/Random-Walk-2-%E9%A2%98%E8%A7%A3/","content":"\r\n给定一个​个点的有向完全图,假设有人在​时刻在节点​.接下来每时刻,他都有概率​从点​到点​​.​.\r\n如果他在时刻在点,时刻还在点.那么他将一直停留在点.\r\n表示从点出发,并停留在点的概率.求.并将取模后的矩阵输出.\r\n\r\n首先,我们可以通过分析得到​​.\r\n 这里需要注意的是求和号条件那里的​​​​​​.当​​​​​​​时:\r\n对式1,​​​​​​​这一项表示已经停在点​​​​​​​了,没法到达点​​​​​​​​,因此需要去掉.\r\n对式2,后面加的一项就是时的情况.\r\n这个很重要.\r\n观察求和式的形式,其与我们学过的矩阵乘法​十分类似.因此我们可以尝试把这个求和写成两个矩阵相乘.\r\n但是注意我们求和中的和不能取等.这时通常有两个解决办法.\r\n\r\n容斥,.然后把前一项写成矩阵相乘.\r\n我们不妨把这个求和看作两个特殊的矩阵相乘.特殊就特殊在相乘后使得自然为,这样​自然相等.\r\n\r\n官方题解中使用的是第二种办法.可能第一种办法也好使?反正我是没试过,不过多少是个思路.\r\n这也就是官方题解中的\r\n\r\n构造无自环矩阵,……\r\n\r\n无自环指的是去掉有向完全图的自环.这样的值就为,而由的定义,为.这样矩阵(为组成的矩阵)相乘后自然为​.\r\n\r\n \r\n\r\n三个点的无自环有向完全图和它的W矩阵\r\n\r\n\r\n也因此,需要注意下面的​​表示可能是题目中给出的​​矩阵,也可能是无自环矩阵​​​​.下面用到的地方我都会我会相应地注明.\r\n接下来我们规定一下使用的记号​​​.​即​为矩阵​的第​个对角元.​为矩阵​第​​行除对角元以外其他元素的和.这里的是题目中给的而不是我们上面提到的​​.毕竟我没必要给0起个名\r\n我们使用刚才的记号来重写式子1,2:  (这里的是我们之前构造的无自环矩阵,因此这里的求和没有​​的条件)\r\n在刚才,我们已经说明了可以看成两个矩阵相乘.根据式3,4,我们发现矩阵大概能写成这个样子:  而从式3,4中可以看出,只有当​时的值不为,因此​是一个对角阵.\r\n那么这个对角阵具体是什么呢?\r\n令矩阵​分别为: \r\n则 \r\n\r\n这里需要用到我们的线性代数知识:对对角阵求逆的结果仍是对角阵.对角线上的元素为之前的倒数.并且左乘一个对角阵相当于将其对角线上的元素乘到矩阵的每一行上.\r\n\r\n那么,同理,我们也能写出:  整理一下,就可以得到  套一个矩阵求逆板子即可.\r\n后记:大部分人可能想不到把递推式写成矩阵其实我也想不到,思路可能是来自2019年的国家集训队论文《浅谈图模型上的随机游走问题》,其中把图模型上的随机游走问题和矩阵联系了起来.\r\n","tags":["题解","数学"]},{"title":"Unstable String 题解","url":"/2022/01/24/Unstable-String-%E9%A2%98%E8%A7%A3/","content":"\r\n题面：\r\n给定一个由0,1,?组成的字符串s。\r\n如果一个串由0,1组成，并且相邻两个字符不同，那么我们称之为不稳定字符串。\r\n如果一个串由0,1,?组成，并且你能通过将？替换成0或1（每个？都可以独立的替换成0或1），那么我们称之为美丽字符串。\r\n计算s的美丽连续子串的数量。\r\nI:\r\n第一行为数据组数\r\n每组数据仅一行，包含字符串（）。\r\n保证所有组数据的之和小于。\r\nO:\r\n输出s的美丽子串的数量。\r\n\r\n首先确认一下题意：题面最后一句原文是这样的：\r\n\r\nCalculate the number of beautiful contiguous substrings of the string\r\n.\r\n\r\n就是让你计算s的美丽连续子串的数量。\r\n而说美丽串的定义时，原文：\r\n\r\nLet's call a string beautiful if it consists of the\r\ncharacters 0, 1, and ?, and you can replace the characters ? to 0 or 1\r\n(for each character, the choice is independent), so that the string\r\nbecomes unstable.\r\n\r\n但你通过看样例就会发现，0?10的答案是8，那肯定是把1，0这样的也算上去了，也就是说答案中要求的美丽，不一定非要包含?。\r\n那么如果一个串是美丽的，那么它的任意连续子串都是一个美丽连续子串。因此对一个美丽串统计答案时就是。只需要找出中有多少美丽串，并统计它们的长度。\r\n如何找中美丽串的个数\r\n\r\n在串中，两个挨着的1或两个挨着的0一定表示上一个美丽串结束了，可以统计它的答案了，下一个美丽串开始了。\r\n美丽的美丽的\r\n如果出现了问号？，如果有偶数个问号，并且问号前后同为0或同为1；或者是有奇数个问号，问号前后不同。那么在问号的结尾处表示上一个不稳定串结束了，在问号开头处表示下一个不稳定串开始了。\r\n美丽的美丽的\r\n如果出现了?，如果有奇数个问号，并且问号前后同为0或同为1，那么问号分割的两部分就能合并到一起\r\n美丽的\r\n\r\n然后统计所以美丽串的长度，求阶乘再相加即可。\r\n虽然话是这么说，不过我的队友用了一种更巧妙的方法，其实基本思路是一样的，只不过避免了计算阶乘。\r\nAC代码：\r\n#include &lt;bits/stdc++.h&gt;using namespace std;long long t, ans, pos, cnt;string s;int main(){\tcin &gt;&gt; t;\twhile (t--)\t{\t\tans = 0, cnt = 0, pos = 0;\t\tcin &gt;&gt; s;\t\tfor (int i = 0; i &lt; s.size(); ++i)\t\t{\t\t\tif (s[i] != '?')\t\t\t{\t\t\t\tif (i != 0 &amp;&amp; s[i] == s[i - 1])\t\t\t\t\tpos = cnt;\t\t\t\tcnt = 0;\t\t\t}\t\t\telse\t\t\t{\t\t\t\tif (i != 0) \t\t\t\t\tif (s[i - 1] == '0')\t\t\t\t\t\ts[i] = '1';\t\t\t\t\telse\t\t\t\t\t\ts[i] = '0';\t\t\t\tcnt++;\t\t\t}\t\t\tpos++;\t\t\tans += pos;\t\t}\t\tcout &lt;&lt; ans &lt;&lt; \"\\n\";\t}}\r\n","tags":["题解"]},{"title":"Welze算法求最小圆覆盖","url":"/2021/05/03/Welzl%E7%AE%97%E6%B3%95%E6%B1%82%E6%9C%80%E5%B0%8F%E5%9C%86%E8%A6%86%E7%9B%96/","content":"\r\n给定平面上的个点，求一个最小的圆使得所有的点都落在圆内。\r\n\r\n求解上述问题便是算法的作用。其期望复杂度可以达到​。\r\n  定理：对于平面上任意个点，在其最小覆盖圆外取第个点。那么第个点一定在这个点的最小覆盖圆上。\r\n有了这个定理，就可以进行算法了。先取3个点建立一个圆(不共线的三个点能确定一个圆，如果共线就取距离最远的两个点作为直径建立圆)，然后遍历剩下的所有点，对于一个遍历到的点：\r\n\r\n如果该点在圆内，那么最小覆盖圆不变。\r\n如果该点在圆外，根据上述定理，该点一定在想要求得的最小覆盖圆上，又因为三个点才能确定一个圆，所以需要枚举之前的点来找剩下的两个点。直到找到两个点，使得与确定的圆能够将之前的所有点包在里面(或者在圆上)。\r\n\r\n写成代码就是：\r\n// a[] 存放需要求最小圆覆盖的所有点，n 为点的数量// radius 为圆半径，center为圆心，都是全局变量// point_in 函数判断一个点是否在最小覆盖圆内// circle_center 函数有两个重载，一个用两个点确定圆，一个用三个点确定圆// dist 函数计算距离void min_circle_cover(point a[], int n){\tradius = 0;\tcenter = a[0];\tfor (int i = 1; i &lt; n; i++) {\t\tif (!point_in(a[i])) {\t\t\tcenter = a[i];\t\t\tradius = 0;\t\t\tfor (int j = 0; j &lt; i; j++) {\t\t\t\tif (!point_in(a[j])) {\t\t\t\t\tcircle_center(a[i], a[j], center);\t\t\t\t\tradius = dist(a[j], center);\t\t\t\t\tfor (int k = 0; k &lt; j; k++) {\t\t\t\t\t\tif (!point_in(a[k])) {\t\t\t\t\t\t\tcircle_center(a[i], a[j], a[k], center);\t\t\t\t\t\t\tradius = dist(a[k], center);\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t}\t\t\t}\t\t}\t}}\r\n关于这个期望线性复杂度，我并不会证明。\r\n只要调用之前调用随机排列一下，就可以保证期望线性复杂度。\r\n这里给一个完整代码（洛谷p1742的AC代码）：\r\n#include &lt;bits/stdc++.h&gt;using namespace std;const int maxn = 1e5 + 10;const double eps = 1e-8;int cmp(double x) {\tif (fabs(x) &lt; eps) return 0;\tif (x &gt; 0) return 1;\treturn -1;}struct point {\tdouble x, y;\tpoint() {}\tpoint(double a, double b) : x(a), y(b) {}\tfriend point operator-(const point&amp; a, const point&amp; b) {\t\treturn point(a.x - b.x, a.y - b.y);\t}\tdouble norm() {\t\treturn sqrt(pow(x, 2) + pow(y, 2));\t}}p[maxn];double dist(const point&amp; a, const point&amp; b) {\treturn (a - b).norm();}void circle_center(point p0, point p1, point&amp; cp) {\tcp.x = (p0.x + p1.x) / 2;\tcp.y = (p0.y + p1.y) / 2;}void circle_center(point p0, point p1, point p2, point&amp; cp) {\tdouble a1 = p1.x - p0.x, b1 = p1.y - p0.y, c1 = (a1 * a1 + b1 * b1) / 2;\tdouble a2 = p2.x - p0.x, b2 = p2.y - p0.y, c2 = (a2 * a2 + b2 * b2) / 2;\tdouble d = (a1 * b2 - a2 * b1);\tcp.x = p0.x + (c1 * b2 - c2 * b1) / d;\tcp.y = p0.y + (a1 * c2 - a2 * c1) / d;}double radius; point center;bool point_in(const point&amp; p) {\treturn cmp(dist(p, center) - radius) &lt; 0;}void min_circle_cover(point a[], int n){\tradius = 0;\tcenter = a[0];\tfor (int i = 1; i &lt; n; i++) if (!point_in(a[i])) {\t\tcenter = a[i], radius = 0;\t\tfor (int j = 0; j &lt; i; j++) if (!point_in(a[j])) {\t\t\tcircle_center(a[i], a[j], center);\t\t\tradius = dist(a[j], center);\t\t\tfor (int k = 0; k &lt; j; k++) if (!point_in(a[k])) {\t\t\t\tcircle_center(a[i], a[j], a[k], center);\t\t\t\tradius = dist(a[k], center);\t\t\t}\t\t}\t}}int main(){\tint n;\tscanf(\"%d\", &amp;n);\tfor (int i = 0; i &lt; n; i++)\t{\t\tdouble x, y;\t\tscanf(\"%lf%lf\", &amp;x, &amp;y);\t\tp[i] = point(x, y);\t}\trandom_shuffle(p, p + n);\tmin_circle_cover(p, n);\tprintf(\"%.10lf\\n%.10lf %.10lf\", radius, center.x, center.y);\treturn 0;}\r\n例题：\r\n洛谷P1742 最小圆覆盖 [传送门]\r\n洛谷P2533 [AHOI2012]信号塔 [传送门]\r\nPS：如果你发现这个文章啥也没写，或者是你觉得中间好像缺了一大段，那一定是有一股力量让它消失了。\r\n这股力量很神秘，我只能用hexo出bug了来解释。\r\n","tags":["数学","算法"]},{"title":"de Rham上同调","url":"/2025/05/05/de-Rham%E4%B8%8A%E5%90%8C%E8%B0%83/","content":"\r\n预备：形式在单形上的积分\r\n我的一点理解：定义上同调的关键是上同调与同调对偶。对于de\r\nRham上同调来说，内积：  建立起了同调群和上同调群之间的对偶。那为什么是积分？别的上同调理论通过别的方式也能建立起与同调群之间的对偶，那么为什么一定是积分？或许是因为对于形式，我们早已熟知其具有诸如Stocks定理这样的好的与积分相关的性质。无论如何，这样定义的de\r\nRham上同调具有好的性质，因此我们的起点是形式在单形上的积分。\r\n\r\n首先定义在标准单形上的积分：\r\n\r\n如果流形可三角剖分，那么只要对流形三角剖分，就能在流形中的各个单形上做积分了。但相反，为了那些不可三角剖分的流形，我们需要引入奇异单形。定义一个光滑映射：  我们将的像称作中的奇异单形。\r\n完全仿照单纯同调的做法，可以定义：\r\n\r\nr-chain，以及链群。\r\nr-boundary，以及边群。\r\nr-cycle，以及闭链群。\r\n同调群。\r\n\r\n在奇异同调这个背景下，定义形式在奇异单形上的积分。利用映射，将形式拉回到标准单形上来定义积分：  进一步，r-chain上的积分定义为：  不加证明的给出Stokes定理（证明见Nakahara 6.1.2）： \r\nde Rham上同调群\r\n令是维流形，上闭 r 形式的集合称为上闭链群，恰当 r 形式的集合称为上边群。上同调群定义为：  令，记号表示等价类。若两个形式之间相差一个恰当形式，则称这两个形式之间上同调。\r\n\r\n例1：当时，无法定义所谓的恰当0形式，因此约定。因此：  只在为常函数的情况下满足。若单连通，那么：  如果有个连通分量，则： \r\n例2：令。由例1可知。接下来求。由于是一维流形，所有 1\r\n形式均为闭形式。令，可以发现：  因此对任意，均恰当，也就是说任意 1\r\n形式均恰当。因此： \r\n例3：令。由例1可知。接下来求。仿照上例：上的任意 1形式均为闭形式。注意其中的满足周期性边界条件。\r\n若其为恰当形式。则：\r\n 因此有。\r\n然而定义在上，需满足周期边界条件。这要求了中的满足。\r\n因此，商群为： 周期为周期为且在上积分为 可以构造映射：\r\n 显然并且。因此： \r\n习题6.3：令，定义：\r\n\r\n\r\n证明是闭的。\r\n定义。证明。是否恰当？\r\n\r\n和的对偶；de Rham定理\r\n利用形式在链上的积分可以自然的构造出与之间的内积：  中的元素是r-chain，而中的元素是 r\r\n形式，这个内积自然诱导出与之间的内积：  虽然挺显然的，但还是顺带一提。中每个元素都是一个等价类，内积并不依赖于等价类代表元的选取。\r\n 为了证明与之间对偶，实际上还需要一个高度非平凡的证明（），这里略去证明，直接看de Rham给出的证明结果：\r\n定理（de Rham定理）：如果是个紧流形，那么都是有限维的，并且内积  是双线性且非退化的。因此与之间对偶。\r\n习题6.4：令或。证明在两种情况下均有。\r\n\r\n接下来书中定义了一个意义不明的概念（period）又证了一个意义不明的推论（推论6.1），不打算写这部分了。唯一有问题的一点是有点想不通定理part\r\nb证明那里，为什么一定能找到一组正交归一基？还是说线性空间和他的对偶空间就是能找到？\r\n\r\n由于同构于，有：  其中是的 Betti 数。欧拉数可以写成： \r\n这体现了拓扑与分析之间的联系。这种联系在后面多AS指标定理中也会看到。\r\n\r\n总结：我们有链复形和de\r\nRham复形：  同调群和de Rham上同调群定义为： \r\n庞加莱引理\r\n恰当形式当然总是闭的，我们也知道闭形式不总是恰当的。那么满足何种条件时闭形式是恰当的？\r\n定理（庞加莱引理）：如果流形上的一个坐标邻域是可缩于一点的，那么任何上的闭形式都是恰当的。\r\n证明：\r\n证毕\r\n\r\n任意闭形式至少是局域恰当的。de\r\nRham上同调群可以看作是闭形式全局恰当性的一种障碍。\r\n例6.4：由于是可缩的，我们有\r\n 注意。\r\nde Rham上同调群的结构\r\n庞加莱对偶\r\n令是一个维流形，。由于是一个体元，因此可以定义内积：\r\n 该内积双线性，非退化。因此定义了和之间的对偶。  由此，Betti数满足。进一步，在奇数维的流形上，必有欧拉数。\r\n上同调环\r\nWhat's next?\r\n\r\nThe Kunneth formula\r\nde Rham上同调群上的拉回映射\r\n同伦与\r\n\r\n","tags":["笔记","数学","待补完"]},{"title":"delta函数","url":"/2025/05/05/delta%E5%87%BD%E6%95%B0/","content":"\r\n定义与积分表示\r\n函数定义为：  由此可以得到函数的傅里叶变换：  因此函数可以写成的傅里叶逆变换：  可以看出，这个积分表达式中的来自于正变换和逆变换前系数相乘，所以无论定义的傅里叶变换是什么形式的，函数的傅里叶积分都会有一个的因子。而积分中的指数是而不是只是惯例问题，实际上因此用也行。\r\n这个表达式称为的积分表达式：  由上式可以看出函数的量纲是。\r\n性质\r\n函数的重要性质：  由此得到：\r\n\r\n\r\n\r\n\r\n此外还有： \r\n的导数\r\n函数的导数由分部积分定义：\r\n\r\n的性质：  证明：用作用在测试函数上并积分：\r\n 对任意均成立，因此有： \r\n\r\n","tags":["笔记","数学","物理"]},{"title":"hexo 博客使用方法","url":"/2022/08/09/hexo-%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/","content":"hexo使用\r\n新建文章\r\nhexo new \"文章名\"\r\n上传文章\r\nhexo ghexo d\r\n当本地预览效果与上传后效果不同\r\nhexo cleanhexo ghexo d\r\n为了做到本地文件和博客的兼容，建议每篇前都加上：\r\n（但是第一个定义，如果定义了这个，虽然行间的闭曲面积分符号会比较好看，但是行内的会显示错误）\r\n\\newcommand{\\oiint}{\\,\\bigcirc\\kern{-13.5pt}\\int\\kern{-7.2pt}\\int}\\newcommand{\\ii}{\\mathrm i}\\newcommand{\\ee}{\\mathrm e}\\newcommand{\\dd}{\\mathrm d}\\newcommand{\\ud}{\\mathop{}\\negthinspace\\mathrm{d}}\\newcommand{\\part}{\\partial}\\newcommand{\\R}{\\mathbb R}\\newcommand{\\Q}{\\mathbb Q}\\newcommand{\\N}{\\mathbb N}\\newcommand{\\Z}{\\mathbb Z}\\newcommand{\\C}{\\mathbb C}\\newcommand{\\bb}{\\mathbb}\\newcommand{\\scr}{\\mathscr}\\newcommand{\\rm}{\\mathrm}\\newcommand{\\pdv}[3][1]{\\frac{\\partial^{#1} #2}{\\partial #3^{#1}}}\\newcommand{\\para}{\\mathrel{/\\mskip-2.5mu/}}\\newcommand{\\ddx}{\\dd x}\\newcommand{\\nucz}[3]{\\prescript{#3}{#2}{\\rm {#1}}}\\newcommand{\\nuca}[2]{\\prescript{#2}{}{\\rm {#1}}}\\newcommand{\\MeV}{\\ \\rm{MeV}}\\newcommand{\\bs}[1]{\\boldsymbol #1}\r\n\\newcommand{\\par}[3]{\\left(\\dfrac{\\part#1}{\\part#2}\\right)_{#3}}\\newcommand{\\dif}[2]{\\dfrac{\\dd#1}{\\dd#2}}\r\n定义了这个就可以写类似：\\par USV表示。\r\n编辑markdown\r\n插入能调节尺寸的图片\r\n&lt;center&gt;    &lt;img style=\"border-radius: 0.3125em;    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);\"     src=\"这里插入图片路径（路径必须是从与文章同名的文件夹开始的相对路径，并且用/）\"    alt=\"图片替换文本\" width=\"尺寸\" height=\"70%\" align=\"70%\"&gt;    &lt;br&gt;    &lt;div style=\"color:orange; border-bottom: 1px solid #d9d9d9;    display: inline-block;    color: #999;    padding: 2px;\"&gt;这里插入描述&lt;/div&gt;&lt;/center&gt;\r\n 证毕\r\n\r\n证毕\r\n\r\n1\r\n[文章内传送门]\r\n\r\n回程！\r\n\r\n输入公式\r\n指标记号\r\nMathJax对指标的支持比LaTeX弱。例如这个式子来自于升指标，这里是两个反称指标，因此必须区分前后位置，即便升指标之后也必须把的位置空出来。但以下这种写法没法在MathJax中正常编译：\r\n{X_\\mu}^\\nu\r\n必须使用： \r\n花体\r\n\r\n这不是花体，而是为了避免数学公式中l与1混淆而在正常数学字母字体中加的字符。\r\n\r\n这也不是花体（或者说这个指令不是用来干这个的），这是柯西主值的记号。\r\n类似的还有：  这两个是去点的。一般用来表示基向量。\r\n下面就真是各种花体了。 𝒶𝒷𝒸𝒹ℯ𝒻ℊ𝒽𝒾𝒿𝓀𝓁𝓂𝓃ℴ𝓅𝓆𝓇𝓈𝓉𝓊𝓋𝓌𝓍𝓎𝓏 花体字母博大精深[传送门]\r\n尝试打出花体，粗体的的时候无意发现了这个： 𝓜 可以发现加了粗体就是真的变粗了，但是却变得很奇怪。\r\n箭头与等号\r\n\r\n杂项\r\n, , , , , §, ,  , , , ,  \r\n指令\\parallel给出的是两条竖线，如果想要斜的平行号，可以尝试重定义：\r\n\\renewcommand\\parallel{\\mathrel{/\\mskip-2.5mu/}}\r\n\r\n\r\n初音はつね未来ミク\r\n\r\n\r\n\r\n\r\n\r\n注意newcommand命令在Typora中对全文档有效，因此如果定义了这个行内的显示就会不正确。\r\n积分号的水很深，把握不住[传送门]\r\n\r\n\\mathop将参数转化成数学对象，使其能堆叠上下标，\\mathbin和\\mathrel将参数转化二元运算符和关系运算符，并能正确设置其两侧空距。\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n$$ \r\n&lt;\r\n\r\n&gt;\r\n{\r\n\r\n} $$\r\n\r\n\r\n\r\n\r\n$$\r\n\r\n$$\r\n\r\n\r\n\r\n\r\n\r\n堂堂连载！！\r\n\r\n\r\n\r\n\r\n引用，引用\r\n注意没法引用 aligned 环境下的公式，因为没有标号，同时没法加\r\ntag。如果需要按标号引用则给 align 环境下的公式加 label，直接引用 label\r\n即可。如果需要按 tag 引用，那么给 align 环境下的公式加 tag 和\r\nlabel，然后引用 label 即可。注意 tag 和 label 都要加在环境里面。\r\n直接给i标签加样式好像不行，不知道是Html特性还是Typora的bug。\r\n\r\n到这！\r\n\r\n[回程]\r\n\r\n以下是一些优化博客的操作，有时间可以搞一下\r\n【Hexo】选择更高级的Markdown渲染器\r\n如何让Google收录博客\r\nHexo博客的优化\r\n","tags":["笔记"]},{"title":"为什么光子只有螺旋度正负1？","url":"/2025/05/05/%E4%B8%BA%E4%BB%80%E4%B9%88%E5%85%89%E5%AD%90%E5%8F%AA%E6%9C%89%E8%9E%BA%E6%97%8B%E5%BA%A6%E6%AD%A3%E8%B4%9F1%EF%BC%9F/","content":"\r\n单粒子态在洛伦兹群下的表示——为什么光子螺旋度只有？\r\n\r\nQ:\r\n从单粒子态在洛伦兹群下的变换对其分类，能分类到什么程度？我们知道标准模型中已经对（基本）粒子分得很详细了，用单粒子态在洛伦兹群下的变换做分类能分到这种程度吗？\r\nA:\r\n用单粒子态在洛伦兹群下的变换做分类，即若两个单粒子态在同一个洛伦兹变换下的变换规律不同，就认为这两个单粒子态不同类。从最后的结果，我们能看出我们只能把粒子分为两大类：有质量和无质量，有质量和无质量再根据自旋和螺旋度进行分类。没法做到标准模型那种程度。\r\nNotation：\r\n度规：我们这里用。\r\n洛伦兹变换：转动+boost。记号用或。前者按定义，后者是洛伦兹群在希尔伯特空间的表示。前者作用在4-动量上，后者作用在单粒子态上。\r\n单粒子态：。指动量，泛指其他相关自由度。一个粒子通过可以在洛伦兹变换下相互转化的单粒子态来定义。\r\n\r\n小群方法\r\n平移变换下，单粒子态的变换是比较简单的：  我们现在想要知道一个单粒子态在齐次洛伦兹变换下如何变换：\r\n 首先由于是动量本征态。用任意齐次洛伦兹作用在单粒子态上，我们可以得到：\r\n 即的动量为。也就说明是的线性组合：\r\n 我们想要得到的就是。\r\n为了得到这个表示，我们先考虑一个齐次洛伦兹群的一个子群。其中的元素满足：  其中是我们选取的一个标准动量。这个洛伦兹群的子群称作小群。\r\n由于保不变，因此小群的表示应该满足： \r\n\r\n为什么要先看小群的表示？\r\n\r\n为什么要先看小群的表示？略过一些推导（见Weinberg场论卷一 section\r\n2.5），我们可以得到一个重要关系：  将带入，利用：  对比，除了归一化系数，表示可以完全由小群表示决定。因此下一步就是找小群的表示。\r\n\r\n此外我认为还有一点：洛伦兹群作为非紧致李群，没有有限维的幺正表示，也没有有限维的不可约表示做分解。但我们可以通过小群方法，将洛伦兹群的幺正表示分解为小群的不可约表示。\r\n\r\n有质量与无质量\r\n有质量粒子与无质量粒子的不同在这个时候就显现出来了。小群是保标准动量不变的洛伦兹群子群，而无质量粒子的动量必须类光，而有质量粒子的动量绝不能类光（只能类时）。因此我们可以这样选取标准动量：\r\n\r\n\r\n\r\n\r\n标准\r\n小群\r\n\r\n\r\n\r\n\r\n有质量\r\n\r\n\r\n\r\n\r\n无质量\r\n\r\n\r\n\r\n\r\n\r\n我们主要关注其中无质量的部分。为了更简单，我们将标准动量选做。二者只差一个方向的boost。\r\n小群的元素保不变：  再考虑一个类时矢量。我们可以得到作用于得到的矢量满足：  由第一条，，我们可以设：  结合第二条，必须满足：  因此作用于等效于如下的洛伦兹变换作用于： \r\n\r\n我认为这是比较有技巧性的一步。我们目前的目的是关于小群群元的信息。而我们目前唯一知道的只有。这确实给出作用于等效于某个洛伦兹变换作用于。但只知道最多只能将确定到这种程度：  我们选择的是构造一个具体的。我们要求还满足，结合这一条件，我们能将的第四列确定下了。最后，作为洛伦兹变换，必须满足保度规条件。由此可以解出整个矩阵。\r\n我们构造出的这样一个满足：\r\n\r\n，即保类时矢量不变，是一个纯转动。\r\n，两侧同左乘，得。进一步有也保不变。\r\n\r\n即是一个保持不变的纯转动，那只能是绕轴的转动。 \r\n\r\n\r\n其中：  因此小群群元最普遍的形式是：  对无限小的：  此时：  因此可以得到：  因此：  降指标：  希尔伯特空间中的无穷小变换是：  其中：  利用洛伦兹群生成元之间的对易关系，计算之间的对易关系，有：  由于是对易的厄米算符，因此可以同时对角化：\r\n 但是由于有性质（参考yzh 3.181-3.185）：  因此对任意：  其中。\r\n也就是说只要找到了的一组非零本征值，那么无质量粒子就会有用作为连续自由度的物理态。但是实验上并没有观测到这样的态，因此物理的态必须是的的本征矢。这样的本征矢最后只能用的本征值区分：  由于动量在方向上，给出的是角动量在运动方向上的分量，即螺旋度。\r\n\r\n也就是说这里出现是由于标准取作，如果取，那么这里出现的就会是？\r\n\r\n因为螺旋度是洛伦兹不变的，因此我们可以用螺旋度对无质量粒子进行分类。\r\n\r\n为什么对无质量粒子，用螺旋度而不用自旋去分类？\r\n因为有自旋相同，但螺旋度不同的粒子。中微子与反中微子。\r\n\r\n为什么光子只有两种螺旋度\r\n该部分参考arXiv:1403.2698v4\r\n考虑一个有质量粒子，选取标准动量。这是一个沿方向运动的粒子，其中，当时类光。\r\n度规为。\r\n假设保，引入类时4-矢。有：  根据第一条，可以设为：  根据第二条，可以得到满足：  由此可以解出。\r\n像考虑无质量粒子时一样，构造一个矩阵：由以及可得的一般形式为：  利用保度规条件可以解出。\r\n\r\n文章中提到求得的解非唯一，我们仅从中选取一个（每个解对应一个，即对应一个群）。可以验证不同解对应的李代数彼此等价。\r\n上面这句话是文章中说的。我并没有解过，也不知道怎么验证李代数等价。\r\n\r\n此时对无限小的，变为：  希尔伯特空间中的变换为：  其中。此时对易关系变为： \r\n我们知道有质量粒子的小群是，但从的对易关系中目前还看不出李代数的结构。为此，做一个变换：\r\n 它们之间的对易关系： \r\n这就是标准的角动量代数了。但是注意到，当我们取无质量极限时，，会发散掉。但这其实不是发散，正如我们之前在无质量粒子部分讨论的一样，无质量粒子只能有本征值为零的本征态，因此的本征值也必须为零。\r\n\r\n这里其实与之前并不完全相同：在Weinberg书中，无质量粒子只能有本征值为零的本征态是因为我们在实验上看到的就是这样。但在这里，我们可以从不应该发散推出。\r\n\r\n从这里就能看出无质量粒子的特别之处：对有质量粒子，我们可以利用来构造的升降算符。因此若有质量粒子自旋为，那么都是可能的分量。但无质量粒子是没办法做到的。\r\n\r\n也是由于这个原因，我们会认为自旋量子数相同而不同是同种粒子处于不同的态。而对于无质量粒子，我们可能会认为螺旋度为的是两种粒子。\r\n以下引自Weinberg：\r\n注意到螺旋度是 Lorentz\r\n不变的；螺旋度给定的无质量粒子在所有惯性系中（除了它的动量）看起来是相同的．事实上，我们有道理认为螺旋度不同的无质量粒子是不同种类的粒子．然而，我们将在下一节看到，螺旋度相反的粒子通过空间反演对称性相关联．因此，由于电磁力和引力是空间反演对称的，与电磁现象相联系的螺旋度为的无质量粒子都被称为光子，而螺旋度为的，被认为与引力相联系的无质量粒子都被称为引力子．另一方面,在核衰变中发射出的粒子中可能有螺旋度为的无质量粒子，它们不参与具有空间反演对称性的相互作用（引力除外），所以这些粒子被赋予了不同的名字：螺旋度为的粒子称为中微子，螺旋度为的粒子称为反中微子。\r\n\r\n当，有质量的单粒子态如何收敛到无质量的单粒子态\r\n以为例：\r\n\r\n有质量粒子：\r\n取的无质量极限时，我们说态需要满足的本征值是零。这一点也相当于是升降算符作用上去为零。\r\n无质量粒子：\r\n\r\n\r\n\r\n\r\n\r\n对于：\r\n\r\n有质量粒子：\r\n无质量粒子：\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n对于有质量粒子：  对无质量粒子： \r\nref：\r\nWeinberg vol1 2.5节\r\nyzh讲义\r\narXiv:1403.2698v4\r\nhttps://www.zhihu.com/question/50860514\r\n","tags":["笔记","物理"]},{"title":"二项式反演","url":"/2021/10/04/%E4%BA%8C%E9%A1%B9%E5%BC%8F%E5%8F%8D%E6%BC%94/","content":"二项式反演\r\n\r\n是一个未知函数，但是已知，并且知道可以写成关于的这样一个和式，那么就可以使用二项式反演，把表示成。\r\n重排\r\n表示：n个元素随机重新排列，恰有k个元素还在原来位置的方式数。\r\n递归式\r\n显然，。并且。这两个式子组成了的递归式。\r\n闭公式\r\n能不能求出的闭公式呢？\r\n因为，所以如果有闭公式，那问题就解决了。  令。。\r\n反演， \r\n 最后约等于是因为快速趋近于。\r\n与两者之间的差为  介于和之间。因此与之间的误差介于和之间。又因为是整数，所以  这就是的闭公式了。\r\n有关结论\r\n错排的概率\r\n当n很大，对n个元素随机重新排列，每个元素都不在自己原来位置的概率是\r\n\r\n与三角形数的关系\r\n\r\n \r\n\r\n三角形数\r\n\r\n\r\n。\r\n正好就是三角形数。\r\n错排的递归式\r\n\r\n和总是相差。\r\n顺便得到：。\r\n","tags":["笔记"]},{"title":"任意维数gamma矩阵的表示","url":"/2025/05/05/%E4%BB%BB%E6%84%8F%E7%BB%B4%E6%95%B0gamma%E7%9F%A9%E9%98%B5%E7%9A%84%E8%A1%A8%E7%A4%BA/","content":"\r\n动机\r\n虽然不是重点，但先概述一下动机：\r\n物理上研究正交群的必要性是不言自明的，因为正交群包含了时空（在非相对论情况下，就是空间）除平移以外的所有对称性。但我们需要的不是抽象的群，而是具体的，群的表示。对单连通群，李群的表示与李代数的表示一一对应，因此对于单连通李群，我们可以不必研究复杂的流形，而是研究李代数这个线性空间。然而很遗憾，正交群并非是单连通的。以物理上最常用的两个正交群为例：\r\n\r\n\r\n\r\n\r\n前者是三维空间的旋转群，后者是洛伦兹群。它们都不是单连通的。因此，我们定义所谓的旋量群：就是的二重覆盖。得到了旋量群的表示，我们再从旋量群出发，得到正交群的表示。\r\n那么这又是怎么和矩阵联系起来的？其实，即矩阵的对易子，恰好可以作为的基矢。这就是我们研究矩阵的动机。\r\n表示\r\n利用产生湮灭算符\r\n先看欧几里得空间的情形。闵氏空间的表示可以通过对欧几里得空间的表示做Wick转动直接得到。\r\n（欧式）\r\n二维欧式空间的度规，线元。按定义，矩阵应该满足：  定义，那么线元和度规变为：  那么，矩阵满足的反对易关系变为： \r\n这个对易关系让我们想起费米子升降算符，并且是在一个二维的态空间中。定义：\r\n 那么在张成的空间中，的表示矩阵为：\r\n 即：  注意逆变，因此在的坐标变换下，应该有：  因此：  这就是二维欧式空间中的矩阵表示。\r\n任意偶数（欧式）\r\n度规，线元。仿照二维，我们可以定义：  以及它们的共轭。线元和度规变为：  对易关系变为（简写为）：  这与的情况类似，不过是从个费米子的情况变成了个费米子。我们的表示空间变为：  例如，时，表示空间是：\r\n 在这个表示空间里，仿照之前的方法，矩阵是否应该写成：  以及它们的复共轭？然而，计算对易关系可以发现，这样定义的矩阵是对易的，而不是反对易的：\r\n 还可以计算，反正就是不满足对易关系。\r\n\r\n[!NOTE]\r\n两个张量积的对易子：以，考虑一个态：  两个张量积算符的乘积就是对应子空间的算符乘积再做张量积。\r\n\r\n那应该怎么构造满足对易关系的矩阵？考虑到，以及与的对易关系：。因此可以构造：  最后再从变回：  最后，正比于所有矩阵乘积的 chirality\r\n矩阵可以构造为： \r\n任意奇数（欧式）\r\n要构造（奇数）维的矩阵，只需构造维的矩阵，然后补上 chiral 凑齐个。此时所有矩阵的乘积从原本偶数维时的变成正比于单位矩阵。\r\n例如，欧几里得的情形下，首先先看的矩阵，其实就是。最后再补上一个就构成了的矩阵。所有矩阵的乘积为。\r\n闵氏空间的情况\r\n闵氏空间的结果完全可以由欧式空间的结果直接得到：考虑引入光锥坐标。想想它会把度规变成什么样？\r\n以四维闵氏时空为例：  这样的效果是否很熟悉？让我们再引入以及，度规变为： \r\n引入光锥坐标混合时间和一个空间坐标的效果完全类似于我们引入复坐标的作用。只是由于洛伦兹度规带来的负号，使得光锥坐标不需要像复坐标一样添加虚数单位才能实现这样的效果。因此，在光锥坐标系下，矩阵的对易关系变为，最后得到光锥坐标系下的矩阵为。最后再从光锥坐标系变回系： \r\n\r\n[!NOTE]\r\n注意原来是从欧式坐标到复坐标，变换律是：  现在从闵氏坐标到光锥坐标，变换律是：  因此现在与对比，。除了这两个以外，其余的矩阵均与欧式空间的情况下的矩阵相同。\r\n\r\n","tags":["笔记","物理"]},{"title":"使用指标运算推导电动力学矢量微分运算公式","url":"/2022/03/27/%E4%BD%BF%E7%94%A8%E6%8C%87%E6%A0%87%E8%BF%90%E7%AE%97%E6%8E%A8%E5%AF%BC%E7%94%B5%E5%8A%A8%E5%8A%9B%E5%AD%A6%E7%9F%A2%E9%87%8F%E5%BE%AE%E5%88%86%E8%BF%90%E7%AE%97%E5%85%AC%E5%BC%8F/","content":"电动力学中的矢量微分运算，也就是三维欧氏空间的矢量微分运算。\r\n记号（以下使用表示，同理，表示方向上的单位矢量）\r\n\r\n标量场的梯度 \r\n矢量场的散度\r\n矢量场的旋度\r\n\r\n首先，因为是3维欧式空间的情况，所以和同构，因此没必要区分上下指标。不需要再使用表示缩并，只需要使用即可。因此，内积可以表示成。\r\n如果记，散度的分量式就可以写成。\r\n\r\n出于同样的原因，也不再起升降指标的作用了，现在的作用只有替换指标：\r\n\r\n然后就是梯度和旋度。梯度的第分量\r\n旋度的分量有些复杂，需要引入一个新的记号： 指标两两不同且构成偶排列指标两两不同且构成奇排列存在相同指标 通过定义可以得到的一些性质：\r\n\r\n指标轮换对称 \r\n交换两个00000指标改变变号 \r\n\r\n通过这个记号可以把旋度写成\r\n然后就可以得到旋度的第个分量为：\r\n\r\n这个记号还有个性质\r\n注意左边第二个的下标不要记成inm了（\r\n如何记忆这个公式呢？首先这个方法只是我自己想的野路子：\r\n首先需要记住等式的右边是4个相乘再相减，然后就只需要确定指标了。\r\n因为我们是将这个公式用于3维空间的电动力学，所以指标最多其实只有3个。也就是说m、n的取值一定与i、j、k中的某一个相同。最后发现一共只有两种情况：和，其余的m、n取值由定义自然为。\r\n\r\n，说明展开后一定有一项，另一项是。也就是说，展开中有一项是第二指标第二指标第三指标第三指标。并且前面系数为\r\n，说明展开中一定也有一项，另一项是，但与上一种情况不同的是，现在2、3指标组合才能得到。也就是说，展开中有一项是第二指标第三指标第三指标第二指标。并且前面系数为。\r\n\r\n综上，第二指标第二指标第三指标第三指标第二指标第三指标第三指标第二指标\r\n只不过是创造一个无端联想方便记忆，别较真（\r\n\r\n总结：\r\n\r\n\r\n\r\n\r\n\r\n实战：\r\n\r\n验证公式\r\n\r\n验证公式\r\n留作练习（其实是懒得打公式了\r\n验证公式\r\n\r\n这里需要区分两种情况：\r\n在实战1中，遇到过这种东西：，我们按照求导的法则分别对、求导，结果是\r\n在实战3中，会遇到这种东西：。在中还需要按求导法则展开成两项吗？\r\n答案是显然的：不需要。因为的意义是，而无非是。显然如果按照上面的方法展开是不对的。\r\n顺带一提，要注意和（为矢量场）的区别。\r\n最后，这东西虽然好用，但也不是万能的。有些式子的化简也需要技巧，比如通过加项减项凑出一些整体来。\r\nupd：今天逛别人博客发现他写过这东西，而且写的比我强多了，所以有需要去看那个吧[传送门]\r\n","tags":["笔记","数学","物理"]},{"title":"出发","url":"/2021/04/07/%E5%87%BA%E5%8F%91/","content":"与其感慨路难行，不如马上出发\r\n从今天起，这个博客将记录我的学习和兴趣。\r\n好好学物理与计算机，向着梦想进发。\r\n趁着还有心力和体力，把想学的东西学了，把想做的事做了。\r\n\r\n\r\nsc1\r\n\r\n\r\n2021—4—07\r\n\r\n","tags":["感想"]},{"title":"到底谁是百舌鸟？","url":"/2025/05/05/%E5%88%B0%E5%BA%95%E8%B0%81%E6%98%AF%E7%99%BE%E8%88%8C%E9%B8%9F%EF%BC%9F/","content":"2024/5/7 3: 33\r\n这些日子本来我是该写毕业论文的，只不过最近昼夜颠倒。一点多钟刚刚背完今天日语单词的时候，想着：“是时候该调作息了”。又想着：“要不先找个游戏来玩”。于是想到了“你已杀一所恨之人，必须再杀一所爱之人”，就去qingju上找了个装甲恶鬼村正来。底下又给我推荐了《谁杀了知更鸟？》。今天的故事就从这开始了。\r\n于是我想起今天在群里看见个聊天记录，说是“裸体知更鸟”，点进去也就是知更鸟。不过看完就忘了，我想去看看知更鸟到底长啥样。于是去了wiki：\r\n\r\n\r\nErithacus_rubecula-Devon\r\n\r\n这种胸前带着一块橙红色羽毛的形象应该算是知更鸟的刻板印象了。英国有传说：“耶稣被钉在十字架上时，知更鸟曾飞到耶稣身旁唱歌，为他缓解痛苦，耶稣的血粘在知更鸟的胸前”。By\r\nthe way，百度提到有种蓝知更鸟，有珠的鸟罗宾应该就是这种知更鸟了（知更鸟的英文就是Robin）\r\n\r\n\r\n838ba61ea8d3fd1fb06756da314e251f94ca5fe0\r\n\r\n同时还有种所谓“美洲知更鸟（旅鸫，顺带一提鸫属的拉丁Turdus指的是画眉）”，其实跟知更鸟没什么关系，但英文名似乎也叫robin。同样和知更鸟一样在神话中有出现，wiki上写：\r\n\r\n在美国土著居民的神话中，旅鸫也有着一定的地位。与欧洲的知更鸟类似，美国土著传说旅鸫是因为想要吹散威胁著一位男性土著和一名男孩生命的火焰，所以胸部才会变得如此之红。\r\n\r\n话说知更鸟（Robin）看上去温文尔雅一只小鸟，倒是性格似乎是很凶猛的。百度上写：\r\n\r\n雄性知更鸟对入侵地盘者有很大反应，就算没有被挑衅也会作出攻击，它会用翅膀和腿爪奋力博击对手，试图将对方压倒在底下，可能持续一分钟，一小时或更长时间。\r\n\r\n但事情到这还没完。就算没看过，我想很多人也听过有篇小说叫做《杀死一只知更鸟》。但这里的知更鸟实际并不是知更鸟，原文\r\nTo Kill a Mockingbird 中的 Mockingbird 实际上是指嘲鸫，俗称反舌鸟。\r\n故事到这里开始曲折了。我跟群友说起这件事：\r\n\r\n\r\nimage-20240507041340733\r\n\r\n\r\n\r\nimage-20240507041459396\r\n\r\n又出来一个百舌鸟出来。我之前看到Mockingbird是反舌鸟，那百舌鸟到底有是什么？在这个问题上，百度和Wiki给出了截然不同的两个答案：乌鸫和牛头伯劳。\r\n这下可犯了难。我首先就尝试去找百度和Wiki的参考文献，可惜两个都找不到。\r\n后来我发现日本有用百舌鸟命名的地名，想看能不能找到什么线索，可惜也没有。\r\n然后我突然想到直接在日本范围内检索百舌鸟这个词（顺带吐槽一下bing，这玩意能给你定位到日本时搜出来的都是日本的网页，没定位到日本真是一个搜不出来）。发现在Google上搜索百舌鸟（用“\"百舌\"\r\nどんな 鳥”关键字去检索）时，百舌会直接重定向到“モズ”（即伯劳）。\r\n然后我又在Google图片上检索：\r\n\r\n\r\nimage-20240507044709890\r\n\r\n几乎所有中文页面都是乌鸫而日语页面都是伯劳。\r\n检索的过程中发现这样一个知乎上的文章。从词源的角度讲了百舌这个名字的来历。反舌鸟（嘲鸫）的学名polyglottos来自于希腊语，前面就是poly，意指多，后面glottos有语言，舌头的意思。\r\n以及这篇文章中写了让我非常难绷的一个点：\r\n\r\n\r\nimage-20240507045518568\r\n\r\n区区一个Mockingbird竟然翻译出了知更鸟、百舌鸟、反舌鸟三个名字。\r\n实际上检索的时候还看见了这个，介绍了日语里一个跟百舌相关的成语，顺带也提了（在日语中）百舌是指伯劳。\r\n以及四川在线的一篇文章。“一候螳螂生，二候鹏始鸣，三候反舌无声。”鹏指的是伯劳而“反舌”学名乌鸫，同时出现了中日两个的“百舌鸟”。\r\n顺带一提AGM-45百舌鸟导弹中的百舌鸟实际上是Shrike，即伯劳。\r\n突然想起如果我要设计一个游戏，我还想设计一个百舌鸟boss。他（只有雄百舌鸟才有“百舌”）的过场动画里一定要有磔刑（百舌の速贄），技能是可以召唤不同种类的鸟（因为“百舌”所以能跟所有鸟类沟通？）。\r\n那么为什么百度和Wiki对于“谁是百舌鸟？”这个问题给出了乌鸫和牛头伯劳这两个截然不同的答案呢？最后到底谁是知更鸟呢？小编也很好奇。长达数个小时的查资料，最后只能以不清不楚结尾，令人唏嘘。我的一个猜想是或许中国和日本都有类似“百舌”特征的鸟，中国的是乌鸫，日本的是伯劳。并且中日两边都以所谓“百舌鸟”去称呼。因此或许百舌鸟在中文语境中应该指乌鸫，而在日语语境中指伯劳？\r\n","tags":["感想","迷思"]},{"title":"哲学","url":"/2022/01/20/%E5%93%B2%E5%AD%A6/","content":"想学一点哲学了，或者说，想学一点文科了。\r\n直到上大学之前，我都怀抱着一种想法，类似于文科无用论？或者说也算不上文科无用论，我当然知道文科是有用的：一方面，文科确实有用；另一方面，虽然文科中的一些东西不能应用于实际，但如果不能应用于实际，就堪称无用的话，我所喜欢的数学和物理也有许多不能应用于实际的内容，秉持文科无用论就相当于认为它们也是无用的。但是实际上呢？我绝不认为它们是无用的。我可能更偏向于认为文科对我而言是无用的，就像一个学历史的人可能认为数论或者是量子力学对他而言是无用的（反正我是这么觉得的，很难想象一个历史学家会去关心费马大定理之类的问题）。\r\n但现在，该说是思想转变了吗？又或者是单纯羡慕我学历史的室友呢？总之，上了大学之后用大把的时间看书、看电影、听音乐、玩游戏、画画（好吧，没在这个上花太多时间），让我知道了有些东西是有门槛的。比如没有经过训练的人可能没那么能接受古典音乐，或者是不懂nihonn文化就不容易理解那边的一些作品。反过来，如果懂一些图形学，或许就能发现游戏作者尽最大努力在视觉效果和性能之间平衡的匠心；如果懂一些摄影，会不会对欣赏电影更有帮助呢？（那这方面我属实不太懂，不敢瞎说）。尤其是今年玩的一款视觉小说，里面有大量的哲学和心理学内容。虽然有一种可能，作者只是不懂装懂，塞这些东西来提升B格。但是作者懂不懂我不清楚，我属实是不懂。在游戏中，主角作为一个（有点）不学无术的人，是听不太懂NPC们说的都是什么的。不过不懂的不光是剧情中的主角，剧情外的我也听不太懂（不过这样一来游戏的代入感倒是拉满了）\r\n总而言之，我想学哲学，并非因为我关心哲学家们研究的“终极关怀”；我想学政治，并非是想作为政治家为某个群体争取利益。我学文科，仅仅是因为我意识到了它对我自己并非是无用的。比如学历史，就能看懂姜文电影中8岁孩子的隐喻（当然，严谨的说，并不是学了就能看懂。但不学肯定看不懂）。引用我很……欣赏的一个人的一句话：\r\n\r\n我必须知道鉴赏这些东西的方式，否则我的生活会失去许多乐趣。\r\n（并非原话如此，但大概是这么个意思）\r\n\r\n就从西方哲学史开始学吧。\r\n","tags":["感想"]},{"title":"四维洛伦兹力","url":"/2025/05/14/%E5%9B%9B%E7%BB%B4%E6%B4%9B%E4%BC%A6%E5%85%B9%E5%8A%9B/","content":"三维洛伦兹力公式为： \r\n这一点我们都很熟悉了。我们现在要通过电磁场张量，写出其四维形式： \r\n\r\n[!IMPORTANT]\r\n注意这里出现了两个时间参数：和。它们是同一个时间吗？\r\n并非，看下图：\r\n\r\n\r\nimage-20250514164007161\r\n\r\n其中为粒子世界线，为一瞬时观者。即是粒子固有时，是观者固有时。明确了这一点之后，我们看看如何从四维的洛伦兹力形式推回到三维洛伦兹力。\r\n\r\n首先，电磁场张量的形式为： \r\n\r\n接下来从四维洛伦兹力出发，由于我们要推出三维的结果，因此只需要关注其空间分量：\r\n\r\n\r\n[!CAUTION]\r\n注意其中的含义：看上图中点，虽然是粒子世界线上的坐标，但并不是粒子的固有时。因为作为坐标时，是在瞬时观者给出的坐标系中的坐标。因此，也就是。\r\n\r\n由上讨论内容，我们先处理这一部分。其中：  另一方面，由电磁场张量的形式，我们有：  因此，变为：  最后我们再把变成：  写成矢量形式： \r\n","tags":["笔记","物理"]},{"title":"堂堂复活！","url":"/2025/05/05/%E5%A0%82%E5%A0%82%E5%A4%8D%E6%B4%BB%EF%BC%81/","content":"\r\n堂堂复活！！\r\n\r\n时隔快三年，终于又一篇博客发出来了。\r\n其实是之前电脑坏了重装系统，觉得博客迁移起来可能很麻烦，就一直想着等等，没想到……从22年的时候我还想着或许能保研，直到现在我已经快度过了研究生的第一年。中间经过的事只能说数不胜数，大概就在22年左右，我认识到或许我不该去考虑转去学计算机。不久之后，我从ACM队退役。再到考研、落榜、找工作、找调剂……现在再看到三年前本科时候写的东西，实在很感慨。\r\n或许我现在落到了和本科时相同的境地。本科时身在物理系的我又想学物理又想学计算机，而现在我则是来到了我并不是很喜欢的核物理方向，心中想着高能物理这个白月光。只是略有不同的是，本科时候我真可以转去计算机系（甚至找工作时我投的也是计算机的岗）。但是高能物理这辈子估计只能作为白月光存在了：我很难想象我能转去学高能物理还不度过一个相对失败的人生，除非我像那些小说主角一样觉醒了什么神必系统。\r\n总之……虽然这三年间我没再写博客，不过文章还是有在写。最近一段时间应该会断断续续把这三年来的存货发出来吧。\r\n","tags":["感想"]},{"title":"微分几何与广相笔记","url":"/2022/03/12/%E5%BE%AE%E5%88%86%E5%87%A0%E4%BD%95%E4%B8%8E%E5%B9%BF%E7%9B%B8%E7%AC%94%E8%AE%B0/","content":"学校不开相对论的课，只有电动力学中会稍微讲一些狭义相对论。因此想学相对论还得自己学。\r\n主要采取了什么是什么的记法。因为前一半都是微分几何，有许多定义。考虑到我本人的三分钟热度，估计也就是三天两头学一学。如果隔了一段时间发现连定义都忘光了那就没法学了。\r\n低质量屑作，除了我自己，别人应该没有看的必要（ \r\n拓扑空间\r\n什么是拓扑空间？\r\n定义了开子集的集合叫拓扑空间。\r\n对于一个集合来说，空集合它本身是开子集，有限个开子集的交是开子集，任意个开子集的并是开子集。\r\n为什么要引入拓扑？\r\n对实数集R，可以通过距离，利用epsilon-delta语言来定义R到R映射的连续性。但对于一般的集合来说，未必定义了距离。引入拓扑就是为了在一般的集合间的映射上定义连续。\r\n什么是拓扑结构？\r\n就是开子集的指定方式。\r\n除了空集和本身以外，其他的开子集是人为指定的，这个指定为集合赋予了一种特殊结构，叫做拓扑结构。\r\n什么叫拓扑？\r\n一个集合的全体开子集构成的集合称为这个集合的拓扑。\r\n如何用拓扑定义连续？\r\n对一个映射，。分别为花体T，花体S。\r\n对任意S中的开子集，其关于f的逆都是T的开子集，就称映射f是连续的。\r\n什么是诱导拓扑？\r\n诱导拓扑是为 已定义拓扑结构的集合 的子集 指定开子集的方式。\r\n首先考虑一个是拓扑空间的集合。我们想对其子集指定拓扑结构，使其成为拓扑空间。这种指定方式就叫做由原集合的拓扑结构诱导出的拓扑结构，称为诱导拓扑。\r\n诱导拓扑的指定方式是这样的：考虑原集合中所有的开子集，让开子集与要定义拓扑结构的集合求交。所有交构成的集合就是子集的诱导拓扑。\r\n什么是同胚？\r\n，如果存在映射，满足f是满射，并且连续。则两个拓扑空间同胚。\r\n注：有时同胚不止指两个拓扑空间的关系，也指同胚映射。\r\n一个元素的邻域 &amp;&amp;\r\n一个子集的邻域\r\n对一个元素x，包含它的一个开子集的超集或是它本身就是x的一个邻域。\r\n对一个子集A，包含（注意不是真包含）它的一个开子集的超集或是它本身就是A的一个邻域。\r\n什么是子集的开覆盖？\r\n首先，开覆盖是一个开子集的集合。\r\n如果集合X的一个子集A包含于X所有开子集的并，那么X的开子集的集合就叫A的一个开覆盖。\r\n微分流形\r\n什么是n维微分流形？\r\n\r\n \r\n\r\n流形定义用图\r\n\r\n\r\n能定义成流形的集合一定满足：\r\n能划分成多个开覆盖，每个开覆盖都跟的开子集同胚。\r\n如果两个开覆盖有交集，那么复合映射一定是光滑的。（相容性条件）\r\n比如R2，能用开覆盖R2划分，映射选择R2到R2的恒等映射。因此R2构成一个流形。称为2维平凡流形。\r\n又比如圆环，圆环与R不同胚，但是可以划分成4个开覆盖，通过映射映射到R的开子集上。并且交叠区域满足相容性条件，因此是一个1维流形。\r\n什么是流形上的函数？\r\n称为M上的函数。若f是光滑的，则称为M上的光滑函数。\r\nM上全体光滑函数的集合记作。\r\n如何定义微分流形上的矢量？\r\n映射称为点的一个矢量。\r\n根据定义，要指定p点的一个矢量只需指定一个从到的，满足线性性和莱布尼茨律的映射。因为这种映射很多，所以p点有无限多适量。\r\n注意：并不是一个流形上的全部矢量构成一个矢量空间，而是一个点p上的全部矢量就构成一个矢量空间。（证明？）\r\n矢量空间的基矢\r\n对流形M，设为坐标系，其坐标为，则M上任意一光滑函数与结合得n元函数，借此可给O中任意一点p定义n个矢量。  可简写为 \r\n需要清楚理解：f只是一种简写，实际上指的是f与坐标系结合得到的n元函数，而非标量场f。\r\np点的坐标基矢常记作\r\n有了基矢，p点的其他矢量就可以表示成基矢的线性组合。对于一个矢量v，用基矢线性表示的系数称为v的坐标分量。\r\n同时属于两个坐标系的点p，其上的矢量v同时有两套坐标分量和，二者的关系为：  是两个坐标系之间的坐标变换函数。\r\n该式称为矢量的分量变换式。\r\n什么是单参微分同胚群\r\n光滑映射称为流形M上的单参微分同胚群，若：\r\n\r\n是微分同胚\r\n\r\n\r\n虽然是叫做单参微分同胚群，但实际上的单参微分同胚群是\r\n群的轨道：即经过一个群作用和与该元素相同的所有元素的集合。\r\n在单参微分同胚群中：光滑曲线即为过p点的轨道（曲线上所有点可以通过一个映射得到）。\r\n单参微分同胚群光滑曲线切矢矢量场\r\n反过来：\r\n矢量场积分曲线单参微分同胚（局部）群\r\n如何定义流形上的曲线？\r\n什么是坐标线？\r\n就是固定所有其他坐标，只改变某一个坐标得到的曲线。\r\n比如在笛卡尔坐标系中，固定y，移动x，得到x的坐标线。是平行于x轴的直线。y取另一常数即得另一条坐标线。\r\n在极坐标系中，固定r，移动得到的坐标线，是以原点为圆心的无数同心圆。r取另一常数即得另一条坐标线。\r\n什么是切矢？\r\n切矢是由曲线和线上一点唯一确定的矢量。\r\n设曲线，线上点的切于的切矢T是点的矢量。对的作用定义为：  是个一元函数，即.\r\n点切于的切矢T也常记作\r\n切矢的坐标基矢展开式： \r\n什么是度规？\r\n度规是一种对称的，非退化的型张量。\r\n度规有什么用？\r\n在一个矢量空间中定义度规给矢量空间增加了新的结构。只有在定义了度规的矢量空间中才能谈长度和正交。（不光是对于矢量，更大的作用是定义曲线长度）\r\n的长度定义为。\r\n的正交定义为\r\n洛伦兹度规与矢量分类：\r\n首先，度规是一个张量。在不同基底下有不同展开。\r\n在正交归一基底下做展开，展开的结果一定是一个对角矩阵，并且对角元要么为1，要么为-1.只有一个对角元为-1的度规称为洛伦兹的。\r\n在带洛伦兹度规的矢量空间中，矢量v可以分成3类：类时，类光，类空。\r\n流形上的度规张量场：\r\n流形上的每一点都构成一个矢量空间，因此自然需要为每一点都指派一个度规，也就是一个度规张量场。\r\n有了度规，如何定义曲线长？\r\n在度规正定的前提下：在流形上，是一条曲线。是其切矢。\r\n曲线长度自然定义为\r\n在洛伦兹度规的情况下，定义线长前要先看曲线的类型：若各点切矢全部类时，则曲线称为类时曲线。线长定义为\r\n一般来说就加个绝对值。\r\n\r\n引入线元\r\n (类空)\r\n线元表达式有个好处就是在给定度规情况下能很方便的读出度规的分量。\r\n不伦不类的曲线没有定义线长，类光的曲线线长恒为0.\r\n线长与参数化，坐标系均无关。\r\n什么是时空？\r\n流形上配度规场，在物理上称为时空。\r\n数学上，称为广义黎曼空间，若g正定，则称为黎曼空间，若g洛伦兹，称为伪黎曼空间。\r\n黎曼曲率张量\r\n什么是黎曼曲率张量？\r\n定义： \r\n什么是导数算符？\r\n以代表流形上全体的型张量场的集合。映射称为M上的无挠导数算符\r\n导数算符有个重要的性质：\r\n导数算符有什么用？\r\n选定导数算符为流形M添加了更多结构。\r\n在上，可以谈矢量沿曲线的平移，以及的曲率。\r\n如何定义矢量场沿曲线平移？\r\n是在曲线C上有定义的矢量场，，称为矢量场沿曲线平移。  为什么要这样定义？\r\n直观理解：\r\n要求是个常函数。同理，也说明矢量场的某种“常”的性质。\r\n准确动机：\r\n三维欧氏空间中对矢量场沿曲线导数的定义：\r\n\r\n\r\n\r\n 简而言之，矢量场在某处沿曲线的导数也是一个矢量，如果该矢量处处为0，则说明该矢量场沿曲线平移。而可以证明，用抽象指标来写就是。\r\n流形上的平移定义正是该定义的自然推广。\r\n有了导数算符，就可以通过平移来比较流形上两个点上的矢量（虽然是曲线相关的）。导数算符将流形上的不同点建立起联系，所以导数算符也称为联络。\r\n看3.22，3.23了解更多平移相关知识\r\n只有在黎曼曲率为0的空间中才有与曲线无关的平移。\r\n……\r\n什么是与度规适配的导数算符？\r\n众所周知，有了度规，就可以谈内积，有了导数算符，就可以谈平移。我们希望一般的流形上有和欧氏空间中一样的好性质：平移保内积。\r\n并不是任选度规g和导数算符都满足这一性质，只有满足的导数算符和度规才能在平移时保度规。\r\n如何找与一个度规适配的导数算符？（或反过来？）\r\n什么样的空间是平直空间？\r\n一个空间是否平直是看它的度规：\r\n，由度规g可以自然诱导出一个唯一的适配导数算符。若（黎曼曲率为0，则称这个空间是平直的）\r\n里奇张量和标量曲率\r\n定义里奇张量不必借助度规，但标量曲率需要。\r\ntrace part &amp;&amp; trace free part\r\n李导数、killing场与超曲面\r\n推前映射与拉回映射\r\n\r\n\r\n\r\n首先我们有两个流形M、N，然后我们有一个从M到N的光滑映射，然后在N上还有一个从N到R的映射。\r\n在这种情况下，我们能利用M到N的映射构造出两个新映射：\r\n拉回映射：:将N到R的映射利用“拉回”，得到从M到R的映射。\r\n推前映射：:将p点的矢量利用“推前”，得到点的矢量。\r\n拉回映射可以延拓至。即能把N上的型张量场变为M上的同型张量场，是场到场的映射。\r\n推前映射可以延拓至。即能把M中一点p上的型张量变为的同型张量。注意推前映射一般来说并不能把张量场映射到张量场。\r\n\r\n\r\n\r\n比如如果不是映上映射的话，M的像只是N的一个子集。M通过推前映射得到的也只能是上的一个场而不是N上的一个场。\r\n如果不是一一映射，那么可能有多个点在的作用下映射到N上的同一个点（比如q点），那么同样无法明确指定推前映射在q点的像。\r\n微分同胚映射的主动提法和被动提法：\r\n主动：\r\n什么是李导数？\r\n李导数就是对一个张量场在某一点处沿着一个光滑矢量场求导。\r\n为简便写型张量： \r\n什么是等度规\r\n若微分同胚满足，则称为等度规映射，简称为等度规。\r\n什么是killing矢量场？\r\n给定一个光滑矢量场，能诱导出流形上的一个单参微分同胚群。\r\n有些特殊的矢量场，诱导出的不仅是单参微分同胚群，而且是单参等度规群。这样的矢量场叫做killing矢量场。\r\n定义：\r\n上的矢量场称为killing矢量场，若它给出的单参微分同胚群是单参等度规群。\r\n等价地，称为killing矢量场若。\r\n什么是超曲面？\r\n映射称为嵌入，若是一一映射并且是光滑的，并且，推前映射非退化。\r\n这样一个映射能将上的拓扑结构和微分结构带到上去，从而使得是一个微分同胚。\r\n一个嵌入也称为的嵌入子流形，也常把映射的像称为嵌入子流形。若，则称为的一张超曲面。\r\n法矢/法余矢\r\n谈到曲面，一般来说会谈它的法矢。显然，法矢应该定义成与切矢正交的矢量。但是这里有两个问题：\r\n\r\n还没有定义切矢\r\n还没有度规，没有度规就没法定义正交\r\n\r\n对于问题1，定义切矢：\r\n设是的超曲面，。作为的一点，有维切空间。若是过且躺在上的某曲线的切矢（躺在是指曲线每点都在上），则说切于。中全体切于的元素构成的子集记作，超曲面的定义保证是的维子空间。\r\n对于问题2，可以定义法余矢（余矢是对偶矢量的别名）。这样就无需度规了。\r\n超曲面的类时/类空/类光\r\n通过超曲面的法余矢的类时性质可以定义超曲面的类空性质。\r\n子流形的诱导度规\r\n微分形式\r\n微分形式是一种(0,l)形式的张量，为什么微分形式？\r\n因为我们只会对微分形式做积分。\r\n特殊的张量配特殊的东西\r\n是M上全体l形式场的集合。\r\n微分形式之间有种特殊的运算叫楔形积。其目的是为了构成形式的基底。如果还像普通的的张量一样通过张量积构造基底，那么就会遇到问题：两个形式的张量积不一定是全反称的，因此不一定还是形式。\r\n一个简单的保证张量积之后还是形式的方式就是张量积之后再做一次全反称化。\r\n流形M上的外微分算符是一个映射，从l形式场到l+1形式场。\r\n\r\n注意：虽然定义中出现了，但是求一个形式场的外微分并不要求流形有附加结构。可以取任意微分算符。\r\n特殊地，有\r\n如果将w用对偶坐标基底的楔积展开，那么w的外微分很容易写出（只需对展开系式做微分）。\r\n，也就是外微分复合外微分等于0.\r\n如果的外微分是，那么就称为闭的。\r\n如果存在，使得，那么就称为恰当的。\r\n显然，如果是恰当的，那么一定时闭的。\r\n如果是在上讨论问题，那么逆命题也是对的。\r\n但一般来说是不对的。但至少局域的是对的。\r\n为什么说是局域？因为是微分形式场，想说它成立必须要在整个上找到一个。\r\n\r\n注意这里的局域不是局域存在，也就是只有上的一个子集上有存在。而是在整个上每个点都存在一个使得在的邻域内，但是每个邻域内的不一定一样。\r\n在流形上积分\r\n地上，不同方向的积分差符号。所以我们要先研究如何对流形定向。\r\n维流形是可定向的条件是上存在一个维连续的，处处非零的微分形式场。\r\n比如R^3，选\r\n说明可定向，并且确实给出了的一个定向。\r\n不同的给出不同的定向，但是显然我们可以选定作为一个定向，通过乘以不同倍数，可以给出无数定向。\r\n然而直观的看，方向应该只有两种。\r\n\r\n不同的给出的定向可以是等价的\r\n\r\n维流形上的维微分形式场的全体构成一个矢量空间，并且这个矢量空间是维的。也就是说两个微分形式场之间至多差一个标量场。\r\n如果这个标量场处处为正，那么就说这两个微分形式场给出的定向等价。\r\n推广右手系\r\n先人为选定一个定向，使得流形成为一个定向流形，然后选定的坐标系就可以通过选定的定向判断是右手系还是左手系了。如果选定坐标系的对偶坐标基矢的楔积给出一个与给定定向等价的定向，则称为右手系。\r\n同样的，对基底场也可以定义左手右手。\r\n定向之后，被积的是什么呢？\r\n被积分的是维形式场。\r\n在上的一个子集上的积分\r\n\r\n\r\nimage-20220425021128216\r\n\r\n子集到这种程度 \r\n\r\n对形式积分就等于对形式分量的普通积分\r\n可以证明，这样定义的积分是坐标系无关的。（严格来讲不对，如果从右手系换到左手系，积分差个负号）\r\n//\r\n考虑一个超曲面上的一个矢量场，有些矢量可能是从超曲面内指向超曲面外的（直观上讲），而有些切于超曲面。对于一个有矢量从超曲面内指向超曲面外的矢量场没法定义积分，\r\n带边流形\r\n带边流形的定义仅仅是将流行定义中的“存在到的微分同胚”换成存在到的微分同胚。\r\n上映射到的边的点称为带边流形的边界点。\r\n所有边界点（也就是的边）记为\r\n的内部记作\r\nhttps://zhuanlan.zhihu.com/p/353886699\r\nhttps://www.zhihu.com/question/41521043/answer/91486843\r\nhttps://www.zhihu.com/question/19982831/answer/1997677074\r\nhttps://www.zhihu.com/question/37466122\r\n体元 与定向相容的体元 与度规适配的体元\r\n维可定向流形上的任一个而且处处非零的形式场称为一个体元。\r\n这里的与描述定向的是同一个东西。实际描述的是体元，只不过恰好能用来描述定向。\r\n体元无限多种：两个之间差一个常数倍就算作不同体元。\r\n与定向相容的要求筛掉一大部分：与选定定向相差正常数倍的称为与定向相容的\r\n加上与度规适配确定了最后的唯一一个： 把体元确定到只差一个符号的程度（只剩两个）。\r\n与定向相容加上与度规适配确定唯一体元。\r\n后验的来看，我们想要这个形式退化成普通的体元，那就需要满足在流形上对积分得到的是流形的体积。而对形式积分就等于对展开分量的普通积分。因此，与度规适配相当于限制了。加上与定向相容相当于要求必须取正的那一个。\r\n对偶微分形式 \r\n因此，（在n维流形上）可以建立起l形式和和n-l形式的同构映射。\r\n定义： \r\n\r\n此处肯定要求流形M上定义了度规，此处的体元用的是与度规适配的体元。\r\n特殊地，f是标量场（0形式），f的对偶形式是n形式\r\n \r\n这个公式，f没有定义积分，但是n形式定义了积分。而能把标量场积分转化成n形式积分的原因就是二者对偶。\r\n对一个形式，对偶的对偶与本身至多差一个符号。差不差取决于度规的号差。\r\n为什么三维电动力学中只能看见矢量场和标量场？\r\n首先，对偶矢量（1-形式）和矢量之间只差一个降指标，可以靠度规完成。\r\n2-形式的对偶形式就是矢量，3-形式的对偶形式就是标量。\r\n3维空间的内积靠降指标加缩并。\r\n3维空间的外积？\r\n先对两个矢量降指标得到对偶矢量（1-形式），然后楔积得到一个2-形式。对这个2-形式取对偶形式得到1-形式，再用度规升指标得到一个矢量。\r\n通过计算，这个矢量和三维空间中叉乘的结果相同。\r\n狭义相对论\r\n为什么提到惯性坐标系之间的变换会联系到killing矢量场？\r\n","tags":["笔记","数学","物理"]},{"title":"摘抄","url":"/2021/08/15/%E6%91%98%E6%8A%84-1/","content":"关于怀疑论\r\n  有限程度的怀疑是有益的,对于证明和程序持怀疑态度(尤其是对你自己的东西),可以保持你的水平,并使你的工作比较稳定.\r\n但是, 过分怀疑就可能使自己一直闭门工作, 得不到出去锻炼和放松的机会.\r\n怀疑态度太浓, 就是在走向僵化, 在这种状态下,\r\n你会对是否正确和严谨极度担心, 以至于你做任何事都无法完成.\r\n\r\n——一位怀疑论者\r\n\r\n展开与化简\r\n  从单重和式过渡到二重和式,初看似乎是一种倒退,但实际上是进步,因为产生了更容易处理的和式.我们不可能指望不断地简化,简化,再简化来解决每一个问题:你不可能只向上爬坡而登上最高的山峰.\r\n代数恒等式\r\n  当Littlewood教授使用代数恒等式时,\r\n他总是让自己避免陷入证明他们的烦恼中. 他坚持认为: 一个恒等式如果为真,\r\n那么任何对验证足够迟钝的人都只需要花费少量的笔墨就能验证它.\r\n在下面几页里, 我的目的是驳斥这一论断.\r\n\r\n——F. J. Dyson\r\n\r\ntunneling\r\n  Though I wouldn't advise driving off a cliff in the hope that\r\nquantum mechanics will save you.\r\n\r\n——David J.Griffiths 《INTRODUCTION TO QUANTUM MECHANICS》\r\n\r\n","tags":["摘抄"]},{"title":"摘抄","url":"/2021/04/08/%E6%91%98%E6%8A%84/","content":"摘抄自 博客-“白玉楼之梦”编写光影包教程的后记\r\n\r\n\"一生倾注于文字 - 但它显然徒劳\r\n\r\n\r\n在保存逝去的事物.\r\n\r\n\r\n因为在我死后不能想象的未来\r\n\r\n\r\n谁还会去读?\"\r\n\r\n\r\n-John Updike\r\n\r\n​\r\n我认为,撰写序言和后记大概是写作时最大的乐趣所在,有人用微笑曲线来比喻完成一件工作时最大的乐趣是在工作开始和结束时,毕竟从开头到结束的路途往往异常坎坷,在陶瓷国古人云\"行百里者半九十\",在西方有人提出过\"圆周理论\",指出一项工程的实际耗时往往是理想预期中的3倍\r\n-\r\n刚好是圆的直径与周长的比例,显然无论古今中外,填坑比挖坑要难是公认的.老实说,这篇文章在最后阶段的冲刺经历并不是很愉快,一边忍受着Winter\r\nBlue时的寻死觅活,一边面对着一次次被打破的自设Deadline,看着屏幕上支离破碎的图形无论如何调整也总是无法绘制正确,这种绝望感几次让我险些放弃,对程序员来说,\"It\r\njust doesn't work\"是最让人崩溃的情景,幸好我挺过来了! ☺\r\n​\r\n在当初撰写教程时的上百个日夜中,我曾想\"等写到后记时我一定要好好吐槽一番...\"\r\n然而当我真写到这部分时却是无语凝噎,或许当时我真该把想说的话记下来 ?\r\n为什么要写这篇教程啊,Shadersmod的光影包本身就是一个很小众的\"市场\"呢,或许是因为当初我单纯想把自己研究Shadersmod的经验记下来,又或是纯粹为了憋一通字装逼?大概是因为我喜欢追求没有人做过的事吧.四年前的初春时我也在撰写一篇教程,也同样是作为一个刚刚入门的半瓶子晃荡的新人在作死地撰写一篇专业文章,当时我在那篇教程中写出过一些啼笑皆非的结论(还好都被及时改掉了w),我相信这篇教程里或多或少也会有些不足,事实上,本文的上半部分在截稿时和撰稿之初已有一些差异,这篇文章的写作过程对我而言也是一次学习的过程,正如那句玩笑\"学习一个语言的最好办法是去写一个它的解析器\",学习一个事物的最好方式或许是写一部它的教程,因为这会强迫你事无巨细地了解它的每一方面,如果不求甚解的话,我大可大段地从别处复制粘贴代码到我的光影包,幸好我并没有那样做,而是选择尽可能将那些晦涩难懂的原理用朴实的语言转述出来,有人将之称为\"二手知识\",比喻为\"吃别人嚼烂了吐出来的苹果\",而我更乐意将其比喻做\"吃别人烹调出的熟食\".\r\n​\r\n诚然,如果我们每个人都有一个极漫长的寿命,那么学习很可能会被作为一门艺术,或许我们可以回到像古希腊的学院一样,让学生们与名师面对面以讨论的方式学习,我们将有无穷无尽的时间,去钻研我们喜爱的学科,然而现实是社会为教育分配的时间已经快到了人的\"性价比\"的底线了,在这个知识和信息都在爆炸的年代,学习已经成了我们日常生活中,像呼吸、吃饭、撸-唔...我是说\"锻炼\",像锻炼一样重要的事情.尽管学习没有捷径,但我们都知道在两点间位移不变的情况下,是可以有无数种路程的,找出一条路程最短的轨迹,是教育者们永恒的追求,我写出这套\"二手知识\",也是为了降低入门难度,让更多人能更快地跳入图形学这个大坑\r\n(笑)\r\n​\r\n说起来,当时我又是怎么跳进这个大坑的啊,我印象中是13年10月,当时ici2cc给我发了个截图,是在Minecraft中渲染一个超低清的⑨,没错,这个就是后来的CustomSteve的原型,当时问我搞不搞,我当然是滋词,于是就跳入大坑了,当时是学着用传统的立即模式在Minecraft中绘制模型,具体的过程记不清了,总之当我在屏幕上终于绘制出一个不畸形的没贴图的小⑤时,我整个人都感觉生无可恋了(笑^2)\r\n或许这种\"视觉刺激\"远超过之前写过的任何程序吧,至此我就决定去跳这个大坑了,然而那时我还仅停留在OpenGL的API使用上,对底层的原理和更复杂的着色算法还一无所知,就这样混混沌沌地到了2015年的8月,我决定写这篇教程为止,那么现在呢?唔...我想是只学到了一个,就是从当初的什么都不知道,到现在的\"知道自己什么都不知道\"\r\n?\r\n在这段学习过程中,恐怕是为数不多的在考前复习之外的情境中,体会到\"当我学得越多,觉得自己懂得越少\"的感觉了.\r\n​\r\n考虑到这段后记正有向学期总结发展的趋势,我们还是来聊一些\"严肃\"的话题吧,或许你读完这篇教程后依然不能写出一个基本的着色器(当然我希望我的读者们并不是随便沿着超链接爬行的网络醉汉),也许你依然无法理解那些理论,但至少,我希望你能做到不惑,曾几何时计算机系统(但不要提计算机系统结构!那科我挂了!5天后的2月19日我还要去补考!)在外行眼中甚至如同本文开篇提到的\"黑魔法\"一样,就像祖父辈的人曾认为电灯要靠人点火,收音机里面藏了个人似的,而现如今虽然计算机与它的知识已经普及,但在这个巨大的学科当中不同分支间的隔阂也日益加剧,单是图形系统这一部分,对于日常工作不涉及到的人来说,也几乎与\"蛊术\"无疑,或许你读完这篇文章中不会去真的动手写一个光影包(如果你真的要这样做的话,小心那很累哦),但至少你不会再困惑于那些神奇的光影魔法是怎样做到的,不会再在UnityAssetStore上花几十刀买了一个五毛特效还感激涕零地给个好评.\r\n?\r\n​\r\n话题就这样莫名转到了U3D的黑枪上,我有个习惯是差不多每隔几个月就去跑一趟北京图书大厦,从新书的主题上就可以大致看出时下流行的技术,不过由于写作周期的制约,往往是在某项技术大火后的几个月才会有成书,比如Gradle是在去年9月才有了第一本中文书,然而这对U3D却不是问题,自从在14年初占领了大半个游戏类书架(我在此文中还吐槽过)后,你几乎可以仅凭U3D图书的标题就能知道U3D最新的版本号,足以精确到minor.相比之下,UE我在两年前看到过一两本针对UE3的,针对UE4的我好像没有见到,就连两只脚已经全踏进棺材的XNA都尚有一本书在架(虽然没有看它的封面,不知道是不是那本鱼书),而当初在2D领域与U3D平起平坐的Cocos2d-x现在也只剩寥寥几本了,看起来当年在坛子上一个萌二说的\"今后游戏界将只剩下U3D一个引擎\"预言快要成真了?好吧,我不知道这会不会成为现实,但我可以肯定André\r\nLaMothe在《Windows游戏编程大师技巧》中的结论\"一个初学者能在3~6个月中开发出一个Asteroids(爆破彗星)的复刻版就已经很不容易了\"已经失效了,甚至于这句话的上一句,\"想要开发一个和DOOM或Quake水平相当的游戏作为处女作,显然这是不可能的\",都已经快要失效,软件工程的荒蛮时代已经过去,我们可以尽情地站在前人的成果上攀登高塔,能有一个降低门槛、节省时间的东西,何乐而不为呢?既然如此,那为何现在还会有人在学习底层的技术?显然我们的目的不仅仅是省一笔钱,\"在一个免费的3A级游戏引擎横行的时代,我们的工作还有意义吗\",这是JME引擎\r\n- 一个老牌Java游戏引擎 -\r\n的开发者之一,在去年UE4和U3D宣布免费后,于官博上发的一篇文章的标题,在描述二线引擎存在的意义时,作者写道\"如果Unity和UE是游戏开发中的乐高玩具,那么JME就是一个怪蜀黍,给了你一把能打开他的塞满各种电动机床和裸露接线的工作间的钥匙,并且嘱咐你'拜托别把自己命玩进去'(当然,这只是一种逗闷子的夸张比喻,事实上我们是很重视用户体验的).大多数孩子在面对这种程度的自由时都会感到无所适从,但总会有人能做出在安全范围内几乎不可想象的东西.\"U3D、UE4作为一线的免费引擎,总能满足大部分人的需求,但是总会有人在寻求另一种可能,在两极争霸(甚至更糟的,单极称霸)的背景下开辟一个新的理想国;总会有人愿意去研究终不见天日的底层,为最重要却又最不引人瞩目的基础件添砖加瓦;也总会有人愿意牺牲时间将自己的成果或经验总结成文字、图片、视频或音频,以各种方式传授给后来者.有一段时间我也在给一个Java游戏引擎(但不是JME,猜猜是哪个?☺)写基础件,但工作还是差最后一点,但愿尽快能完成吧.最近一次去书店看到那个引擎居然已经有两本中文书了呢,可喜可贺啊!\r\n","tags":["摘抄"]},{"title":"数论-可做与不可做以及经验总结","url":"/2021/05/05/%E6%95%B0%E8%AE%BA-%E5%8F%AF%E5%81%9A%E4%B8%8E%E4%B8%8D%E5%8F%AF%E5%81%9A/","content":"本人对于数学推式子情有独钟，然而许多ACM题都只是套了个数学题的皮，实际上考察的是枚举/优化枚举的能力。而有些题虽然看起来没有数学背景，却可以转化成数学题。\r\n本文就是一些做题的经验总结，以便下次见到类似题目时可以知道什么时候可以尝试推式子，什么时候应该收心直接枚举。\r\n表整数为平方和：枚举一个，map存一个\r\n[yhm138的总结]\r\n表整数为立方和：不可做\r\n判二次方程是否是整数根\r\n对某特殊的二次方程，如，其求根公式为\r\n分奇偶性分析，最终结论是只要为整数，就一定是整数根。\r\n该结论可以推广：任意整系数的次方程，其有理根一定是整数根。\r\n  证明：\r\n\r\n带入方程，同乘以，并移项：\r\n若，取为的任意因子，，与矛盾\r\n因此，，为整数\r\n\r\n证毕\r\n\r\n型同余方程\r\nBSGS算法\r\n","tags":["数学","总结"]},{"title":"数论函数及莫比乌斯反演习题汇总","url":"/2022/01/20/%E6%95%B0%E8%AE%BA%E5%87%BD%E6%95%B0%E5%8F%8A%E8%8E%AB%E6%AF%94%E4%B9%8C%E6%96%AF%E5%8F%8D%E6%BC%94%E4%B9%A0%E9%A2%98%E6%B1%87%E6%80%BB/","content":"\r\n此为ACMer的数论函数笔记，不是给学数学的人看的。\r\n\r\n数论函数\r\n取整\r\n表示不超过的最大整数。\r\n整除式之间的相等\r\n证明重要的等式，会在莫比乌斯反演中用到。\r\n整除分块\r\n整除分块用来对形如的和式快速求值。\r\n对这样的式子，显然有的算法，但通过打表，我们可以发现如下性质：\r\n\r\n多个的值可能是相同的，并且相同的值都连续分布。\r\n对于每一个值相同的块，它的最后一个数就是，这里的除法当然是整除。\r\n\r\n因此，我们可以用每个值相同的块的值乘以块长度来求上述求和。可以证明，该方法复杂度为\r\nCode：\r\nfor(int l=1,r;l&lt;=n;l=r+1){\tr=n/(n/l);\tans+=(r-l+1)*(n/l);}\r\n整除分块应用\r\n许多带有取整的求和都可以通过整除分块来处理。\r\n，N、M为常数\r\nfor(int l=1,r;l&lt;=n;l=r+1){\tr=min(n/(n/l), m/(m/l));\tans+=(r-l+1)*(n/l)*(m/l);}\r\n，N、M为常数\r\n先预处理求出的前缀和，然后每一段的区间长度变为的区间和。\r\nfor(int l=1,r;l&lt;=n;l=r+1){\tr=min(n/(n/l), m/(m/l));\tans+=(sum[r]-sum[l-1])*(n/l)*(m/l);}\r\n，为常数\r\n这个式子与第一个不同（没什么特别的意思，只是我第一次见这个式子时当成了第一个式子去处理，所以提醒一下不要犯这样的错误），整理一下就是两个整除分块的乘积。\r\n\r\n设，就可以化成\r\n的值是分块的，所以的值也是分块的，预处理出f的值和的前缀和即可。\r\n，求时的值\r\n设，实际上就是求到。一般来讲就是用k次整除分块。但是有，也就是说，就是的前缀和。因此，可以用线性筛。[P3327]约数个数和\r\n积性函数\r\n满足对任意一对互质的数，都有的函数叫做积性函数。\r\n所有积性函数都可以用线性筛求出前缀和。（大概）\r\n各种积性函数\r\n\r\n， 则。\r\n素数幂处的取值：由表达式得，\r\n所以，\r\np4240 毒瘤之神的考验 \r\n\r\n使用迪利克雷卷积得到 \r\n \r\n 因子数函数\r\n由于和整除分块之间的联系，可以根号时间内求值。\r\np3327 约数个数和 \r\n\r\n除数函数，当k=1时称为因子和函数，k=1时就是因子数函数d。\r\n\r\n幂函数，当k=1时是恒等函数。\r\n证明是积性函数\r\n一般遇到的都是求和，求因子和，各种数论函数的组合。\r\n积性函数的积是积性函数\r\n积性函数的莫比乌斯变换是积性函数\r\n积性函数的迪利克雷卷积是积性函数\r\n因此，，都是积性函数。\r\n求积性函数\r\n质因数分解\r\n需要单点求值，或者是数过大，只能用质因数分解来表示时使用。\r\n复杂度依计算的复杂度而定。如果计算的复杂度是，那么总复杂度是\r\nll get_f(ll n){\tll ans = 1;\tfor (int i = 2; i * i &lt;= n; i++) {\t\tint cnt = 0;\t\twhile (n % i == 0) cnt++, n /= i;\t\tans *= f(i, cnt);\t}\tif (n &gt; 1) ans *= f(n, 1);\treturn ans;}\r\n线性筛筛积性函数\r\n对每个积性函数，都分三种情况考虑：\r\n\r\n是质数，一般这种情况是很好计算的，比如等等。\r\n是个合数，那么在线性筛中一定是像这样被遍历到的：，表示n的最小的质因子。\r\n\r\n那么如果，说明的两部分，是互质的，所以\r\n如果，说明的最小质因子的次数不是一次，那么需要一个数组cnt记录最小质因子的次数。假设的质因数分解中是次，那么一定是次。\r\n\r\n\r\n因此，推线性筛公式时，只需要推该积性函数在质数处的取值，以及比值即可。\r\nconst int maxn = 1e6;bool not_prime[maxn + 10];int prime[maxn + 10], tot = 0;int cnt[maxn + 10];int f[maxn];int calc_f(int i, int j){    return 0;}void sieve(int n){    f[1] = 1;    for (int i = 2; i &lt;= n; i++) {        if (!not_prime[i]) prime[++tot] = i, f[i] = calc_f(i, 1);        for (int j = 1; j &lt;= tot &amp;&amp; i * prime[j] &lt;= n; j++) {            not_prime[i * prime[j]] = 1;            if (i % prime[j] == 0) {                cnt[i * prime[j]] = cnt[i] + 1;                f[i * prime[j]] = f[i] / calc_f(prime[j], cnt[i]) * calc_f(prime[j], cnt[i] + 1);                break;            }            cnt[i * prime[j]] = 1;            f[i * prime[j]] = f[i] * calc_f(prime[j], 1);        }    }}\r\n\r\n传说可以对某个n直接线筛gcd(x,n)的。\r\nhttps://www.luogu.com.cn/blog/221955/solution-p6091\r\n\r\n亚线性筛\r\n杜教筛\r\nmin_25筛\r\n洲阁筛\r\n狄利克雷卷积、应用\r\n  定义：两个数论函数和的狄利克雷卷积也是一个数论函数，，简记为\r\n许多数论函数都可以写成狄利克雷卷积的形式：\r\n因子个数：  因子和：  欧拉函数： \r\n狄利克雷卷积有以下性质：\r\n\r\n满足交换律\r\n满足结合律\r\n对任意数论函数，存在单位元，。\r\n对满足的数论函数，存在逆元，使得。\r\n\r\n\r\n所以，对于狄利克雷卷积，全体的数论函数构成一个阿贝尔群。\r\n简单来讲就是只要参与狄利克雷卷积运算的函数都满足，那么狄利克雷卷积就满足交换律，满足结合律，存在逆元，存在幺元。\r\n\r\n那这个东西有什么用呢？\r\n\r\n证明某个函数是积性函数\r\n比如直接得到是积性函数。\r\n给出数论函数（积性函数）之间的等式，然后可以用于莫比乌斯反演中的化简。\r\n比如欧拉函数除了上面的以外还有一种形式：。\r\n因为\r\n\r\n使用例：hdu6428 Calculate\r\n计算，\r\n\r\n\r\n底下有详解（到时候在下面插一个锚点）\r\n\r\n（可能会有）狄利克雷生成函数\r\n莫比乌斯反演题目\r\n从简单到复杂（以下均假设,\r\n）\r\nP2158 仪仗队\r\n\r\n2 P4450 双亲数\r\n\r\n2 P1447 能量采集\r\n\r\n3 P1390 公约数的和\r\n\r\n3\r\n\r\n设  就是等差数列求和，可以O(1)求。并且是分块的。先线性筛出的前缀和，然后整除分块即可。\r\n4 nowcode 22769/E Sum\r\nof gcd of Tuples (Hard)\r\n原题中的k是这里的n，原题中的n是这里的m \r\n\r\n也可以从第一步开始就欧拉反演，会快很多\r\n4 P3911 最小公倍数之和\r\n\r\n令， \r\nnowcode 22769/C 序列\r\n有两个序列a、b，求有多少有序对满足。\r\n \r\nP3327 约数个数和\r\n\r\n6\r\n\r\nf是斐波那契数列  令T=kd  如何得到这个式子呢？可以取个对数 \r\n\r\n里面暴力维护求前缀，然后整除分块。\r\nhttps://www.luogu.com.cn/blog/xgzc/solution-p3704\r\n7\r\n\r\n8 P3911 最小公倍数之和/AT5200\r\nLCMs\r\n对  先用c数组预处理每个数出现的次数   暴力求.\r\n\r\n预处理g的两种写法\r\nfor (int i = 1; i &lt;= n; i++)\tfor (int j = i; j &lt;= n; j += i)\t\tf[j] += i * mu[i];for (int i = 1; i &lt;= n; i++) \tfor (int j = 1; i * j &lt;= n; j++) \t\tf[i * j] += i * mu[i];\r\n稍微改变一下推导方式，可以得到等价的式子  使用狄利克雷前缀和可以的计算。\r\nhttps://www.luogu.com.cn/problem/solution/AT5200 里有紫钦的使用狄利克雷卷积优化的式子（但复杂度是一样的）\r\nP5495 Dirichlet\r\n前缀和\r\nDirichlet\r\n前缀和的几种版本\r\nDirichlet前缀和及其拓展\r\n9 hdu6428 Calculate\r\n\r\n对于，实际上就是是的倍数，在到之间，的倍数共有个。\r\n对于也一样，只不过现在应该分别是的倍数。（对做质因数分解，, 如果，那么），在到之间，的倍数共有个。\r\n设，公式可以化简成  和都是积性函数，可以线性筛预处理。\r\n其他偏序关系上的莫反\r\nhttps://www.zhihu.com/question/23764267\r\nhttps://blog.csdn.net/skywalkert/article/details/50500009?utm_medium=distribute.pc_relevant.none-task-blog-2defaultbaidujs_baidulandingword~default-1.no_search_link&amp;spm=1001.2101.3001.4242.2\r\nhttps://quant-ask.blog.csdn.net/article/details/114042639?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2defaultCTRLISTdefault-1.no_search_link&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2defaultCTRLISTdefault-1.no_search_link\r\n","tags":["笔记","题解","数学"]},{"title":"日语","url":"/2021/09/23/%E6%97%A5%E8%AF%AD/","content":"日语\r\n句子成分\r\n日语的一句话也是主谓宾定状补这些东西组成的。只不过有些不一样：\r\n\r\n在中文里面语序是主谓宾，日语里的语序是主宾谓\r\n肯定还有第二条，但我还没想出来\r\n\r\n一个简单例句：\r\n私主は　学生宾　だ谓。\r\n私：是主语，后面的「は」是助词，表示前面的「私」是主语。\r\n学生：显然是宾语。\r\nだ：一个助动词，做谓语。\r\n其他很多的句子也都是这个结构，无非是：\r\n\r\n主语换一换，谓语换一换，宾语换一换\r\n在前面用其他组词把各种时间状语地点状语之类的加上\r\n对谓语变形，比如说「だ」是所谓“简体形”，如果想表示更礼貌一些可以换成“敬体型”的「です」。\r\n\r\n动词\r\n动词三分类\r\n\r\n为什么要分类？\r\n日语中会对动词进行变形来表示各种意思，比如「ます」型比原型更礼貌。而一类、二类、三类的动词各有各的变形方法。因此需要对词进行分类。\r\n不只动词要分类，形容词也要分类。\r\n\r\n首先，日语中的动词分为两部分，词干和词尾。动词的前面都是词干，最后一个假名是词尾。\r\n比如「食べる」 词干：「食べ」词尾：「る」\r\n而动词词尾有一个很明显的特征，就是词尾的假名都是う段的。\r\n\r\n一类动词（五段动词）\r\n\r\n非る结尾的动词都是一类动词\r\nあ段+る/う段+る/お段+る的单词都是一类动词\r\n部分不满足上面两条的一些特殊动词也是一类动词\r\n切る　きる\r\n帰る　かえる\r\n走る　はしる\r\n\r\n二类动词（一段动词）\r\n\r\nい段+る的单词都是二类动词（上一段动词）\r\nえ段+る的单词都是二类动词（下一段动词）\r\n\r\n三类动词（カ变/サ变动词）\r\n\r\n来る（くる）\r\nする　名词+する组成新动词　勉強する、散歩する\r\n\r\n\r\n变形规则\r\n\r\n\r\n\r\nます形\r\n\r\n一类动词（五段动词）\r\n按照想要变形的方式对动词词尾进行五段变化。比如要变成ます型就要把词尾变成同行的い段假名。\r\n書く　ー　書きます\r\n二类动词（一段动词）\r\n二类动词一律把词尾的る去掉进行变化。\r\n見る　ー　見ます\r\n三类动词（カ变/サ变动词）\r\n只有两个，单独记忆\r\n来る（くる） ー　来ます（きます）\r\nする　ー　します\r\n\r\nます形语法\r\n动词的ます型\r\n动词变为ます型，表示礼貌\r\n\r\n\r\n\r\nます\r\n肯定\r\n否定\r\n\r\n\r\n\r\n\r\n现在\r\nます\r\nません\r\n\r\n\r\n过去\r\nました\r\nませんでした\r\n\r\n\r\n\r\n\r\n动词ます形否定+か\r\n动词ます形的否定形式ません加上表示疑问的か，委婉的表示提议。\r\n例：\r\n\r\n\r\n一緒に（いっしょに）　お茶を　飲みませんか。\r\n一起喝茶好吗？\r\n\r\n\r\n用在口语中时，可以把「ませんか」替换成「ましょう」。\r\n例：\r\n\r\n\r\nちょっと　休みましょう。\r\n稍微休息一会吧。\r\n\r\n\r\na\r\n\r\nて形\r\n\r\n一类动词（五段动词）\r\n\r\n\r\n\r\nす　ー　して\r\n話（はな）す　ー　話して\r\n\r\n\r\n\r\n\r\nく　ー　いて\r\n磨（みが）く　ー　磨いて\r\n\r\n\r\nぐ　ー　いで\r\n急（いそ）ぐ　ー　急いで\r\n\r\n\r\nる、う、つ　ー　って\r\n洗（あら）う　ー　洗って\r\n\r\n\r\nね、む、ぶ　ー　んで\r\n遊（あそ）ぶ　ー　遊んで\r\n\r\n\r\n\r\n二类动词（一段动词）\r\n二类动词一律把词尾的る去掉变成て。\r\n食（た）べる　ー　食べて\r\n三类动词（カ变/サ变动词）\r\nする　ー　して\r\n来（く）る　ー　来（き）て\r\n可以看成是把す，く在50音表中前移一位。\r\n\r\nて形语法\r\n\r\n动词て型　「动词」\r\n表示两个及以上的动作相继发生。\r\n例：\r\n\r\n\r\n昨日　デパートへ　行って、買い物（かいもの）しました。\r\n図書館へ　行って　本を　借りて、家へ　帰ります。\r\n\r\n\r\n动词て型から　「动词」\r\n表示动作相继发生。与上一个语法几乎没有区别，只是てから不能在同一个句子中重复出现。\r\n例：\r\n\r\n\r\n李さんは　毎晩　ラジオ（radio）を　聞（き）いてから　寝（ね）ます。\r\n\r\n\r\n动词て型　ください\r\n求某人做某事。\r\n例：\r\n\r\n\r\nここに　住所（じゅうしょ）と　名前を　書いて　ください（请在这里填写住址和姓名）\r\n\r\n\r\n私に　教（おし）えてください（请告诉我）\r\n\r\n\r\n~て　くださいませんか。\r\n是てください的更礼貌的说法。\r\n\r\n\r\n後で　写真も　見て　くださいませんか。（稍后能请您过目下照片吗？）\r\n\r\n\r\n动词て型　います\r\n表示正在进行。\r\n例：\r\n\r\n\r\n森さんは　今（いま）　新聞を　読んで（原型是読（よ）む）　います。\r\n\r\n\r\n森さんは　今　仕事（しごと）を　して(原型する) います。\r\n\r\n\r\n动词て型　います\r\n表示动作留下的影响和结果。\r\n\r\n就像英文中进行时可以表示进行，也可以表示状态。\r\n\r\n动词て型　も　いいです（注意读的时候一般是ても连读）\r\n表示许可\r\n例：\r\n\r\n\r\nA:\r\nここで　写真（しゃしん）を　撮って（原型撮（と）る）　も　いいですか。\r\nB: いいですよ。\r\n\r\n\r\n动词て型は　いけません（てわ一起读）\r\n表示禁止\r\n例：\r\n\r\n\r\nA: この　部屋（へや）に　入（はい）って　いけませんか。\r\nB: はい、入っては　いけません。\r\n\r\n\r\n\r\nた形\r\nた形变形与て形变形完全相同，只不过て　ー　た、　で　ー　だ。\r\nた形语法\r\nたい形\r\nたい形可以在ます形基础上直接去掉ます加たい。\r\nたい形语法\r\nたい表示主语的愿望。比如\r\n食べたい（想吃）、したい（想做）、飲（の）みたい（想喝）\r\n如果要表示否定，方式和一类形容词相同，既可以去い加くない，也可以去い加くありません。比如：\r\n食べたくない（不想吃）、飲みなくない（不想喝）、したくありません（不想做）\r\n例：\r\n\r\n\r\n今日は　お酒　を　飲みたくないです。\r\n我今天不想喝酒。\r\n\r\n\r\nA: （あなたは）　何　を　したいですか。\r\nB: 何も　したくありません。\r\n你想做什么？\r\n\r\n\r\nたい的对象\r\nたい的对象如果使用助词を，则可以替换为が。但如果不是を就不能替换。\r\n但是「欲しい」的对象只能用を。\r\n例：\r\n\r\n\r\n水（みず）　を　飲みたいです。\r\n水　が　飲みたいです。\r\n\r\n\r\n学校（がっこう）に　行きたいです。\r\n这句中的に不可替换为が。\r\n\r\n\r\n未然形\r\n\r\n一类动词（五段动词）\r\n将词尾变成同行的あ段假名（特例，う要变成わ）\r\n書く　ー　書か\r\n二类动词（一段动词）\r\n二类动词一律把词尾的る去掉。\r\nたべる　ー　たべ\r\n三类动词（カ变/サ变动词）\r\n只有两个，单独记忆\r\n来る　ー　こ\r\nする　ー　し、せ、さ（根据后面接的东西不同，有可能变成し、せ、さ）\r\n\r\n注：有的书中使用ない形这个名字，并在后面加ない\r\n未然形语法\r\n\r\n动词未然形+ないでください 表示否定的命令\r\n\r\n\r\n部屋の　鍵お　忘れ　ないでください。\r\n请不要忘记房间的钥匙\r\n\r\n\r\n动词未然形+なければ　なりません 表示必须\r\nなければ　なりません也可以换成ないと　いけません\r\n\r\n\r\nこの　薬（くすり）は　毎日　飲ま　なければなりません。\r\n私は　宿題（宿題）を　かか　なければ　なりません\r\n\r\n\r\n动词未然形+なくても　いいです 表示不做某事也可以\r\n\r\n\r\n明日、運動（うんどう）し　なくても　いいです。\r\n\r\n\r\n\r\n可能形\r\n可能形表示能够做到……，相当于中文的“能……”，“会……”。\r\n变形方法：\r\n\r\n一类动词\r\n将词尾的う段假名改为对应的え段假名+る\r\n書く　　書ける\r\n切る　　切れる\r\n二类动词\r\n直接去掉词尾的「る」，加「られる」\r\n見る　　見られる\r\n三类动词\r\nする　　できる\r\n来る　　来こられる\r\n\r\n变形之后相当于都变成了二类动词，因此否定直接去「る」加「ない」。\r\n注意：\r\n見える、見られる都有能看到的意思，聞ける、聞こえる都有能听到的意思。\r\n\r\n見える　→　没有障碍物，没有受到任何阻碍、自然地映入眼帘。\r\n見られる　→　并非自然地映入眼帘，而是根据自己的意志选择性地看到。\r\n\r\n常用动词\r\n\r\nください （给）\r\n「名词」を　ください\r\n给我「名词」。常用于花钱购物或者是不花钱的索取\r\n例：\r\n\r\n\r\nこの本を　ください。 我要买这本书（请给我这本书）\r\n\r\n\r\n「なぜ」と「どうして」\r\n「なぜ」就是单纯的问事情的原因。而「どうして」是含有感情的问，可能并不是因为想知道理由才问\r\n\r\n今日はなぜ遅れたのですか？\r\n今日はどうして遅れたのですか？\r\n\r\n两句中的感情色彩不同。\r\n「どうしてですか」可以单独使用，相当于中文中的为什么。回答时需要在句尾加から。\r\n例：\r\n\r\n\r\nA:\r\n僕（ぼく）は　来週　また　ここへ　来ますよ。（我下个月还会来这里）\r\nB: どうしてですか。（为什么？）\r\nA:\r\nここで　友達（ともだち、不是ともだじ）の　結婚式（けっこんしき）が　ありますから。（因为朋友要在这里举办婚礼）\r\n\r\n\r\nそうして　ください\r\n「そうして」来自三类动词\r\n「こう」、「そう」、「ああ」 这样，这样，那样\r\n加する变成三类动词「こうする」、「そうする」、「ああする」\r\n这样做，这样做，那样做\r\n三类动词加して变成て型，得到「そうして」\r\n后面的「ください」是“请”的意思。\r\n连在一起就是“请您这/那样做”。\r\n例：\r\n\r\n\r\nA: 速達（そくたつ）で　出しますか。（是要寄快件吗？）\r\nB:\r\nええ、そうして　ください。（是的，请您那样做）-&gt;（是的，是要寄快件）\r\n\r\n\r\nA:\r\n暗（くら）いですね。電気（でんき）お　つけますが。（好暗啊，要开灯吗？）\r\nB:\r\nええ、そうして　ください。（是的，请您那样做）-&gt;（是的，请开灯）\r\n\r\n\r\n欲（ほ）しい\r\n表示愿望时使用“[名词1]は\r\n[名词2]が　欲しいです”。[名词1]是愿望的主体，[名词2]是愿望的对象。\r\n\r\n\r\nわたしは　新（あたら）しい　洋服が　欲しいです。\r\n\r\n\r\n\r\n形容词\r\n形容词的分类\r\n\r\n一类形容词（形容词）的假名都是以「い」结尾。\r\n通常如果可以写成「汉字+い」的形式，就是一类形容词。只有少部分二类形容词可以这样，特例需要额外记忆。\r\n二类形容词（形容动词）就是除一类形容词以外的形容词。\r\n长得像一类形容词的二类形容词：「綺麗（きれい）」、「詳細（しょうさい）」、「愉快（ゆかい）」。\r\n\r\n上述的「綺麗（きれい）」、「詳細（しょうさい）」、「愉快（ゆかい）」都只是词干，实际上二类形容词有词尾「だ」。一般只有在讲相关语法时会说对二类形容词去「だ」加……，其余很多时候提起二类形容词都省略词尾只写词干。\r\n\r\n\r\n变形规则\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n一类形容词\r\n肯定\r\n否定\r\n\r\n\r\n\r\n\r\n现在\r\n原型\r\n去い、加くない/去い、加くありません\r\n\r\n\r\n过去\r\n去い、加かった\r\n去い、加くなかった/去い、加くありませんでした\r\n\r\n\r\n\r\n注意：动词（以及二类形容词）变形时是在动词符号です上变形，但一类形容词是直接对形容词变形，后面加的都是です。\r\n此外，变形时有特例：いいです（好）　ー　よくないです/よくありません\r\n\r\n\r\n\r\n二类形容词\r\n肯定\r\n否定\r\n\r\n\r\n\r\n\r\n现在\r\nです\r\nではありません\r\n\r\n\r\n过去\r\nでした\r\nではありませんでした\r\n\r\n\r\n\r\n\r\n二类形容词　な　名词です\r\n二类形容词修饰名词需要在形容词和名词间加「な」\r\n例：\r\n\r\n\r\n奈良（なら）は　静（しず）かな　町（まち）です\r\n\r\n\r\n\r\nて型\r\n\r\n一类形容词\r\n将词尾的い变为くる\r\n二类形容词\r\n直接加で\r\n\r\nて型语法\r\n\r\n形容词て型　+　二类形容词\r\n表示并列\r\n例：\r\n\r\n\r\nホテルの　部屋（へや）は　広くて　明（あか）るいです。\r\nこの　コンピュータの　操作（そうさ）は　簡単（かんたん）で　便利（べんり）です。\r\n森さんは　親切（しんせつ）で　優しいです。\r\n\r\n\r\n\r\n形容词相关语法\r\n修饰名词：\r\n\r\n一类形容词直接修饰名词\r\n二类形容词修饰名词需要去掉词尾的「だ」加「な」\r\n\r\n例：\r\n\r\n広い国\r\n奈良（なら）は　静（しず）かな　町（まち）です\r\n\r\n但是也存在特例，比如：「多（おお）い」、「少（すく）ない」不能直接修饰名词。如果单独来修饰人这个名词（多い人）的话，会觉得很奇怪，因为这个形容的意义不能用来描述人这个名词（其他还有深い、浅い等）。\r\n但是当我们在「多い」的前面补充一些可以用来描述人的词语，那么它们也可以修饰名词：\r\n髪の多い人。髪の少ない人。 考えの深い人。间柄の浅い人。\r\n或者也可以将其用作谓语，比如：本は　多いです。\r\n日语中还有一个词：「たくさん」。可以参考杂项。[传送门]\r\n修饰动词：\r\n\r\n一类形容词加「く」变为副词\r\n二类形容词去「だ」加「に」变为副词\r\n\r\n\r\n牛肉を　薄く　切ります。\r\n今晩　早めに　帰るか　もしれ。\r\n\r\n常用形容词\r\n好（す）き、元気（げんき）、便利（べんり）、嫌（きら）い、綺麗（きれい）、有名（ゆうめ）、にぎやか、静（しず）か、簡単（かんたん）、暇（ひま）、不便（ふべん）、親切（しんせつ）\r\n助词\r\nか\r\n\r\n「名词」か　「名词」\r\n对若干名词进行选择，相当于中文中的“或”\r\n例：我今晚要么看动漫要么看电视剧\r\n今晩（こんばん）、私は　アニメか　ドラマを　見ます。\r\n\r\nが\r\n\r\n提示主语\r\n“は”其实是“提示主题”，而“が”才是这个句子的真正的主语。\r\n「好きです」、「嫌（きら）いです」、「怖（こわ）いです」等表达情感的形容词可以以“[名1]は\r\n[名2]が　一类形容词/二类形容词です”的句式使用。\r\n例：\r\n\r\n\r\n王さんは　肉が　嫌いです。\r\n中村さんは　犬が　怖いです。\r\n\r\n\r\n「分（わ）かります」、「できます」、「上手（じょうず）です」、「下手です」、「苦手です」等有关能力的词可以以“[名1]は\r\n[名2]が　一类形容词/二类形容词です”的句式使用。\r\n例：\r\n\r\n\r\n小野さんは　料理（料理）が　上手です。\r\n\r\n\r\n\r\nは\r\n\r\nは　提示主题\r\nは　除了表示提示主题，还可以表示对比\r\n例：\r\n\r\n\r\n小野さんは　今日（きょう）は　休（やす）みます。（表示对比，比如昨天没有休息，但是今天休息）\r\n\r\n\r\nA: 森さんは　毎朝（まいあさ）　何時（なんじ）に　起きますか。\r\nB: いつもは　七時ごろです。（对比，平时七点，今天不是七点）\r\n\r\n\r\nは表示对比时，可以加在に、で、へ、から、まで、と的后面构成复合形式。（但是注意不能与を连用）口诀：从开始（から）到目前为止（まで），你（に）喝（へ）的（で）多（と）\r\n例：\r\n\r\n\r\n日本へは　行きました。中国へは　いきましんでした。（我去了日本，没去中国）\r\n\r\n\r\nは表示对比时，口语中这种情况用的很多　コーヒーは　飲（の）みます\r\n\r\nに\r\n\r\n存在句中的某处\r\n例：\r\n\r\n\r\n机（つくえ）の上（うえ）に　本があります。\r\n\r\n\r\n「时间」に　动词\r\nhttps://baijiahao.baidu.com/s?id=1654496969991405178&amp;wfr=spider&amp;for=pc\r\n表示动作发生的时间时，要在具体时间词语后加上助词に\r\n例：\r\n\r\n\r\n林さんは　八時に　起きます。\r\n\r\n\r\n八時、林さんは　起きます。\r\n\r\n\r\n但也有些时间词语不能加に：\r\n今/昨日/今日/明日/每日/去年/来年等等 不需要加に\r\n「～曜日」　一般加に，但视情况也可能不加\r\n名【附着点】に　动词\r\n人或者物体停留在交通工具或椅子上等时，附着点用に表示。\r\n例：\r\n\r\n\r\n李さんは　電車（でんしゃ）　に　乗（の）りました。\r\n\r\n\r\n表示动作的目的\r\n例：\r\n\r\n\r\n今度（こんど）　ぜひ　家（いえ）へ　遊びに　来て　ください。\r\n\r\n\r\n映画を 見に 行きます。\r\n\r\n“来”的目的是“玩”，“出去”的目的是“看”。\r\n\r\n表示后面的结果和前面的意图是“相反”的。\r\n例：やめるにやめられず　欲罢不能\r\n\r\nも\r\n\r\n助词も表示“也”\r\n例：\r\n\r\n\r\nあなた　も　北京大学の学生ですか。\r\n\r\n\r\n表示全盘否定\r\n\r\n疑问句+も+动词的否定形式\r\n例：\r\n\r\n\r\n教室に　誰も　いません。（例句中的疑问是「誰」，「教室に」表示的是地点）\r\n\r\n\r\n冷蔵庫に　何も　ありません。（例句中的疑问是「何」，「冷蔵庫に」表示的是地点）\r\n\r\n\r\n对提问全盘否定\r\n对于名词+に/から/と+动词的提问，可以用：名词+にも/からも/とも+动词否定来表示全盘否定\r\n例：\r\n\r\n\r\nA: 誰に　会（あ）いたいですか。你想见谁？\r\nB: 誰にも　あいたくないです。谁都不想见。\r\n\r\n\r\n誰と　食べたいですか。\r\n誰とも　食べたくないです。\r\n\r\n\r\n对于名词+へ+动词的提问，可以用：名词+も/へも+动词否定来表示全盘否定\r\n例：\r\n\r\n\r\nA: どこへ　行きたいですか。\r\nB: どこへも　行きたくないです。\r\n/どこも　行きたくないです。\r\n\r\n\r\n\r\n\r\nで\r\n\r\n「工具」で　「动词」\r\nで可以用来表示手段或者是原料。\r\n例：\r\n\r\n\r\n陳さんは　日本語で　手紙（てがみ）を 書きます。\r\n\r\n\r\n手紙を　速達（そくたつ）で　送りました。\r\n\r\n\r\n昨日、私は　日本語で　日記（にっき）を　書（か）きまんでした。\r\n\r\n\r\n「工具」当然也可以是交通工具，表示乘坐什么交通工具。但是有个特例：当不使用交通工具（步行）时，不用で。在这种情况下，有时会看见这样的句子：\r\n例：\r\n\r\n\r\n李さんは　歩（ある）いて　学校へ　帰りました\r\n\r\n\r\n这里的て是歩く的て型，表示步行与回学校这两个动作连续发生，与这个语法没有关系。\r\n「场所」で　「动词」\r\n在某地做某事\r\n例：\r\n\r\n\r\n今日、どこで　しんぶんを　よみましたか。（今天你在哪里读报纸了？）\r\n\r\n\r\n表示名词的并列\r\n例：\r\n\r\n\r\n李さんは　中国人　で、北京大学の学生です。\r\n\r\n\r\n\r\nへ\r\n\r\n「名词(场所)」へ　「动词」\r\n使用行きます、帰ります等表示移动的词时，移动的目的地用へ表示。\r\n例：\r\n\r\n\r\n昨日、どこへ　行きましたか。\r\n\r\n\r\n\r\n表示这个意思也可以用に\r\n\r\n\r\nと\r\n\r\n「名词(人)」と　「动词」\r\n共同做某事的对象用助词と表示\r\n小野（おの）さん　友達（ともだち）と　帰（かえ）りました。\r\nと表示并列，意思相当于“和”\r\n例：\r\n\r\n\r\n冷蔵庫に　コーラーとケーキが　あります。\r\n\r\n\r\nコーラーとケーキは　冷蔵庫に　あります。\r\n\r\n\r\n比较句中比较的对象\r\n例：\r\n\r\n\r\nコーヒーと　紅茶（こうちゃ）と　どちらが　好きですか。\r\n\r\n\r\n\r\nや\r\n\r\n连接名词，表示和。与と不同在只列举许多中的两，三项，相当于中文中的“呀什么的”。并且常与「など」呼应使用。\r\n例：\r\n\r\n\r\n吉田さんは　時々　中国や　韓国へ　いきます。\r\n私は　お店（みせ）で　野菜（やさい）や　果物（くだもの）などを　買いました。\r\n我在店里买了蔬菜和水果。\r\n\r\n\r\n\r\nを\r\n\r\n「名词」を　「动词」\r\n「を」前的名词表示动作的对象\r\n例：\r\n\r\n\r\n私は　毎日　新聞　を　読（よ）みます。（我每天都看报纸）\r\n\r\n\r\n「名词(场所)」を　「动词」\r\n表示动作经过的场所。常用的动词有：通（とお）ります、渡（わた）ります、過（す）ぎます。\r\n例：\r\n\r\n\r\nこの　バスは　駅前（えきまえ）を　通ります。\r\n\r\n\r\n此外，を与动词：出（で）ます、卒業（そつぎょう）します配合使用时，表示离开的场所。\r\n例：\r\n\r\n\r\n私は　来年　大学を　卒業（そつぎょう）します。\r\n\r\n\r\n\r\nから\r\n\r\n表示时间或地点的起点\r\n「时间」から　「动词」, 表示动作从什么时候开始。\r\n例：\r\n\r\n\r\nわたしは　九時から　5時まで　働（はたら）きます。\r\n\r\n\r\n「名词(场所)」から　「动词」, 与移动动词同时使用，表示移动的起点\r\n例：\r\n\r\n\r\n李さんは　先月（せんげつ）　北京から　来（き）ました。\r\n\r\n\r\n表示原因\r\n例：\r\n\r\n\r\n森さんは　お酒が　好きですから、毎日　飲みます。\r\n\r\n\r\n\r\nまで\r\n\r\n表示时间或地点的终点\r\n「时间」まで　动词, 表示动作到什么时候结束。\r\n例：\r\n\r\n\r\nわたしは　九時から　5時まで　働きます。\r\n\r\n\r\n「名词(场所)」まで　「动词」, 与移动动词同时使用，表示移动的终点\r\n例：\r\n\r\n\r\n李さんは　駅から　北京まで　歩いて　帰りました。\r\n\r\n\r\n\r\nより\r\n\r\n接在表示比较的对象后面表示“比～”\r\n例：\r\n\r\n\r\n李さんは　森さんより　若（わか）いです。(李先生比孙先生年轻。)\r\n\r\n\r\n\r\nほど\r\n\r\n用在比较句中\r\n名1は　名2ほど　一类形くないです/二类形ではありません\r\n表示名1没有名2……\r\n例：\r\n\r\n\r\n佐藤さんは　王さんほど　高くないです(佐藤没有王先生高)\r\n\r\n\r\n\r\n连词\r\n\r\nでも\r\n表示转折关系，一般只用于口语\r\nしかし\r\n表示转折关系，可以用于书面语\r\nそして\r\n表示并列关系的连词\r\n\r\n语气词\r\n\r\n语气词 よ\r\n根据使用场合的不同，可以表示告知，提醒，轻微的警告\r\n例：\r\n\r\n\r\nA: すみません、李さんは　いますか。　\r\nB: もう　帰りましたよ（告知）\r\n\r\n\r\nA: 私は　毎日　ケーキ　たべます　\r\nB: 太(ふと)りますよ（轻微警告）\r\n\r\n\r\nね的用法之一\r\n当说话人就某事征求他人同意时，句尾用ね，读升调。\r\n例：\r\n\r\n\r\nこの　新聞は　林さんのですね。\r\n\r\n\r\n\r\n敬语\r\n句型\r\nhttps://zhuanlan.zhihu.com/p/126689061\r\n存在句\r\n鸽了\r\n比较句\r\n形式1：\r\n名1は　名2より　一类形/二类形です\r\n表示名1比名2更……\r\n例：\r\n\r\n李先生比孙先生年轻。\r\n李さんは　森さんより　若（わか）いです。\r\n\r\n如果程度相差较大，就用「ずっと」加以强调\r\n例：\r\n\r\n中国比日本辽阔的多\r\n中国は　日本より　ずっと　広（ひろ）いです\r\n\r\n形式2：\r\n名1より　名2の　ほうが　一类形/二类形です\r\n表示名2比名1更……\r\n例：\r\n\r\n与日本相比，中国更辽阔\r\n日本より　中国の　ほうが　広（ひろ）いです\r\n\r\n形式3：名1は　名2ほど　一类形くないです/二类形ではありません\r\n表示名1没有名2……\r\n例：\r\n\r\n佐藤没有王先生高\r\n佐藤さんは　王さんほど　高くないです\r\n\r\n形式4：名1の中で　名2が　一番（いちばん）　一类形/二类形です\r\n表示在名1的范围内，名二是最……的。\r\n例：日本料理の中（なか）で　寿司（すし）が　一番（いちばん）　美味（おい）しいです。\r\n注意如果名1是时间或者地点，一般后面不接の中（なか），而是直接用で\r\n例：日本で　一番　高い　山は　富士山（ふじさん）です。\r\n形式5：名1と　名2と　どちらが　一类形/二类形ですか\r\n询问两种事物当中（3种及以上事物不能使用どちら）哪一种更具有该句形容词的性质。\r\n「どちら」是二选一时使用的疑问句。回答时使用“~の　ほうが～”（…更加…）\r\n如果两者程度相当，回答「どちらも　～です」\r\n「どちら」在口语中可以说成「どっち」\r\n例：\r\nコーヒーと　紅茶（こうちゃ）と　どちらが　好きですか。\r\nー　紅茶の　ほうが　好きです。\r\nー　どちらも　好きです。\r\n形式6：どの名 / いつ / どれ / だれ /\r\n何が　一番　一类形/二类形ですか。\r\n询问三种及以上事物当中哪一种更具有该句形容词的性质。根据对象不同，需要使用不同的疑问词。是人则使用「だれが」，是物则使用「どの～が」、「どれが」或「何が」者，是时间则使用「いつが」。\r\n例：这些（料理）中哪一个最美味。\r\nこの中で　どの　料理が　一番　美味しいですか。\r\n如果被选择的事物已见于上下文或存在于眼前，则使用「どの～が」或「どれが」，反之则用「何が」。\r\n杂项\r\n否定\r\n众所周知，「ない」结尾表示否定。\r\n\r\nて形的否定可以用：「なくて」或「ないで」\r\n「ない」可以换成「ず」\r\n例如：叶えられずに　不能实现\r\n「ん」\r\n「知る」　　「知らない」　　「知らん」\r\n「すみません」　　「すまない」　　「すまん」\r\n例外：\r\n「する」　　「せず」\r\n「来る」　　「来こず」\r\n「ぬ」\r\n「知る」　　「知らない」　　「知らぬ」\r\n例外：\r\n「する」　　「せぬ」\r\n「来る」　　「こる」\r\n\r\n杂项\r\n\r\n表示频率的词\r\n\r\n「いつも」：每天都……，总是……、\r\n「よく」：经常……、\r\n「時々（ときどき）」、「たまに」：偶尔、\r\n「あまり」： （不）怎么、\r\n「全然（ぜんぜん）」：完全（不）\r\n\r\n「あまり」、「全然（ぜんぜん）」使用时后面必须接否定形式\r\n例：\r\n\r\n\r\n私は　あまり　アニメお　見ません\r\n\r\n\r\n表示程度的副词\r\n\r\nとても/たいへん　 很，非常\r\nなかなか　很，非常（有超乎想象的意味）\r\nすこし/ちょっと　 一点\r\nあまり+否定（形1，动）　　不太（程度不高）\r\n全然+否定　　　　 根本不\r\n\r\n毎日　何時に　起きますか。（名词A+名词B，如果名词A是每……、则不可以加の）\r\n比如「毎日の七時」是错误用法、但「来週の火曜日」是正确的\r\n一階 读作 いっかい 一 读作 いち　階 读作 かい，合一起 读作\r\nいっかい 　\r\n「~ごろ」表示“…左右”。比如「２時ごろ」表示“两小时左右”\r\n～の件　有关于~的事情\r\nもう\r\n\r\n表示完了，已经\r\n例：\r\n\r\n\r\n昼（ひる）ご飯（はん）お　食べましたか。\r\n\r\n\r\n马上\r\n例：\r\n\r\n\r\n李さん、もう　会社（かいしゃ）を　来（き）ますか\r\n\r\n\r\n\r\nたしか\r\nたしか可以表示“大概，好像”\r\n例：\r\n\r\n\r\nA: あの人は　誰ですか。\r\nB: たしか、王さんです。\r\n\r\n\r\n「いえ」と「うち」\r\n「いえ」と「うち」都表示家。「いえ」指的是作为家的那个建筑（房子），「うち」表示的是家庭。\r\n如果要说“我家”，「うち」本身就有“我家”的意思。但用「いえ」需要用「私の家（いえ）」\r\nお疲れ様でした\r\n意为：您辛苦了。寒暄语\r\n最常见的就是公司下班时，跟同事告别时会说「お疲れ様でした」，意为（结束了一天的工作），您辛苦了。对方也会回以同样的句子。同样地，在下课时，共同做完某件事时都可以说这句话，这一点很好理解。\r\n但日本人在工作当中也会用这句话，比如同事公司里碰面时，看到外出办事的同时回来时，接到公司的内线电话，或者收到内部邮件时，都会先说或者写一句「お疲れ様です」。\r\n学生清晨在学校里遇见，也可以互道「おつかれさまです」\r\n終電\r\n「最終電車（さいしゅうでんしゃ）」的缩写。就是末班车的意思。\r\nご兄弟、ご両親　\r\n表示尊敬，与汉语中令尊，令堂等类似。\r\n方位　名词+の+方位\r\n例：\r\n\r\n\r\n机の　上に　猫が　います。\r\n\r\n\r\n学校は　郵便局の前に　あります。\r\n\r\n\r\nたくさん1\r\n「たくさん」有多种词性，因此也就有多种用法。\r\n看三个例子：\r\n\r\nたくさん の人\r\n会社の別荘も たくさん あります\r\nお説教なんかたくさんだ\r\n\r\n其中，a对应名词词性。用の直接连接名词「人」\r\nb对应的是副词词性。直接修饰动词。「たくさん あります」表示有很多\r\nc对应的是II类形容词词性。意思是“足够了”。\r\nhttps://www.douban.com/note/744066204/\r\n「どんな」と「何の」\r\n「どんな」相当于中文中的“什么样的”。后面加名词。\r\n例：\r\n\r\n\r\nA: 張さんは　どんな　人ですか。\r\nB: 優しい　人です。\r\n\r\n\r\n「何の」有询问内容和材料两种用法。\r\n例：\r\n\r\n\r\nA: 何の　本ですか。 内容\r\nB: 自転車の　ほんです\r\n\r\n\r\nA: 何の　料理（りょうり）ですか。 材料\r\nB: 魚（さかな）の　料理です\r\n\r\n\r\n「どんな」询问性质，「何の」询问内容和材料\r\n「どうですか」と「どうでしたか」\r\n「どうですか」询问对方的意见或感想（现在或未来的事情）。或者是劝诱对方进行某动作。\r\n「どうでしたか」询问对方的意见或感想（过去的事情）。\r\n例：\r\n\r\n\r\nこの　料理は　どうですか。\r\n\r\n\r\n東京は　どうでしたか。\r\n\r\n\r\nA: お茶、どうですか\r\nB: ありがとう　ございます。\r\n\r\n\r\nところで\r\n用来转移话题，类似中文的“话说”\r\n「场所/时间」+中(なか)　表示范围　全~\r\n例：\r\n\r\n\r\n世界中、日本中\r\n\r\n\r\n一日中（いちにち中）\r\n\r\n\r\n～が　いいです\r\n直译就是～比较好。也可以译为我喜欢～。\r\n例：\r\n\r\n\r\n私は　肉より　魚のほうが　いいです\r\n\r\n\r\n「やはり」と「やっぱり」\r\n与推测一致时说的话。相当于中文的“果然”。「やっぱり」是口语用法。\r\nお酒\r\n不同日本人对「お酒」定义不同。我倾向于当成酒的总称。\r\n「じゃない」と「じゃん」\r\n「じゃない」表示否定：不是……\r\n如果句尾加か，读升调，「じゃないか」用反问表示肯定（比较委婉）（也可以只升调不加か）：\r\n例：\r\n\r\n\r\nいいじゃない？ 可以吧？不是挺好的吗？表达的就是挺好的意思。\r\nhttps://zhidao.baidu.com/question/2052699801255170427.html\r\n\r\n\r\nお前 少し甘やかしすぎなんじゃないか？ 你是不是有点太娇纵了？\r\n\r\n\r\nあなた结婚したくなんじゃないの？ 你不是想结婚吗？\r\n\r\n\r\n「じゃん」就是「じゃないか」（注意是反问）\r\n\r\n\r\nいいじゃん 这种表示方法反问的语气可能弱一些，就是不错的意思。\r\n\r\n\r\nあるじゃん　不是有吗\r\n\r\n\r\n疑问词+でも\r\n比如何、いつ、誰+でも\r\n表示在任何情况下都相同，“无论什么”，“无论何时”，“无论是谁”。\r\n例：\r\n\r\n\r\nA: 李さん、何を　食べたいですか。\r\nB: 何でも　いいです。\r\n\r\n\r\n中的读音\r\n今日，明日，今年+中 じゅう\r\n比如「今日中に」\r\n～週、月 ちょう\r\n比如「今週中に（こんしゅうちゅうに）」\r\nぜひ\r\nぜひ表示务必的意思，常与~たい、～てください。\r\n例：\r\n\r\n\r\nお汁粉（おしるこ）？　ぜひ　食べたいです。\r\n\r\n\r\n今度（こんど）　ぜひ　家（いえ）へ　遊びに　来て　ください。\r\n下次一定要来我家玩啊！　\r\n今度同时有这次，下次两个意思。\r\n\r\n\r\n\r\n称谓\r\n\r\n我：\r\n\r\n私（わたし）　我 男女通用\r\nわれ　我 男女通用，古典用法\r\n僕/仆（ぼく）　我 年幼男性用\r\n俺（おれ）　 男用，较粗俗\r\n俺様（おれさま）　本大爷 男用，更粗俗\r\n拙者（せっしゃ）　在下\r\nあたし　我 女用\r\n\r\n你：\r\n\r\n貴方（あなた）　你\r\nあんた　你 日本普通人比较常用，市井语言\r\nおまえ 你 男用，很不尊重。但母亲可以对自己的孩子用\r\nおめ　你 很不尊重的用法\r\n君（きみ）　你\r\nてめえ　你 常用作骂人\r\n貴様（きさま）　你 常用作骂人\r\nおめし　你 古典用法\r\n\r\n他：\r\n\r\n彼（かれ）　他 可作男友一意\r\n彼女（かのじょ）　她 可作女友一意\r\n\r\n称呼：\r\n\r\nさん　表示敬称，客气，美化。相当于汉语的～先生，～小姐，～同学等\r\n様（さま）　表示敬称，恭谦，客套。表达程度高于[さん]。相当于汉语的～大人之意。\r\n方（がた）　用于所尊敬的人名之后，表示复数。如：先生方「各位老师」、皆様方「诸位先生/女士」\r\n君（くん）　主要接在男性的姓名下面。称自己的男性朋友以及上位者称呼下级、晚辈时，相当于汉语的～君、～同学、小～。\r\n～上（うえ）　～大人 古语多指天皇，将军等。现在一般表示长辈。\r\n～ちゃん　多用于称呼年轻女性，小孩，自己家人或关系亲近的人。表达亲近，亲昵，溺爱，喜爱的态度和心情。还可以称谓心爱的小动物。相当于汉语的小～等意。\r\n殿（どの）　常接在人名，职务名称后，用以表示礼仪或敬意。主要见于公关事务的公文和书信中。在私人书信里一般是男性对男性的尊称。比～さま程度略低，而比～さん具古雅，郑重的色彩。相当于汉语的～阁下，～君，～同志。\r\n先生（せんせい）　称呼长者，教师，学者，医生，艺术家，律师等。常接在姓氏，姓名，职务名称后表示敬意。称谓艺术家时多指小说家，画家，漫画家，音乐家和有某种专长的师傅，而对一般演员，歌星并不适用。相当于汉语的～先生，～老师。\r\n\r\n\r\n方位\r\nこれ、それ、あれ、だれ的区别\r\n\r\n首先これ、それ、あれ\r\nこれ表示这个，称离说的人近，听的人远的\r\nそれ表示那个，称离说的人远，听的人近的\r\nあれ表示那个，称离说的人，听的人都远的\r\nだれ表示疑问词，“哪个？”\r\n\r\n誰ですか和何ですか的区别：不知道是什么人用“誰”，不知道是什么东西用“何”。\r\n例句：\r\n\r\nそれは　なんですか。(这是什么东西？)\r\nあの人は　誰ですか。（那个人是谁？）\r\n\r\n答案有多种可能，而询问其中一种时，可以重复使用谓语“ですか”\r\n\r\n中村さん　は　医者ですか、教師ですか、社長ですか。（中村先生是医生？教师？总经理？）\r\n\r\nどなた 比 誰 更礼貌\r\nこれ和この区别\r\n例句：\r\nこれは　私の本です。\r\nこの本は　私のです。\r\nここ/そこ/あそこ　は　Aです。\r\n这里是A。\r\nA　は　どこですか。\r\nA在哪里？\r\n进阶： 使用あります/います取决于A\r\n\r\nA　は　どこに　ありますか。\r\nA　は　どこに　いますか。\r\n前に　既可以表示时间上的前，也可以表示方位上的前\r\n\r\n前日\r\n区分ここ与こちら\r\n\r\nここ与こちら做这里讲时，两者意思相同，こちら是ここ的敬语。\r\nこちら/どちら也可用在人身上\r\n例：\r\n\r\n\r\nこちらこそ（我这边才要（请您多指教），用来回答よろしくお願いします）\r\n\r\n\r\nどちらさまですか。（请问是哪一位？（打电话））\r\n\r\n\r\n\r\n时间\r\n\r\n询问什么时候做什么事\r\nいつ/何時に/何曜日に　动词ますか\r\n例：\r\n\r\n\r\n試験は　いつ　始まりますか。（考试什么时候开始）\r\n\r\n\r\n仕事は　何時に　終わりますか。（工作几点结束？）\r\n\r\n\r\n仕事は　いつから　始まりますか。（工作从几点钟开始？）\r\n\r\n\r\n張さんは　何曜日まで　休みますか。（张先生到星期几休息？）\r\n\r\n\r\n「昨日（きのう）」、「先日（せんじつ）」、「前日（ぜんじつ）」\r\n「昨日」表示的是昨天，也就是今天的前一天。\r\n「先日」表示的是前几天，也就是今天的前几天。\r\n「前日」有两重意思，首先既能表示「先日」，也就是表示的是前几天，也就是今天的前几天。此外，还可以表示的是某个特定的时间点的前一天，比如祭典的前一天。并且这个特定的时间点既可以在过去，比如上周三的祭典的前一天，也可以在将来，比如下周三的祭典的前一天。\r\n\r\n\r\n\r\n一天中的时间\r\n\r\n\r\n\r\n最近（さいきん）\r\n与中文中的最近略有不同。中文中的最近可以表示将来，比如：“我最近要去趟北京”。但日语中的「最近」不能这么用。\r\n\r\n收授\r\n表示收授的动词有「あげる」、「くれる」、「もらう」\r\n「あげます」可以表示给，但在一些场合下不用它。比如问朋友要不要吃吃看这个蛋糕之类的。通常用\r\nこれ　どうぞ　或　どうですか。\r\n\r\n“我给别人”与“别人给我”　「あげます」と「くれます」\r\n「あげます」相当于汉语中的“给”　接收者用助词「に」表示。表示“我方给”\r\n例：\r\n\r\n\r\n私は　陳さんに　お土産　あげます。\r\n\r\n\r\n“我给”与“我得到”　「あげます」と「もらいます」\r\n\r\n「あげます」相当于汉语中的“给”　接收者用助词「に」表示。\r\n表示“我方（我/我的亲人）给”\r\n例：\r\n\r\n\r\n私は　陳さんに　お土産　あげます。\r\n\r\n\r\n「もらいます」表示得到　\r\n赠送者有两种情况：\r\n\r\n如果是人，既可用「に」也可用「から」\r\n如果是\"会社\" 或 \"学校\" 之类的组织或团体时，则一定用 「から」\r\n\r\n例：\r\n\r\n\r\n私は　陳さんに　辞書を　もらいます。\r\n\r\n\r\n私は　学校から　辞書を　もらいます。\r\n\r\n\r\n\r\n\r\nです\r\n\r\n\r\n\r\nです\r\n肯定\r\n否定\r\n\r\n\r\n\r\n\r\n现在\r\nです\r\nではありません\r\n\r\n\r\n过去\r\nでした\r\nではありませんでした\r\n\r\n\r\n\r\n１．AはBです\r\nA是B。\r\n\r\nは：是提示助词，在此读作wa\r\n\r\n例：李さんは　中国人です（李先生是中国人）\r\n２．AはBではありません\r\nA不是B\r\n\r\n在口语中，可以では说成是じゃ\r\n\r\nわだしは　小学生では　ありません（我不是小学生）\r\nか\r\n３．AはBですか\r\nA是B吗？\r\n\r\n助词か在句尾表示疑问。日语问句不用\"？\"\r\n回答时可以只用“はい”或“いいえ”\r\n\r\n例：\r\nあなたは　中国人ですか。（您是中国人吗？）\r\nー　はい、中国人です。（是的，我是中国人）\r\nー　いいえ、中国人ではありません。（不，我不是中国人）\r\nA　は　いくらですか。\r\nA多少钱？\r\n\r\n区分あります（原型ある）/います（原型いる）\r\nあります用于花、草、桌子等不具有意志的事物\r\nいます用于人、动物、昆虫等具有意志的事物\r\n某处有某物\r\n\r\n「场所」に　「物」が　あります/ります\r\n「物」は　「场所」に　あります/ります\r\n使用あります还是います取决于「物」是否具有意志\r\ntag\r\n\r\n何的发音　７\r\n\r\n动词たい\r\nたい本身是助动词，表示语态，与动词一起做谓语。\r\n与ます、た等相同\r\n比如he will go to 北京。will go 就是谓语。\r\nたい表示希望……，想……\r\n常用有したい\r\nし是する的て型，表示做\r\nしたい就是想做\r\n私はパンを食べたい。\r\n","tags":["笔记"]},{"title":"旧手表","url":"/2021/09/05/%E6%97%A7%E6%89%8B%E8%A1%A8/","content":"缺点：\r\nCG位空两个我是真没想到，这设计属实离谱\r\nUI方面的问题：\r\n\r\n日志没被放在菜单中，虽然找一找也能找到，但我觉得没必要这么为难用户\r\n笔记功能直到通关都没用上。一开始探索界面的时候点进去啥都没有，后来推剧情的时候都是选择性的把它忽略了。我觉得可能是学石头门，上面写了一些到目前为止搜集到的信息，但又没像石头门那样收集到时给出提示，所以我一直没注意到。\r\n其他的问题也就是UI设计的不太方便了，没必要单独拿出来说\r\n\r\n游戏本身的问题：\r\n\r\n游戏中有许多没啥用的选项，比如毒气从左边来了，左中右三条通道你走那条？当然也不全都是像这种一点意义没有的选项，但就是太多了，有点影响游戏的连贯性了。尤其是不小心死了又忘了随时存档，要从最近的存档一路快进过去的时候，这些多余的选项实在是影响体验。游戏中一些必死的选项，选了之后能获得一些线索。按道理说既然主角有这个能力，那把这些情报利用起来（从剧情上来说）也是可以的，但实际游玩时就是做不到，这一点挺可惜的（比如选择看新闻可以看到国际形式紧张，但其实如果不看，后面对话的时候还是会认为看过，那这个选项属实没用）。\r\n剧情紧凑（这个多少还能认为是优点），不像一般的作品有大量的日常（这个挺重要的，尤其是结局。主角们虽然最后在一起了，但感觉完全没有什么现实感）。\r\n何玲线中，最后既然都知道要去301所避难，那为什么不最在最开始被空袭时就直接回到当天早上，然后联络何玲前往301所呢？这个问题在夏露线中也有，不过不是那么明显，毕竟只要铲除邪教的大方针在，夏露能活下来的可能性就很低，即便穿回去也没用。这当然可以解释为主角没想到，但我还是觉得何玲线中的剧情确实有些强行了。\r\n梗有点多，有点影响体验。\r\n关于被校长绑走之后的剧情：我不知道该怎么说，首先正常来想，肯定是虚与委蛇，先答应校长合作，再想办法拿回手表的成功律高。然而正确的选项是选不合作。再加上这个选错系统不会提醒重选，而是直接跳到标题界面，再加上我之前的经历，误以为跳到标题界面是因为不是这个选项选错了，而是更早的地方选错了，想了半天要怎么不惊动校长除掉杨教授，结果我就卡关了。\r\n虽然也有夏露线，但夏露待遇属实不如何玲。\r\nCG也要做成差分的吗？尤其是第二页第一张和第八张，除了背景几乎完全一样。\r\n\r\n还有一些参考意见：\r\n\r\n多次反转引起的审美疲劳\r\n男角色立绘相比女角色基本就是糊弄\r\n演出效果不行\r\n挖坑不填\r\n配音问题，但我不是很懂这个，就不提了\r\n\r\n优点：\r\n\r\n虽然也有不行的，但是不少CG和立绘是不错的。\r\n虽然多少有缺陷，但是剧情还是不错。有人提石头门，确实穿梭时空的gal有石头门珠玉在前，以至于见到相似题材，大家第一个肯定先想到石头门，但是看这个定价和体量，就应该知道，这个本来也不是用来对标石头门的作品。不过这个致敬石头门确实有点多了，甚至包括克里斯蒂娜爱喝胡椒博士这种常人难以接受的饮料。玩的时候看见女主角爱喝一种猕猴桃为的常人难以接受的饮料，真的很难不想起石头门，因此被拿来和石头门比较也是一定程度上的自作自受？\r\n音乐的氛围还是不错的，虽然一遍玩下来没有特别觉得好听的，但是也没感觉哪个特别突兀。\r\n\r\n虽然列出来的缺点比优点多了很多，但是总的来说，这还是一部值得好评的作品。一说缺点，谁都明白，毕竟问题确确实实摆在那，但是要说起好来，多半每个人都有自己的理由（steam评论里居然还有个好评是因为自己初恋叫夏露）。如果上面的那些缺点没有太碰到你的雷区，那推荐入手一个（原32，40%off的话很便宜就能入手）亲身体会女主角的可爱之处（这是加分项）。\r\n","tags":["感想"]},{"title":"最小作用量原理与变分","url":"/2025/05/09/%E6%9C%80%E5%B0%8F%E4%BD%9C%E7%94%A8%E9%87%8F%E5%8E%9F%E7%90%86%E4%B8%8E%E5%8F%98%E5%88%86/","content":"以相对论性点粒子作用量为例，使用变分法求其运动方程：\r\n\r\n最小作用量原理告诉我们，系统的演化沿着使得取极值的路径。如何正确理解这一点？\r\n首先，我们可以这样理解作用量：将看作路径的泛函。每给出一条演化的路径，便能通过这一条路径确定一个的值。而最小作用量告诉我们的则是：物理上允许的路径是取极值的路径。\r\n因此，为了形式化的描述这件事，我们给添加一个参数，把它变成。用标记不同路径，用标记同一路径上的不同点。人为规定作用量极小的那条路径取。因此，最小作用量原理可以这样表述：\r\n\r\n即作用量在处的导数为零（作用量在处取极小）。\r\n如果理解了这个定义，那么立刻就能理解一些关于变分的性质是怎么来的，例如变分和求导可以换序：\r\n\r\n说到底无非是求导和求导可以换序。理解了变分是如何定义的，剩下的求运动方程的过程只不过是体力劳动了。\r\n运动方程\r\n我们已知相对论性点粒子的作用量，由最小作用量原理，很容易求得其运动方程。\r\n\r\n为了求的变分，我们当然可以从出发。但我们有更简单的方法。从出发，两侧同时取变分：\r\n\r\n\r\n\r\n想想线元的物理意义：固有时。再结合我们所研究的是自由粒子，因此我们有：\r\n\r\n因此我们最后得到：\r\n\r\n利用分部积分，最后一个结果还可以写作：\r\n\r\n第一项在边界处为零，因此最小作用量原理告诉我们，对任意的，第二项总为零。这只能是。因此，相对论性自由粒子的运动方程为：\r\n\r\n一些总结\r\n场的变分：\r\n","tags":["笔记","物理"]},{"title":"有向无环图上不相交路径的计数-LGV引理","url":"/2021/09/30/%E6%9C%89%E5%90%91%E6%97%A0%E7%8E%AF%E5%9B%BE%E4%B8%8A%E4%B8%8D%E7%9B%B8%E4%BA%A4%E8%B7%AF%E5%BE%84%E7%9A%84%E8%AE%A1%E6%95%B0-LGV%E5%BC%95%E7%90%86/","content":"有向无环图上不相交路径的计数-LGV引理\r\n首先需要注意的是，这里的不相交路径是指两个路径没有公共点。\r\n先来看一个简单的例子：求A1到B1，A2到B2的不相交路径数。\r\n\r\n\r\n\r\n方法是使用容斥定理：用总的路径数减去相交的路径数。多数题目的背景都是在网格图上的路径数，而网格图上的路径数可以通过简单的组合数学得到，那么主要问题就是求相交的路径数。\r\n首先给出结论：相交的路径数就等于A1到B2的路径数乘以A2到B1的路径数。\r\n直观上可以这样理解：在图上取将A1，A2，B1，B2连接在一起的一组边记作T。（其实就是在图上随意取两条相交的路径，“T”是为了下面表达的严谨和方便不过“在图上取将A1，A2，B1，B2连接在一起的一组边记作T”这种说法本身就不太严谨吧233）\r\n\r\n \r\n\r\n图中染红的边构成的集合就是T的一种取法\r\n\r\n\r\n需要注意，边集T只包含了两条路径，但并没有记录A1、A2具体沿什么路径走，甚至边集T都不保证A1到达B1，A2到达B2。具体的说，可能A1通过节点1到达了节点2，A2通过节点2到达节点5，也就是A2的路径在节点1处与A1的路径“相切”。也可能可能A1通过节点1到达了节点5，A2通过节点2到达节点2，也就是A2的路径在节点1处与A1的路径“交叉”。\r\n如果T中的边共有n个公共节点（例子中的公共节点就是节点1和节点3），那么T实际上表示了种不同的路径。这时不妨将T看作是这条路径的集合。。\r\n\r\n这里的是“将A1，A2，B1，B2连接在一起的相交路径”，因此虽然说是1条路径，但严格来说是两条路径。\r\n\r\n这种不同的路径并不保证A1到达B1，A2到达B2。对于来说，只有在偶数（包括0）个点处“交叉”，才能保证A1到达B1、A2到达B2，否则A1会到达B2、A2到达B1。\r\n在n个交点中有偶数个“交叉”的点的共有个。那么A1到达B2、A2到达B1的路径数为种。也就是说，T中的所有具体路径其具体表示的相交路径数和A1到达B2、A2到达B1的路径数是相同的。\r\n以上的分析和计算都是针对单个T的。对于所有可能的T求和，那么相交路径总数就是A1到达B2、A2到达B1的路径总数。这在一些特定情况（比如网格图）中可以直接计算出来。\r\n以上仅仅是直观理解，并不是严谨证明，比如并没有给出T中不仅有公共点，还有公共边的情况。\r\nLGV引理的完整公式很复杂： \r\n但如果只是想要在一些特殊的情况下进行路径计数，那么我们只需要一个简化版的公式。\r\n\r\n具体是在什么样的特殊情况下才能做这样的简化等会再说，现在先来解释一下这个公式。\r\n矩阵M中的元素表示到的路径数。这个公式左边的是对所有的不相交路径求和，并且是对1求和，所以结果就是不相交路径数。因此这个公式的意义就是不相交路径数等于矩阵M的行列式。\r\n那么特殊的情况具体是指什么情况呢？如果想要保证存在不相交的路径，那么起点集合A和终点集合B之间存在唯一的一一对应关系。如果不能接受的话可以回过头来看最原始的公式中的符号都是什么意思[OIWIKI]。只要知道都是什么意思，就很容易理解了。当然也可以直接记住。\r\n如果还没有理解“如果想要保证存在不相交的路径，那么起点集合A和终点集合B之间存在唯一的一一对应关系”这句话，那可以来看例题帮助理解一下：\r\n题目大意：\r\n\r\n在一个建立的笛卡尔坐标系的平面上，处放置着n辆卡车。每辆卡车都必须前往这n个目的地之一。卡车仅能从移动到或。必须保证任意两个卡车移动的路径不相交（没有公共点）。\r\n请问移动卡车的方案数有多少？\r\n\r\n纵坐标较大的卡车一定会移动到横坐标较大的终点，不满足这个性质的不相交移动路径是不存在的。这也就是“如果想要保证存在不相交的路径，那么起点集合A和终点集合B之间存在唯一的一一对应关系”的意思。\r\n如果觉得不能理解这个公式，可以尝试写一个三阶的矩阵M，并将行列式展开。然后用上面容斥的方法理解。想追求严谨也可以看看证明。[传送门]\r\n参考：\r\nhttps://zhuanlan.zhihu.com/p/64482425\r\nhttps://oi-wiki.org/graph/lgv/\r\n","tags":["笔记"]},{"title":"树形DP","url":"/2021/05/04/%E6%A0%91%E5%BD%A2DP/","content":"p1122 最大子树和 子树问题\r\np1352 没有上司的舞会 p2014 选课 树上背包 p2015 二叉苹果树 树上背包\r\nhttps://www.luogu.com.cn/blog/stonejuice/solution-p2015\r\n","tags":["总结","算法"]},{"title":"洛谷p2422 良好的感觉 题解","url":"/2021/06/29/%E6%B4%9B%E8%B0%B7p2422-%E8%89%AF%E5%A5%BD%E7%9A%84%E6%84%9F%E8%A7%89-%E9%A2%98%E8%A7%A3/","content":"\r\n给定一个长为的数组，数组中元素非负，定义数组中某个区间的舒适度为区间中的最小值乘以区间中所有元素的和。求给定数组中最大舒适度。\r\n\r\n首先，第一眼就可以得出的：区间和可以用前缀和维护。\r\n其次，因为数组元素非负。区间越长，那区间和就越大。因此，只要选择了数组中的某个数作为要选择的区间的最小值，那么区间就唯一确定了。\r\n因此就可以考虑这种枚举方案：枚举每一个数组中的元素作为所选区间的最小值。然后就只需要找到以该元素作为最小值的最长区间，然后借助前缀和求该区间和即可。\r\n而找这样的一个区间可以用单调栈。因为确定的是区间的最小值，只要在最小值的左右两侧找到第一个比该最小值小的元素的位置，再往回退一步就是最长区间。\r\n然后用前缀和即可。\r\n","tags":["题解"]},{"title":"线段树求逆序对","url":"/2021/05/03/%E7%BA%BF%E6%AE%B5%E6%A0%91/","content":"权值线段树\r\n普通线段树维护的是数组，以便可以高效的进行区间修改和查询。\r\n权值线段树维护的是数组的桶，可以用来求全局大，求中值在区间中的数的个数。\r\n以数组,为例,建立起来的权值线段树为:\r\n 本质上就是在数组的桶上建立的线段树.\r\n线段树求三元逆序对\r\n\r\n给定一个数组a，求满足，的三元组个数。\r\n\r\n思路：我们可以枚举，然后找下标的左侧有几个大于的数，右侧有几个小于的数。然后两者相乘就是在当前位置时逆序对的个数，枚举所有的然后求和即可。\r\n那么用线段树做这道题就是要维护一个数的左侧有多少大于它的数（右侧同理）。\r\n首先看线段树如何维护： 任给一个集合，用表示值在集合中出现的次数(即数组的桶)，那么表示的就是集合中值的范围在中元素的个数。\r\n1.我们用树状数组维护数组。首先建立一个树状数组，范围是取值范围（如有必要可以离散化）。初始化全为。 2.倒序扫描给定的序列，对于每一个数： (1):在树状数组中查询。\r\n(2):执行树状数组单点修改。因为扫描到，的出现次数增加了一次，而该树状数组维护的正是出现次数，树状数组需要修改。\r\n在这个算法中，扫描到，树状数组中维护的是后面的数据，而就是求范围在到集合中数的个数的\r\n","tags":["算法","数据结构"]},{"title":"片假名","url":"/2022/08/09/%E7%89%87%E5%81%87%E5%90%8D/","content":"下面所有都来自steam上的软件《卡纳卡呐？一起来学假名吧！》。5块钱白菜价，但帮我克服了对日语的初见恐惧，觉得日语也就那样（其实不是的，想也知道，毕竟是门外语）。\r\nカ 长得几乎一样，不用记\r\nイ　イトー 伊藤润二，来自汉字部首单人旁，通常与汉字伊相配。\r\nタ　ウタダ　宇多田　虽然看起来很像夕阳的夕，但实际上来自与多。\r\nウ　来源于宝字盖，通常特指汉字中的宇字。\r\nヒ　朝比奈あさひな　两个ヒ拼在一起就成了比\r\nク　初音はつね未来ミク　源自汉字的久，把平假名く和片假名ク叠一起就是久\r\nミ　み是日本数字三的本土发音，所以和三很像。\r\n上面两个可以一起记。\r\n\r\n回归性原理：39就是ミク！！\r\n\r\nモーリ　毛利小五郎 和片假名的も还挺像的\r\nヌ　ぬ来自汉奴，片假名就是把女字旁去掉了\r\nホロ　上下拼在一起就变成了杏\r\nノ　女忍くノ一　くノ一拼在一起刚好是女字\r\nエロ　「エロマンが先生」\r\nト　ドロー\r\n\r\n俺のターン，ドロー！！\r\n\r\nラ　うんち　ランチ　んとン、ちとチ是两对平假名、片假名，而う、ラ长得很像。然而一个是lanch，一个是shit\r\nコ　ゴゴゴー　荒木常用拟声词\r\nオラ　ムダ 看过jojo的都知道这是什么\r\n下面这四个片假名长得太像了。\r\nソそ　ンん\r\nツつ　シし\r\n经常记不住的：カンタービレ\r\nま　マ\r\nふ フ\r\nけ　ケ\r\nす　ス\r\nマま　ムむ\r\nスす\r\n","tags":["笔记"]},{"title":"组合数学","url":"/2021/06/30/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/","content":"组合数学\r\n基础的排列排列数与组合数\r\n排列组合\r\n个元素的排列数为：  个元素的组合数为： \r\n排列相比于组合的区别是排列有序，组合无序。排列由顺序产生的不同情况有种。因此。\r\n\r\n组合数也可以记作。\r\n二项式系数可以看作是r的k次多项式。\r\n\r\n注意到.因此可以递推求​​相同的组合数.​\r\n此外，形式的组合数也可以递推..\r\n\r\n二项式定理\r\n二项式定理  因为出现在二项式定理中，所以组合数也叫做二项式系数。\r\n广义二项式系数和广义二项式定理\r\n之前说过二项式系数可以看作是r的k次多项式，因为是多项式，所以二项式系数的差分有很简单的形式：。\r\n不断对二项式系数差分，最终下指标会变成0甚至负数，因此我们需要对以及负的下指标定义广义的二项式系数。\r\n整数整数\r\n此外，因为阶乘幂对实数有定义，但是阶乘只对整数有定义，所以不继续将结果中的写成阶乘，这样就可以让二项式系数对一切实数的上指标，整数下指标都有定义。\r\n顺带，。\r\n广义二项式系数对应的广义二项式定理： \r\n对于二项式系数的实数上指标，（至少目前）只需要知道一件事：组合数的许多性质对负的上指标不成立，比如。因此为了方便处理，一般都将其转换为正上指标处理，过程中需要用到公式：\r\n\r\n\r\n要反转上指标，首先写下，然后立即在上下指标处写下k。再从新的上指标处减去原来的上指标，最后再减去1。\r\n\r\n\r\n从二项式定理中可以得出很多有用的恒等式：\r\n在（普通）二项式定理中取：\r\n 在广义二项式定理中取，并反转上指标：  用代替：  在中代入：\r\n，有\r\n，有\r\n，有\r\n组合恒等式\r\n\r\n由二项式定理推出的等\r\n组合数性质\r\n\r\n\r\n考虑该恒等式的组合意义：左侧为从个人中选出个干部，再从个干部中选出个领导，右侧为从个人中先选出个领导，再从剩下的个人中选出个干部。描述的是同一计数过程，因此左右恒等。同时要注意恒等式3为该式的特例（，可以看作）。\r\n帕斯卡恒等式 ​\r\n\r\n考虑一个有个元素的集合，其中有一个元素为。等式左侧表示从集合中选取个元素的方法数。右侧表示该方法数等于：1.如果这个元素中包含元素，这需要在剩下的个元素中再取个。2.如果这个元素中不包含元素，这需要在剩下的个元素中再取​个。\r\n\r\n推论:.\r\n\r\n没必要特意去记(而且还有更一般的形式),只需要知道左侧和式可以用帕斯卡恒等式化简即可.\r\n\r\n范德蒙恒等式 ​\r\n等式两侧描述的都是从含个元素的集合中选个元素的过程。\r\n推论:​.\r\n写成,由范德蒙恒等式即得.\r\n\r\n\r\n组合数前缀和\r\n记.​\r\n在两个方向上都可以递推的求.\r\n\r\n.\r\n.(由帕斯卡恒等式)\r\n\r\n处理组合数求和或者是带阶乘的复杂式子求和时,可以考虑将阶乘化为组合数.首选当然是利用恒等式化简,这时帕斯卡恒等式和范德蒙恒等式以及往往有大用(能将循环变量从多个组合数上变到一个组合数上).\r\n如果没有办法,可以考虑使用组合数前缀和.\r\n  例:求    答案: \r\n顺带一提,如果要求多组不同的可以用莫队做.\r\n多重集上的排列与组合\r\n多项式定理\r\n\r\n其中，​​​​​​​​​为多项式系数。现在考虑这个系数如何计算：\r\n​项表示​的​个括号中一定有​个选择了​这一项，​个选择了​这一项，​个选择了​这一项......选择的方案数即为多项式系数​。\r\n而该选择的方案数可以这样算：先从个括号中选个选择的，再从中选个选择的...最终结果为 \r\n\r\n多重集\r\n多重集是一个允许有重复的集合，若一个多重集中有个，则即为。其中可以取，表示有无穷多个。\r\n无限多重集的排列\r\n。A的一个排列数显然是(每个位置上有种选择，共个位置)。\r\n有限多重集的排列\r\n。中所有元素的排列可以这样算：先从个位置中选个位置放，再从中选个位置放......\r\n由多项式系数的计算方法可知，​​的一个全排列就是​​。有限多重集的排列对应着多项式系数。\r\n此外，有限多重集排列问题也可以用指数生成函数来解决。\r\n例（不同物品放入不同盒子）：将个不同元素放入个不同的盒子（要求每个盒子有个元素）的方案数是多少？\r\n\r\n不同物品放入不同盒子的方案数对应着多项式系数。\r\n例（不同物品放入相同盒子）：将个不同元素放入个相同的盒子（要求每个盒子有个元素）的方案数是多少？\r\n如果将​​​​​​​​个不同元素放入​​​​​​​​个不同的盒子，那么结果就为。为了消除差别（类似排列数与组合数的差别），需要除掉一个​。因此结果为​.​​​​​\r\n注：事实上，像这样的将不同的元素放入相同盒子的问题一般只能给出一个包含第二类斯特林数的和式结果。之所以这个例子能够得到这样的结果是因为要求每个盒子中元素个数相同。\r\n无限多重集的组合\r\n。从A中选个元素的方案数为。\r\n考虑这样一个计数过程：有个位置和个隔板（个隔板将位置分成份）。第个和第个隔板之间的位置数即为选择的个数。\r\n同时无限多重集组合问题等价于不定方程的非负整数解问题，即的组合数与不定方程\r\n 的非负整数解个数相同。\r\n有限多重集的组合\r\n​。求​的一个​​-组合或者是一些无限多重集组合问题的变体（如某个元素只能选择偶数个，某个元素必须选择两个以上等等）虽然有些可以运用一些技巧求解，但一般的解决方法需要一些更高级的计数技巧（生成函数）。\r\n当然,只要有算力,不借助生成函数,有限多重集组合问题也不是解决不了大不了暴力枚举也能解决一切.\r\n方法就是使用容斥原理.具体可以参考OIWiki.\r\n这里还有例题1:CF451E.如果CF上不去可以去洛谷.我在pastebin上贴了《算法竞赛进阶指南》上的代码[传送门].\r\n按设置能存一年.希望一年以后我能记得补.\r\n需要注意的是，有限多重集组合和无限多重集组合产生了区别，是因为在有限多重集中，选择的元素个数可能大于.如果可以保证全部大于等于的话,同样可以用无限多重集组合的方法解决.\r\n把物体放入盒子\r\n许多计数过程都可以等价为把物体放入盒子的过程。物体和盒子都可能是相同的，也可能是不同的。在有限多重集排列那里以及给出了两种情况。\r\n不同物品放入不同盒子\r\n把​​个不同物体放入​​个不同的盒子，使得有​​个物体放入第​​个盒子的方案数为​。\r\n不同物品放入相同盒子\r\n无法给出闭公式，涉及到第二类斯特林数。\r\n相同物体放入相同盒子\r\n无法给出闭公式，涉及到整数划分。\r\n相同物体放入不同盒子\r\n个相同物体放入个不同盒子。等价为无限多重集的组合。方案数为​\r\n整数划分\r\n特殊的数\r\n斯特林数\r\n斯特林子集数（第二类斯特林数）\r\n表示将n元集合划分成k个非空子集的方法数。\r\n递推公式：\r\n考虑n个元素和其中的特殊元素a：\r\n\r\na单独一个子集 \r\na和别的元素一起 \r\n\r\n相加。 \r\n有了斯特林数，就可以回答一些把不同球放入相同盒子的问题。\r\n将n个不同的球放入k个相同的盒子，不允许有空盒 方法数为。\r\n将n个不同的球放入k个相同的盒子，允许有空盒 方法数为。(枚举i为非空盒子数)\r\n如果将斯特林数用在放入不同盒子的问题中，并与之前得到的结果比较，就会得到：\r\n将n个不同的球放入k个不同的盒子，不允许有空盒 方法数为。\r\n将n个不同的球放入k个不同的盒子，允许有空盒 方法数为。\r\n\r\n斯特林轮换数（第一类斯特林数）\r\n表示将n个元素排成k个圆排列（轮换）的方法数。\r\n递推公式：\r\n考虑n个元素和其中的特殊元素a：\r\n\r\na单独一个圆排列 .\r\na与其他元素一起排列 .\r\n\r\na与其他元素一起排列这个需要仔细考虑一下：\r\n\r\nn个元素组成一个圆排列的方案数是。n+1个元素组成一个圆排列的方案数是。也就是说向n个元素中新增一个元素，组成圆排列的方案数是原来的n倍。\r\n而斯特林轮换数并不要求一定组成一个圆排列。假设x个元素构成k个圆排列，每个圆排列中分别有个元素。在x个元素中加入一个新的元素：它可以插入到k个圆排列中的任意一个。根据分类相加，方案数应该是种。\r\n\r\n\r\n\r\n相加。  表示将n个元素排成k个圆排列（轮换）的方法数。也就是是总元素个数为n的，k个不交轮换的方案数。又因为不交轮换之积与排列一一对应，因此对的所有k求和得到的就是排列的总数。 整数\r\n根据观察和归纳，可以得到：  互相带入可以得到一个对所有x成立的二重和式：  右边除了前的系数一定都为0，所以可以得到：\r\n整数\r\n卡特兰数\r\n鸽了\r\n贝尔数\r\n表示元集合的不同划分个数。\r\n伯努利数\r\n求解线性递推关系\r\n一个线性递推公式是形如  的递推公式.当是其为齐次的,否则为非齐次的.\r\n其中,若均为与无关的常数,该公式称为常系数,否则称为非常系数.\r\n线性是指该公式中​项均为一次的.\r\n\r\nps:感兴趣的可以了解一下递推式与差分方程的关系.有些时候搜索递推式找不到资料,可以试试搜索差分方程的资料.比如很难找到非线性递推关系的解法,但非线性差分方程的资料有很多.\r\n\r\n常系数齐次\r\n对于一个齐次递推公式，与之对应的特征方程为.\r\n\r\n当特征方程的个复根两两不同(分别记为).\r\n\r\n数列的通项必然形如  然后带入初值解系数即可.\r\n\r\n当为一个重根.\r\n\r\n将中的替换为即为递推方程解的形式.\r\n常系数非齐次\r\n非齐次方程的解等于齐次方程的解(通解)加上非齐次方程的一个特解.\r\n而非齐次方程的特解我们选择猜一个出来.\r\n\r\n当为的次多项式时,特解往往也是的次多项式.\r\n当时,若为对应特征方程的重特征根,其特解通常为形式,否则特解往往具有形式.\r\n\r\n某些非常系数其次方程\r\n对形如的方程 将变形为 将看作新数列,即可求解.\r\n可变换为线性的方程\r\n对方程  令,做变量代换,即得.\r\n其他类型的方程\r\n其他类型的方程(包括可变换为线性的方程),都推荐使用生成函数求解.\r\n杜教bm算法\r\n神奇的杜教bm算法可以在你给出数列前几项的情况下直接求出线性递推方程的解。但注意只能用于线性的递推方程。板子网上到处都是。\r\n\r\n生成函数\r\n数列的生成函数是无穷级数\r\n\r\n在使用生成函数求解计数问题时，通常将它们考虑成形式幂级数。因此它们被视为代数对象，收敛性问题被忽略了。\r\n生成函数常用来解决有限多重集的组合问题,证明组合恒等式,求解递推公式(特别是递推公式中含有​的).\r\n生成函数基本知识\r\n  定理（幂级数之积）：  也就是说，和的生成函数的积是的卷积,的生成函数。\r\n并且当  ​的生成函数为​和​生成函数之积.\r\n  推论:若是的生成函数,为​​前缀和的生成函数.\r\n一个序列的前缀和可以看作是该序列与序列做卷积.\r\n也就是若,.而两序列卷积的生成函数就是两序列生成函数的乘积.\r\n的生成函数为.所以前缀和的生成函数是.\r\n普通生成函数与多重集组合\r\n之前提到过多重集组合问题的一些有约束条件的变体，其一般的做法需要用到生成函数。给一个现实的例子:\r\n\r\n小明带着16个朋友去家里做客,他要为他们(包括自己)拿饮料,其中两个人要可乐,三个人要雪碧,4个人要七喜,剩下的说喝这三种饮料的任意一种都可以.他打开冰箱,发现家里的可乐还剩5瓶,雪碧还剩6瓶,七喜还剩7瓶.请问共有多少种不同的拿饮料方案?\r\n(PS:小明只在乎他家的饮料,所以对他来说,两种方案不同当且仅当拿某种饮料的瓶数不同.也就是说,不考虑他选择饮料后如何分给朋友)\r\n\r\n这种问题与不定方程的解的个数是等价的。下面给出一个例子：\r\n例：求  的解的个数。其中。\r\n考虑这个问题的生成函数,因为可以看成，其中满足。所以生成函数为。该问题的解为将生成函数展开后项前面的系数。\r\n生成函数能够用来解决带约束条件的有限多重集组合问题。\r\n例题：\r\n\r\n(2021杭电多校7 1004 Link with Balls)\r\n共个装有球的桶.能够从第个奇数桶中取个球(为任意自然数),能从第个偶数桶中取不超过个球.现在要取恰好个球.求取球的方案数.\r\n两个方案不同当且仅当至少存在一个桶,两个方案从这个桶中取出数量不同的球.\r\n\r\n显然是一个(加限制的)多重集组合问题.\r\n分别对奇数桶和偶数桶进行考虑,可以按照上面的方法直接写出生成函数.\r\n 前面一半来自于奇数桶,后面一半来自于偶数桶.\r\n由  可化简为:  将展成幂级数,项的系数就是答案.当然想要将直接展出来并不是件很容易的事.但是对于的分母: \r\n\r\n还记得我们是在广义二项式系数那里推导过它的展开形式吗?​​型的幂级数展开还挺常用的,可以记一下(起码记一下可以有公式可以直接展开).\r\n但是要注意不要与的记混了。\r\n\r\n因此  项的系数就是。\r\n\r\n当然,如果不知道如何展开,这道题也是可以做的.\r\n应该都知道平方差,立方差公式.事实上,对于一般的,有  因此, \r\n\r\n这里是又将个展开了.​\r\n\r\n然后考虑求的系数.\r\n首先肯定要枚举从第一个括号中取​的情况.只需要求第二个括号中的系数即可.\r\n而这等价于一个多重集组合问题(或者是​的非负整数解个数).也就是的系数即为.\r\n注意对的大小关系进行讨论:\r\n 对于的情况,可将写成.然后使用帕斯卡恒等式,可得.\r\n对于的情况,当,可通过加项减项补上一个.然后使用帕斯卡恒等式,可得.当​时,可通过加项减项补上一个,.\r\n\r\n其实这道题还有一个比较逆天的思路:生成函数有一个重要结论:若​是​的生成函数,​为​前缀和的生成函数.因此,​是序列​(共​个,后面都是)的​次前缀和的生成函数。\r\n因此只要推出了这个序列的​次前缀和的公式,就解决了这个问题.这个方法正确性肯定没问题,推一推应该也能得到这个公式(大概).就是想法比较反人类(但这其实是我看到这个生成函数的第一思路233).\r\n\r\n从这道题里,生成函数的威力可见一斑.但是生成函数虽然好用,却也不是万能的.之前我们提到一些有限多重集组合问题也可以用容斥原理解决[传送门],并且贴了一道例题.生成函数可以解决那道例题吗?\r\n答案是:可以,但在那道例题上,相比起容斥原理,生成函数并没有什么优势.\r\n写出那道题的生成函数  暴力将前面的​​​项连乘展开,展开后最多​​​​项.\r\n枚举展开后的项的系数,其对答案的贡献就是.\r\n最后,由于​的规模,导致我们不能暴力处理组合数,还需要进行变形.总之,(我个人认为)难度并不比二进制枚举子集再容斥简单而且枚举子集再容斥有板子.\r\n结论：\r\n\r\n.  而可借助求出.\r\n若是的生成函数,是的生成函数.\r\n若是的生成函数,为前缀和的生成函数.\r\n\r\n\r\n求解递推式\r\n以斐波那契数列为例：  利用 Kronecker delta\r\n可以把这个递推式写成更方便我们求生成函数的形式：  数列的生成函数为：\r\n 因此，生成函数满足：\r\n 其中。\r\n将展开成幂级数：  因此，斐波那契数列的通项为：  其中。\r\n对称意义下的计数问题\r\n利用群的理念\r\n我们知道群就是用来描述和研究对称性的工具，因此在涉及到对称的问题中使用群是个好的想法。\r\n既然已经确定了要使用群作为工具，那么要使用的是什么群呢？当然是染色对象的对称群。\r\n两个染色在对称意义下相同，也就是说，在对称的意义下，两个染色是等价的。\r\n因此，要计算对称意义下互不相同的染色方案数，就是求将对称群（严格来说应该是与对称群同构的变换群？）作用在染色方案的集合上后有多少种染色方案不能相互转化。\r\nBurnside引理\r\nPolya计数定理\r\n鸽了\r\n","tags":["笔记","数学"]},{"title":"编码转换","url":"/2025/05/05/%E7%BC%96%E7%A0%81%E8%BD%AC%E6%8D%A2/","content":"\r\n首先需要明确一点，python中的字符串本身没有编码的概念。编码是从文件输入或者输出到文件才需要的东西。\r\n归根到底是因为，文件本身只是二进制数据，需要一种解释它的方式。不同的编码就是不同的解释方式。\r\n二进制数据解码得到字符串，字符串编码得到二进制数据。\r\n\r\n想转换文本的编码怎么做？\r\n\r\n首先，编码是文件的属性，因此应该在文件上下手：\r\n比如如果已知原文件是 Shift JIS 编码，想把它换成 utf-8\r\n编码，就需要这样两个文件。从 source 中读，然后写进\r\ntarget，这样就会使内容变成 utf-8 编码了。\r\nsource = open(\"S.txt\", \"r\", encoding=\"shiftjis\")target = open(\"T.txt\", \"w+\", encoding=\"utf-8\")\r\n那有没有不用第二个文件的方法呢？比如从第一个文件中读取，转换编码后再写回第一个文件中？也不是不行，但我想先说下面这个方法是不行的。因为之前我们说过编码不是字符串的属性，字符串是没有编码的。我们倒是可以把一个字符串编码成二进制数据，再进行解码，但这是不能帮助我们转换的，比如下面的代码，是错误的：\r\nsource = open(\"S.txt\", \"r\", encoding=\"shiftjis\")text = source.readline()text.encode(\"shiftjis\").decode(\"utf-8\")\r\n仔细想想，编码成 shift JIS\r\n的二进制数据只有用正确的方法才能解读，也就是用 shift JIS 解码。如果你用\r\nutf-8 解码，python 只会报错说某个字符在 utf-8\r\n中是没法解码的。如果你硬要忽略错误，那更是重量级，你不仅文本乱码了，还丢失了一堆无法解码的信息。\r\n那么可以的做法是什么呢？就是以二进制模式打开文件，把字符串编码成二进制再用二进制形式写回去。\r\n\r\n","tags":["笔记","计算机"]},{"title":"自动微分法","url":"/2022/04/25/%E8%87%AA%E5%8A%A8%E5%BE%AE%E5%88%86%E6%B3%95/","content":"前言：现在是2022年4月25日星期日。明天（或者说今天？）就恢复线下上课了（很奇妙，开学九周上了一周线下课，终于要在第十周再次恢复线下了），并且周二还有电动力学考试。\r\n刚才拿起手机看了眼知乎，看见这样一个问题：自动微分法是如何用C++实现的？\r\n正巧这学期想学C++模板元编程，我认为实现一个自动微分法是一个很好的练习。\r\n本文记录我这个练习的进展以及踩到的坑。\r\n当然，我只是一个模板元编程的初学者，所以这篇文章大概率会跟着模板元编程的笔记一起更新。\r\n"},{"title":"读《逆向工程核心原理》时遇到的问题及部分问题解决办法","url":"/2022/08/26/%E8%AF%BB%E3%80%8A%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%E3%80%8B%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E9%83%A8%E5%88%86%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/","content":"不定期更新。我自己也还在看，遇到什么问题都会往上写。\r\n想要交流欢迎发邮件co27ti22physical@gmail.com :D\r\n第二部分 PE文件格式\r\n\r\nQ：现在都64位Win10普及了，我上哪找32位WinXP的记事本啊？\r\nA：可以考虑装一个WinXP的虚拟机，不过更方便的是随书附赠的代码和例程中就有WinXP的记事本，可以在[传送门]处下载。\r\n\r\n说装一个32位WinXP的虚拟机不是在开玩笑，装一个真的会方便一些。这样出问题时起码就能排除系统环境不同的造成可能性了。\r\n\r\nQ：PEView哪里下载？感觉没有靠谱的地方下载。\r\nA：这个我也没找到哪能下载。搜出来的下载站看着就不放心。希望有好心人能发我一份。\r\n\r\n据说PEView对64位支持很不好，因此你也可以抱着吃不着葡萄说葡萄酸的思想放弃PE_View。:D\r\nPEView并非是不可替代的（我觉得）。可以考虑用书中第18章介绍的工具Stud_PE。可以在[传送门]处下载。\r\n\r\nQ：UPack哪里下载？\r\nA：可以去看作者本人发在看雪论坛上的帖子，那里有下载链接。如果点击链接没法下载可以试试\r\n右键-复制链接地址 然后粘贴到一些下载器中下载。\r\n\r\n第三部分 DLL注入\r\n先说结论，以下大部分问题都是由64位操作系统以及管理员权限引起的。\r\n\r\nQ：打开HookMain.exe之后记事本直接卡死\r\nA：是否是在使用64位系统？考虑使用C:64目录下的32位记事本。\r\n\r\n主要问题在于32位DLL不能注入64位进程，64位系统大多数进程都是64位的，因此下面的问题。\r\n\r\nQ：无法在Ollydbg的Attach列表中找到记事本\r\nA：我也不知道为啥。如果有好心人知道请告诉我。\r\nQ：打开HookMain.exe之后，各种程序总是不明卡死。\r\nA：书上的原理介绍：“安装好键盘‘钩子’之后，无论哪个进程，只要发生键盘输入事件，OS就会强制将KeyHook.dll注入相应进程……”。因此，使用64位系统运行HookMain.exe时不能贸然动键盘，得是32位的进程窗口才不会卡死。\r\n\r\n甚至你会发现Alt+Tab切窗口也不行，因为切窗口的那个窗口会卡死。\r\n\r\nQ：直接运行记事本时运行HookMain.exe能钩取键盘消息，也能注入DLL，但在Ollydbg中运行记事本时运行HookMain.exe无法Hook键盘消息，也无法注入DLL。\r\nA：检查是否是在用管理员权限运行Ollydbg。可以尝试不用管理员权限运行Ollydbg试试，或者用管理员权限运行HookMain.exe。\r\n\r\n虽然不明白原理，不过经我测试，在管理员权限下运行HookMain.exe，无论目标进程是否是以管理员权限运行都可以Hook键盘消息，也都可以注入DLL。但是不以管理员权限运行时只能向同样没有以管理员权限运行的进程中注入DLL。\r\n\r\nQ：在Process\r\nExplorer中查看Ollydbg（及其打开的记事本）显示拒绝访问，也没法看见进程的DLL。\r\nA：是否是在用管理员权限运行Ollydbg？尝试用管理员权限运行Process\r\nExplorer。\r\n\r\n\r\n","tags":["总结","逆向"]},{"title":"高阶差分","url":"/2021/10/05/%E9%AB%98%E9%98%B6%E5%B7%AE%E5%88%86/","content":"高阶差分\r\n函数在点处的差分是：\r\n\r\n一般来说，n阶差分是  可以通过算子给出一个很简单的证明。\r\n定义算子  因此，之间有关系：。\r\n应用二项式定理： \r\n牛顿级数\r\n设  是任意一个d次多项式。\r\n因为通常幂可以表示为下降幂的和，所以可以写成：  对于，设。那么：\r\n\r\n从而，任意多项式都可以表示成二项式系数的倍数和。这样的展开称为的牛顿级数。\r\n现在的问题就是，如何求出牛顿级数中的系数?\r\n对的牛顿级数做次差分。  现在令，那么右边所有的项都是，除了满足的项之外，。从而  反过来讲，也就是。\r\n于是，的牛顿级数是 \r\n\r\n有限微积分中的牛顿级数对应无限微积分中的泰勒级数。 \r\n\r\n，\r\n\r\n需要注意的是牛顿级数的收敛性问题。当或是正整数的情况下，牛顿级数都是有限的，自然不用考虑收敛性的问题，但是在其他情况下，牛顿级数可能并不收敛。而且当x不是非负整数时，即便牛顿级数收敛，也有可能并不收敛到。\r\n应用\r\n应用1\r\n对1/x做n阶差分。因为。所以高阶差分很容易求。\r\n 作用？……可能是给出了的部分分式展开吧。\r\n应用2\r\n对牛顿级数的系数使用可以得到重要的恒等式：  也可以将最后的结果写成这样使它更具有迷惑性(因为后面的都为)： \r\n因为多项式总可以写成牛顿级数，。\r\n所以 \r\n应用：\r\n例如用来证明 整数 只要注意到是一个多项式，然后应用上面的结论即可。\r\n","tags":["笔记"]},{"title":"弦论第一课（1）：相对论性点粒子","url":"/2025/05/17/%E5%BC%A6%E8%AE%BA%E7%AC%AC%E4%B8%80%E8%AF%BE%EF%BC%881%EF%BC%89%EF%BC%9A%E7%9B%B8%E5%AF%B9%E8%AE%BA%E6%80%A7%E7%82%B9%E7%B2%92%E5%AD%90/","content":"为了表述系统的动力学，我们可以写出运动方程，或者写出作用量。在相对论性点粒子的情况下，我们很容易写出运动方程。但作用量兼顾物理与几何，它本身就值得追求。更重要的是，虽然我们很难猜出相对论性弦的运动方程，但它的作用量是相对论性点粒子作用量的自然推广。最后一节我们将讨论带电荷的相对论性点粒子。\r\n相对论性点粒子作用量\r\n此处我们关注质量的自由粒子。我们先从一些量纲上的讨论开始。\r\n对任意动力学系统，其作用量由拉氏量对时间的积分得到。由于拉氏量带能量量纲，因此作用量的量纲为能量乘时间：\r\n 值得注意的是作用量与带有相同的量纲。\r\n非相对论性自由粒子的作用量由动能对时间的积分给出：  运动方程由哈密顿原理得到： \r\n那么相对论性的粒子呢？我们唯一能构造出的洛伦兹不变量为粒子的世界线线长。结合量纲考虑，一个合适的作用量或许是：\r\n\r\n其中。为了验证这个作用量是否合理，我们先来看看非相对论极限。先把写成一个我们更熟悉的形式：  与其去看非相对论粒子的作用量，不如直接看其拉氏量： \r\n抛开一个无关紧要的常数不谈，这确实就是我们熟悉的非相对论自由粒子拉氏量（动能减势能）。\r\n重参数化不变\r\n我们用一条参数曲线去描述粒子的世界线： \r\n我们在上一节提到，点粒子的作用量应该是一个洛伦兹不变量（世界线线长）。这依赖于世界线的几何，但不应该依赖于我们参数化世界线的方式。也就是说，我们的作用量应该在参数从变为的重参数化变换下不变。\r\n而我们的作用量也确实如此。这很好证明：  利用上式，作用量变为：\r\n\r\n在到的重参数化变换下：  因此： \r\n运动方程\r\n我们已知相对论性点粒子的作用量，由最小作用量原理，很容易求得其运动方程。  为了求的变分，我们当然可以从出发。但我们有更简单的方法。从出发，两侧同时取变分：\r\n\r\n\r\n\r\n想想线元的物理意义：固有时。再结合我们所研究的是自由粒子，因此我们有：\r\n\r\n\r\n注意我们现在还不知道自由粒子的运动方程。因此原则上是依赖世界线参数的。直到求出运动方程，我们发现确实不依赖于世界线参数（时间），与我们预期一致。即此处（包括下式中的积分）中的都应认为是（或）\r\n\r\n因此我们最后得到：  利用分部积分，最后一个结果还可以写作：  第一项在边界处为零，因此最小作用量原理告诉我们，对任意的，第二项总为零。这只能是。因此，相对论性自由粒子的运动方程为：\r\n\r\n带电相对论性粒子\r\n四维洛伦兹力为： \r\n为了写出电磁场与点粒子耦合的拉氏量，我们观察该公式：其暗示了拉氏量中应该出现粒子的4-速度。而拉氏量是一个标量，因此我们需要一个能表示电磁场的，只有一个指标的量出现在耦合中。一个自然的猜测是矢势。因此，我们猜测作用量的相互作用项应该是：\r\n\r\n\r\nrmk：点粒子的世界线是一个一维空间，因此以洛伦兹不变的形式与点粒子耦合的场应该是具有一个指标的。而弦扫过的世界面是二维的，我们将看到它自然的与带两个洛伦兹指标的场耦合。\r\n\r\n我们只处理这一项的变分：  我们先考虑其中红色一项。其中的为：  因此：  再处理蓝色一项： \r\n使用高斯定理，全微分项的积分变成表面项，最后为零。因此，整个耦合项的变分为：\r\n 对其中第一项做指标对换，第一项中的就变成。我们将其与第二项中的一起提出去：  我们观察到其中还可以再提出一个的因子，剩下的就是电磁场张量。把这一部分的变分和自由相对论性点粒子作用量的变分相加，就给出了四维的洛伦兹力公式。\r\n","tags":["笔记","物理","弦论第一课"]},{"title":"弦论第一课（2）：相对论性弦","url":"/2025/05/17/%E5%BC%A6%E8%AE%BA%E7%AC%AC%E4%B8%80%E8%AF%BE%EF%BC%882%EF%BC%89%EF%BC%9A%E7%9B%B8%E5%AF%B9%E8%AE%BA%E6%80%A7%E5%BC%A6/","content":"\r\n空间曲面的面积泛函\r\n将中的二维曲面用参数化：  \r\n考虑如何表示曲面上的一个小面元，即表示出和。首先明确一点，即记号问题：这个平行四边形小面元的四个顶点，分别是。\r\n那么先看如何表示。首先，应该是：  将在处泰勒展开到一阶：  因此，精确到一阶：  同理可得。总之和的关系为：  而面元的表达式则是：  利用我们刚才得到的和的关系：  整个曲面的面积为： \r\n面积的重参数化不变性\r\n给定曲面上的切矢，用表示它的长度：  将用参数表示：  因此，变为：  引入度规：\r\n 因此可以表示为：。  定义度规的行列式，我们可以把曲面面积写成：\r\n\r\n时空曲面的面积泛函\r\n我们进一步考虑我们真正感兴趣的情况：一个时空曲面的面积泛函。一个时空曲面，也就是一条弦扫过的世界面，并非与空间曲面完全不同，例如它仍可以用两个参数去参数化，不过这次我们使用参数。\r\n我们考虑嵌入中的时空曲面。时空坐标为。因此曲面由以下映射描述：\r\n 只不过由于弦论惯例，我们以后将用大写字母表示这个映射： \r\n\r\nrmk1.\r\n使用大写字母表示这个映射的好处在于：我们用了不同的几何表示世界面上的坐标和时空坐标。因此，我们在不需要明确指明参数的情况下可以丢掉参数只写去指代世界面上的坐标，而不至于与时空坐标产生混淆。我们将把称作弦坐标。\r\nrmk2.\r\n术语上，物理学家会把一个时空曲面，即把一条弦在时空中扫过的面积叫做世界面。但考虑到世界面由映射描述，在映射下，全体被映射到世界面上的参数构成一个参数空间。有些人可能这个参数空间也称作世界面。\r\n\r\n\r\n接下来让我们先考虑一根开弦，其世界面如下图：\r\n\r\n\r\nimage-20250513031901975\r\n\r\n左侧是参数空间的世界面，右侧是时空中的世界面。注意在参数空间中，处于有限区间内，而无限延伸。因为我们大致上会让参数与时间相关，而让与沿弦的位置有关。\r\n因此，弦的端点处为常数，即弦的端点在世界面上仅由参数化，而随着流动，时间也流动。因此，至少在端点处：\r\n 并且我们将假设这不仅对弦端点成立，也对为其他值的点也成立。\r\n\r\n我不理解这为何会作为一个假设出现。如果说我们要求“参数与时间相关”，那么即便有重参数化的任意性，我觉得它也应该对弦上的任意一点成立，只要弦坐标随着时间演化。\r\n是否只要做些物理上合理的假设，比如弦坐标随着时间演化等，我们就能把作为定理证明出来？\r\n\r\n\r\n我们可以仿照处理空间曲面的方法，得到时空曲面的面元： \r\n其中的内积是相对论性的内积，以保证整个面元洛伦兹不变。需要注意到的是根号下的部分与空间曲面的情况相比差一个负号，这是因为在时空的情况下是负的。我们当然可以证明这一点，不过证明起来比较弯弯绕，我们还需要一点前置知识，因此我们先来讨论世界面的局部特性（即世界面上切矢的特性）。\r\n先说答案：正常来说，世界面上任一点上都应包含类时和类空的切矢，或者说切空间可以由类时和类空作为基矢。但这是正常情况。不正常的情况是：固定时间，得到世界面上的一条弦，这条弦上可能包含一些特殊点。在这些特殊点上，世界面上的切矢不包含类时矢量。我们将看到这种情况对应于弦上的这一点以光速运动。\r\n我们考虑一个最简单的情况，即沿方向伸直的一条弦，以光速向方向运动。弦上（或者更准确应该说，世界面上）每一点上的切矢全部都是类空的，唯有一条切矢是类光的，没有类时切矢。\r\n如果你对此有疑问，可以看下面我画的这张三维时空图（我认为比书上的二维图要好懂）：\r\n\r\n首先在时，弦沿轴伸直。之间的关系是最简单的，显然类空。在某一时刻，弦运动到，是类光间隔，而是类空间隔。如果你不信，你可以算算看：设。算出（或者小于零，取决于你使用的号差），即类光。最后点运动到点。我们可以看出在整个世界面上，仅上的点与点具有类光间隔。其他点与之间均为类空间隔。\r\n总之：世界面上任一点上都应包含类时和类空的切矢，否则便是非物理的。\r\n\r\n为什么世界面上的每一点都需要一个类时切矢？\r\n首先考虑点粒子的世界线：世界线切矢必须类时，因为每条切矢都可以描述一个看到该点粒子静止的洛伦兹观者。如果世界线具有类空切矢，则这条世界线描述了一个运动速度超过光速的粒子。\r\n而弦要稍微微妙一点，因为我们无法判断弦上每一点是如何运动的（除了弦的端点）。但世界面在弦上一点处的类时切矢仍能描述一个洛伦兹观者，它看到弦上这一点静止。如果我们找到了一条类时切矢，那么根据连续性，实际上会有很多类时切矢。每一条类时切矢都定义了一个不同洛伦兹观者，它看到弦上这一点静止（By\r\nthe\r\nway，这与我们无法明确区分弦上点的运动是一致的：不同的洛伦兹观者将看到弦上的点在世界面上沿不同方向运动）。\r\n对于间隔很短的两个时刻和，我们无法区分时刻的弦上的点去了时刻的弦上的哪一点。我们只能要求：对于时刻的弦上的每一点，我们都能在时刻的弦上找到某一点，其可以以小于等于的速度到达点。\r\n\r\n接下来我们根据“世界面上任一点都应该存在类时切矢和类空切矢”，来证明：\r\n 证明：\r\n考虑点处的切矢集合：  其中是参数。矢量的缩放对于确定其类时还是类空没有影响，因此从变化到，我们将得到点的所有切矢。\r\n为了确定类时还是类空，考虑它的平方：\r\n 右式中的内积只是一个数，因此右式整个是的一个二次函数。由于点必须包含类时切矢和类空切矢，因此必须同时包含正值和负值，即必须有两个实根，即判别式大于零。\r\n 证毕。\r\n\r\nrmk：这是否说明弦与点粒子有一处非常不同的地方？\r\n判别式大于零，即同时具有正、负、零值。即便抛开大于光速的、非物理的部分不谈，这也说明在一些观者看来，弦在点处以小于光速运动，而某些观者可能认为弦在以光速运动（说法不严格，对于类光线如何定义观者？）。\r\n这与点粒子的情况是完全不同的：对于一个无质量粒子，所有观者都会认为它是在光速运动。而对于一个亚光速运动的有质量粒子，虽然每个观者看到的速度各不相同，但没有一个观者会认为有质量粒子在以光速运动。\r\n这是由于弦的结构导致弦局部的运动状态无法唯一确定？\r\n\r\n最后我们再来讨论一下世界面上一点处所有切矢都类空，只有一条切矢类光的情况。在这种情况下，我们得到只能有一个实根，即判别式等于零：\r\n 而弦在点处的任何可能的运动都是由点处切矢给出的。处所有切矢都类空，只有一条切矢类光，而沿类空切矢的运动是非物理的，因此弦在这一点只能沿类光切矢光速运动。\r\n南部-后藤作用量\r\n仿照点粒子，我们去写相对论性弦的作用量。作用量应该正比于世界面面积，剩下的只需要乘上一些量来调整量纲：\r\n 通过一些简单的量纲上的考虑，我们得知作用量应该形如：  其中的量纲为力，我们认为这是弦上的张力。我们会在后面几节弦上的张力进行讨论。我们还引入了记号：\r\n 我们在前面已经讨论过面积是重参数化不变的，因此这里的自然也是。为了能更容易看出中的重参数化不变性，我们稍微将其改写一下。仿照之前的过程：\r\n 定义世界面上的诱导度规：  诱导度规显式写出来就是：\r\n 作用量变为：  这与我们之前对面积的处理过程完全相同。\r\n\r\nrmk：除了更明显的重参数化不变性以外，在这种形式中，人们可以很容易地推广南部-后藤作用量来描述比弦具有更多维度的对象的动力学。这种作用量可以作为\r\nD-膜 动力学的第一近似。\r\n\r\n运动方程，边界条件，以及 D-膜\r\n\r\n因此：  因此，要求了对于任意：  以及：  中的全导数项的积分我们指定的边界条件有关。而给出了相对论性弦的运动方程。我们记：\r\n 则给出了：\r\n 这与非相对论性弦的运动方程相同。接下来我们具体看看具体都是什么，首先它们的定义是。为了得到它的具体形式，我们需要用中的拉氏量对和求导： \r\n\r\n因此为：  同理可得： \r\n","tags":["笔记","物理","弦论第一课"]}]